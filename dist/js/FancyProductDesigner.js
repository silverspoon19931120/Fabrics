(()=>{var e={156:()=>{var e;fabric.Canvas.prototype.historyProcessing=!0,fabric.Canvas.prototype.initialize=(e=fabric.Canvas.prototype.initialize,function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.call(this,...n),this._historyInit(),this}),fabric.Canvas.prototype.dispose=function(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.call(this,...n),this._historyDispose(),this}}(fabric.Canvas.prototype.dispose),fabric.Canvas.prototype._historyNext=function(){let e={version:fabric.version,objects:this.getElementsJSON(!1,!1)};return e.objects.forEach((e=>{e.curved&&delete e.path})),JSON.stringify(e)},fabric.Canvas.prototype._historyEvents=function(){return{elementAdd:this.historySaveAction,elementRemove:this.historySaveAction,"object:modified":this.historySaveAction}},fabric.Canvas.prototype._historyInit=function(){this.historyUndo=[],this.historyRedo=[],this.historyNextState=this._historyNext(),this.on(this._historyEvents())},fabric.Canvas.prototype._historyDispose=function(){this.off(this._historyEvents())},fabric.Canvas.prototype.historySaveAction=function(){if(this.historyProcessing)return;const e=this.historyNextState;this.isCustomized=this.initialElementsLoaded,this.historyUndo.push(e),this.historyNextState=this._historyNext(),this.fire("history:append",{json:e})},fabric.Canvas.prototype.undo=function(e){this.historyProcessing=!0,this.deselectElement();const t=this.historyUndo.pop();t?(this.historyRedo.push(this._historyNext()),this.historyNextState=t,this._loadHistory(t,"history:undo",e)):this.historyProcessing=!1},fabric.Canvas.prototype.redo=function(e){this.historyProcessing=!0,this.deselectElement();const t=this.historyRedo.pop();t?(this.historyUndo.push(this._historyNext()),this.historyNextState=t,this._loadHistory(t,"history:redo",e)):this.historyProcessing=!1},fabric.Canvas.prototype._loadHistory=function(e,t,n){"string"==typeof e&&(e=JSON.parse(e)),this.clear(),this.addElements(e.objects,(()=>{this.fire(t),this.historyProcessing=!1,n&&"function"==typeof n&&n()}))},fabric.Canvas.prototype.clearHistory=function(){this.historyUndo=[],this.historyRedo=[],this.fire("history:clear")},fabric.Canvas.prototype.onHistory=function(){this.historyProcessing=!1,this.historySaveAction()},fabric.Canvas.prototype.offHistory=function(){this.historyProcessing=!0}},382:function(){var e=this;const t=function(t,n,i,a,s,o){let r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:8,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:8;a=a||{};let c=e.sizeX||a.cornerSize||s.cornerSize,d=e.sizeY||a.cornerSize||s.cornerSize,p=c/2,h=d/2;const u=.6*c,f=s.cornerIconColor||"#000000";t.save(),t.translate(n,i),t.rotate(fabric.util.degreesToRadians(s.angle)),t.fillStyle=a.cornerColor||s.cornerColor,t.beginPath(),t.roundRect?t.roundRect(-p+r,-h+l,c,d,4):t.rect(-p+r,-h+l,c,d),t.filter="drop-shadow(0px 0px 2px rgba(0,0,0, 0.3))",t.fill(),t.font=u+"px FontFPD",t.fillStyle=f,t.textAlign="left",t.textBaseline="top",t.filter="none",t.fillText(o,-.5*u+r,-.5*u+l),t.restore()},n=(e,t,n,i,a)=>{i=i||{},e.save(),e.translate(t,n),e.rotate(fabric.util.degreesToRadians(a.angle)),e.fillStyle=i.cornerColor||a.cornerColor,e.beginPath(),e.roundRect?e.roundRect(-3,-7.5,6,15,4):e.rect(-3,-7.5,6,15),e.filter="drop-shadow(0px 0px 2px rgba(0,0,0, 0.3))",e.fill(),e.restore()},i=(e,t,n,i,a)=>{i=i||{},e.save(),e.translate(t,n),e.rotate(fabric.util.degreesToRadians(a.angle)),e.fillStyle=i.cornerColor||a.cornerColor,e.beginPath(),e.roundRect?e.roundRect(-7.5,-3,15,6,4):e.rect(-7.5,-3,15,6),e.filter="drop-shadow(0px 0px 2px rgba(0,0,0, 0.3))",e.fill(),e.restore()};fabric.Control.prototype.touchSizeX=60,fabric.Control.prototype.touchSizeY=60,fabric.Object.prototype.transparentCorners=!1,fabric.Object.prototype.controls.tl.cursorStyleHandler=()=>"pointer",fabric.Object.prototype.controls.tl.mouseDownHandler=function(e,t){const n=t.target;n.canvas.duplicateElement(n)},fabric.Object.prototype.controls.tl.actionHandler=null,fabric.Object.prototype.controls.tl.render=function(e,n,i,a,s){s.canvas&&s.canvas.viewOptions&&"basic"===s.canvas.viewOptions.cornerControlsStyle?fabric.controlsUtils.renderCircleControl.call(this,e,n,i,a,s):t(e,n,i,a,s,String.fromCharCode("0xe942"),-8,-8)},fabric.Object.prototype.controls.tr.cursorStyleHandler=()=>"pointer",fabric.Object.prototype.controls.tr.mouseDownHandler=function(e,t){const n=t.target;n.canvas.removeElement(n)},fabric.Object.prototype.controls.tr.actionHandler=null,fabric.Object.prototype.controls.tr.render=function(e,n,i,a,s){s.canvas&&s.canvas.viewOptions&&"basic"===s.canvas.viewOptions.cornerControlsStyle?fabric.controlsUtils.renderCircleControl.call(this,e,n,i,a,s):t(e,n,i,a,s,String.fromCharCode("0xe944"),8,-8)},fabric.Object.prototype.controls.mtr.withConnection=!1,fabric.Object.prototype.controls.mtr.y=.5,fabric.Object.prototype.controls.mtr.offsetY=25,fabric.Object.prototype.controls.mtr.offsetX=-8,fabric.Object.prototype.controls.mtr.render=function(e,n,i,a,s){s.canvas&&s.canvas.viewOptions&&"basic"===s.canvas.viewOptions.cornerControlsStyle?fabric.controlsUtils.renderCircleControl.call(this,e,n,i,a,s):t(e,n,i,a,s,String.fromCharCode("0xe957"))},fabric.Object.prototype.controls.br.render=function(e,n,i,a,s){s.canvas&&s.canvas.viewOptions&&"basic"===s.canvas.viewOptions.cornerControlsStyle?fabric.controlsUtils.renderCircleControl.call(this,e,n,i,a,s):t(e,n,i,a,s,String.fromCharCode("0xe922"))},fabric.Object.prototype.controls.ml.render=n,fabric.Object.prototype.controls.mr.render=n,fabric.Object.prototype.controls.mt.render=i,fabric.Object.prototype.controls.mb.render=i,fabric.Textbox.prototype.controls.ml.render=n,fabric.Textbox.prototype.controls.mr.render=n,fabric.Object.prototype.controls.bl.visible=!1},106:()=>{fabric.Group.prototype.changeObjectColor=function(e,t){let n=[];return this.getObjects().forEach((e=>{const t=tinycolor(e.fill);n.push(t.toHexString())})),n[e]=t,this.changeColor(n),n}},345:()=>{var e;fabric.Text.prototype.initialize=(e=fabric.Text.prototype.initialize,function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.call(this,...n),this._TextInit(),this}),fabric.Text.prototype._constrainScale=function(e){return function(t){return t=e.call(this,t),void 0!==this.minFontSize&&parseFloat(Number(t*this.fontSize).toFixed(0))<this.minFontSize?this.minFontSize/this.fontSize:void 0!==this.maxFontSize&&parseFloat(Number(t*this.fontSize).toFixed(0))>this.maxFontSize?this.maxFontSize/this.fontSize:t}}(fabric.Text.prototype._constrainScale),fabric.Text.prototype._TextInit=function(){this.on({modified:e=>{(e=>{if(!e.curved&&!e.uniScalingUnlockable){let t=e.fontSize*e.scaleX;t=parseFloat(Number(t).toFixed(0)),e.scaleX=1,e.scaleY=1,e._clearCache(),e.set("fontSize",t),e.canvas&&e.canvas.fire("elementModify",{element:e,options:{fontSize:t}})}})(this)}})},fabric.Text.prototype._createTextCharSpan=function(e,t,n,i){t.fontWeight=this.fontWeight,t.fontStyle=this.fontStyle;var a=e!==e.trim()||e.match(/  +/g),s=this.getSvgSpanStyles(t,a);let o=(s+="underline"===this.textDecoration?" text-decoration: underline;":"")?'style="'+s+'"':"",r=t.deltaY,l="",c=fabric.Object.NUM_FRACTION_DIGITS;return r&&(l=' dy="'+fabric.util.toFixed(r,c)+'" '),['<tspan x="',fabric.util.toFixed(n,c),'" y="',fabric.util.toFixed(i,c),'" ',l,o,">",fabric.util.string.escapeXml(e),"</tspan>"].join("")}},601:()=>{var e;fabric.Textbox.prototype.initialize=(e=fabric.Textbox.prototype.initialize,function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.call(this,...n),this._TextboxInit(),this}),fabric.Textbox.prototype._TextboxInit=function(){this.on({added:()=>{if(this._calcWidth){this.set("width",1e3);const e=this.calcTextWidth();this.set("width",e),delete this._calcWidth}}})}},653:()=>{function e(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function t(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var i=new WeakSet,a=new WeakSet;class s extends HTMLElement{constructor(){super(),e(this,a),e(this,i),t(this,"min",0),t(this,"max",10),t(this,"value",0),t(this,"step",1),t(this,"inputElem",null)}connectedCallback(){this.inputElem=document.createElement("input"),this.inputElem.type="range",this.inputElem.value=this.getAttribute("value"),this.inputElem.min=this.getAttribute("min"),this.inputElem.max=this.getAttribute("max"),this.inputElem.step=this.getAttribute("step"),this.append(this.inputElem),this.inputElem.addEventListener("input",n(this,i,o).bind(this)),n(this,a,r).call(this)}static get observedAttributes(){return["value","step","min","max"]}attributeChangedCallback(e,t,i){this.inputElem&&(this.inputElem[e]=i,n(this,a,r).call(this))}}function o(e){n(this,a,r).call(this),this.onInput&&this.onInput(e);const t=new CustomEvent("onInput",{detail:Number(this.inputElem.value)});this.dispatchEvent(t)}function r(){this.inputElem.style.setProperty("--value",this.inputElem.value),this.inputElem.style.setProperty("--min",this.inputElem.min),this.inputElem.style.setProperty("--max",this.inputElem.max)}customElements.define("fpd-range-slider",s)}},t={};function n(i){var a=t[i];if(void 0!==a)return a.exports;var s=t[i]={exports:{}};return e[i].call(s.exports,s,s.exports,n),s.exports}(()=>{"use strict";const e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:document.body;i===document.body&&i.classList.add("fpd-overflow-hidden"),"prompt"===n?e=`\n            <input type="text" placeholder="${e}" />\n            <span class="fpd-btn"></span>\n        `:"confirm"===n&&(e=`\n            <div class="fpd-confirm-msg">${e}</div>\n            <span class="fpd-btn fpd-confirm"></span>\n        `);let a=`\n        <div class="fpd-modal-inner fpd-shadow-3">\n            <div class="fpd-modal-close">\n                <span class="fpd-icon-close"></span>\n            </div>\n            <div class="fpd-modal-content">${e}</div>\n        </div>\n    `;const s=document.createElement("div");return s.className="fpd-modal-internal fpd-modal-overlay fpd-container "+(t?"fpd-fullscreen":""),s.innerHTML=a,s.dataset.type=n,i.append(s),p(s.querySelector(".fpd-modal-close"),["click"],(e=>{i.classList.remove("fpd-overflow-hidden"),s.remove()})),s},t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=document.body.querySelector(".fpd-snackbar-wrapper");n||(n=document.createElement("div"),n.className="fpd-snackbar-wrapper",document.body.append(n));const i=document.createElement("div");return i.className="fpd-snackbar fpd-shadow-1",i.innerHTML="<p>"+e+"</p>",i.addEventListener("click",(e=>{i.remove()})),n.append(i),t&&setTimeout((function(){i.remove()}),5e3),i},i=t;window.FPDSnackbar=t,window&&(window.FPDUtils={});const a=e=>"[object Object]"===Object.prototype.toString.call(e),s=(e,t)=>{if(e&&"object"==typeof e){let a=!0;for(var n=0;n<t.length;++n){var i=t[n];if(!e.hasOwnProperty(i)){a=!1;break}}return a}return!1},o=(e,t)=>{const n={...e,...t};if(Object.keys(t).length)for(const i of Object.keys(n))a(n[i])&&e[i]&&t[i]&&(n[i]=o(e[i],t[i]));return n},r=(e,t,n)=>{if(!t)return;const i=(Array.isArray(t)?t:t.match(/([^[.\]])+/g)).reduce(((e,t)=>e&&e[t]),e);return void 0===i?n:i},l=e=>/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(e);window&&(window.FPDUtils.isUrl=l);const c=e=>{for(var t=e.concat(),n=0;n<t.length;++n)for(var i=n+1;i<t.length;++i)t[n]===t[i]&&t.splice(i--,1);return t},d=e=>0===e||"string"==typeof e&&"0"===e,p=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{},i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t="string"==typeof t?[t]:t,t.forEach((t=>{e instanceof HTMLElement?e.addEventListener(t,n,i):Array.from(e).length?e&&e.forEach&&e.forEach((e=>{e.addEventListener(t,n,i)})):e.addEventListener(t,n,i)}))},h=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};window&&e.dispatchEvent(new CustomEvent(t,{detail:n})),window.jQuery&&e.container&&jQuery(e.container).trigger(t,Object.values(n))},u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e&&(e instanceof HTMLElement?t.forEach((t=>{e.classList.add(t)})):e.forEach((e=>{t.forEach((t=>{e.classList.add(t)}))}))),e},f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e&&(e instanceof HTMLElement?t.forEach((t=>{e.classList.remove(t)})):e.forEach((e=>{t.forEach((t=>{e.classList.remove(t)}))}))),e},m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e&&(e instanceof HTMLElement?t.forEach((t=>{e.classList.toggle(t,n)})):e.forEach((e=>{t.forEach((t=>{e.classList.toggle(t,n)}))}))),e},g=e=>void 0===e||null==e||("string"==typeof e?!e.trim().length:Array.isArray(e)?!e.length:"object"==typeof e&&!Object.keys(e).length),v=()=>{var e=!0;try{window.localStorage.length,window.localStorage.setItem("fpd-storage","just-testing")}catch(t){e=!1}return e},b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.url)return;const t=document.createElement("div");t.className="fpd-item fpd-hover-thumbnail",t.dataset.source=e.url,e.disableDraggable||t.classList.add("fpd-draggable"),e.title&&(t.dataset.title=e.title,t.setAttribute("aria-label",e.title));const n=document.createElement("picture");if(n.dataset.img=e.thumbnailUrl?e.thumbnailUrl:e.url,t.append(n),!e.disablePrice){const n=document.createElement("span");n.className="fpd-price",n.innerHTML=e.price,t.append(n)}if(e.removable){const e=document.createElement("span");e.className="fpd-delete fpd-icon-remove",t.append(e)}return t},y=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e.currentViewInstance)return"";let i=e.currentViewInstance.options;if(document.querySelector(".fpd-upload-zone-content").contains(t)&&e.currentViewInstance.currentUploadZone){const t=e.currentViewInstance.fabricCanvas.getUploadZone(e.currentViewInstance.currentUploadZone);t&&t.price&&(n=t.price)}return null==n&&(n=r(i,"customImageParameters.price",0)),n?O(n,e.mainOptions.priceFormat):""},w=(t,n,i)=>{const a=t.currentViewInstance;let s=a.options.customImageParameters;const r=a.fabricCanvas.getUploadZone(a.currentUploadZone);if(r&&(s=o(s,r)),n>s.maxW||n<s.minW||i>s.maxH||i<s.minH){t.loadingCustomImage=!1,t.mainBar&&(t.mainBar.toggleContentDisplay(!1),a.currentUploadZone&&t.mainBar.toggleUploadZonePanel(!1));let n=t.translator.getTranslation("misc","uploaded_image_size_alert");return n=n.replace("%minW",s.minW).replace("%minH",s.minH).replace("%maxW",s.maxW).replace("%maxH",s.maxH),e(n),!1}return!0},C=e=>e.split(".").pop().toLowerCase().split("?")[0],x=e=>["jpeg","jpg","png"].includes(C(e)),E=(e,t)=>{var n=[];if("group"==e.type){const t=e.getObjects();1===t.length?n=!0===e.colors||1===e.colors?["#000"]:e.colors:(n=[],t.forEach((e=>{const t=tinycolor(e.fill);n.push(t.toHexString())})))}else{if(e.__editorMode)return["#000"];n=e.colorLinkGroup&&t.colorLinkGroups[e.colorLinkGroup]?t.colorLinkGroups[e.colorLinkGroup].colors:!0===e.colors||1===e.colors?["#000"]:e.colors}return n},I=e=>{let t=e.fill;return"string"==typeof t?t:"object"==typeof t?t.source?(t=t.source.src,"url("+t+")"):t[0]:!0===e.colors&&"group"===e.type?tinycolor(e.getObjects()[0].fill):!1===t&&e.colors&&e.colors[0]?e.colors[0]:void 0},A=(e,t)=>{null!=e&&void 0!==e||i(t)},S=function(e,t){const n=e*(arguments.length>2&&void 0!==arguments[2]?arguments[2]:72);return"cm"==t?Math.round(n/2.54):"mm"==t?Math.round(n/25.4):Math.round(n)},k=function(e,t){const n=e/(arguments.length>2&&void 0!==arguments[2]?arguments[2]:72);return"cm"==t?Math.round(2.54*n):"mm"==t?Math.round(25.4*n):Math.round(n)};window&&(window.FPDUtils.pixelToUnit=k);const O=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!isNaN(e)&&"object"==typeof t){const i=t.thousandSep||",",a=t.decimalSep||".";let s=e.toString().split("."),o=s[0],r=s[1],l="";if(void 0!==o){for(var n=o.length-1;n>=0;n--)l+=o.charAt(n);for(l=l.replace(/(\d{3})/g,"$1"+i),l.slice(-i.length)==i&&(l=l.slice(0,-i.length)),o="",n=l.length-1;n>=0;n--)o+=l.charAt(n);void 0!==r&&r.length>0&&(1==r.length&&(r+="0"),o+=a+r)}return o=(t.currency||"&#36;%d").replace("%d",o.toString()),o}return e};class T{static defaults={imageLoadTimestamp:!1,stageWidth:900,stageHeight:600,editorMode:!1,editorBoxParameters:["left","top","angle","fill","width","height","fontSize","price"],fonts:[{name:"Arial"},{name:"Lobster",url:"google"}],facebookAppId:"",instagramClientId:"",instagramRedirectUri:"",instagramTokenUri:"",hexNames:{},selectedColor:"#f5f5f5",boundingBoxColor:"#2185d0",outOfBoundaryColor:"#990000",replaceInitialElements:!1,fileServerURL:null,responsive:!0,cornerIconColor:"#000000",langJSON:{},colorPickerPalette:[],actions:{left:["info","download","print","preview-lightbox","reset-product"],center:["undo","redo"],right:["zoom","ruler","guided-tour"]},mainBarModules:["products","images","text","designs","manage-layers"],initialActiveModule:"",maxValues:{},watermark:!1,priceFormat:{currency:"&#36;%d",decimalSep:".",thousandSep:","},mainBarContainer:!1,modalMode:!1,keyboardControl:!0,deselectActiveOnOutside:!0,uploadZonesTopped:!0,loadFirstProductInStage:!0,unsavedProductAlert:!1,hideDialogOnAdd:!0,toolbarPlacement:"smart",snapGridSize:[50,50],fabricCanvasOptions:{},namesNumbersDropdown:[],namesNumbersEntryPrice:0,colorSelectionPlacement:"",bulkVariationsPlacement:"",bulkVariations:{},toolbarDynamicContext:"body",boundingBoxProps:{strokeWidth:1},fitImagesInCanvas:!1,maxPrice:-1,inCanvasTextEditing:!0,openTextInputOnSelect:!1,designCategories:[],optionalView:!1,saveActionBrowserStorage:!0,pricingRules:[],uploadAgreementModal:!1,imageEditorSettings:{masks:[]},printingBox:null,autoOpenInfo:!1,guidedTour:null,replaceColorsInColorGroup:!1,allowedImageTypes:["jpeg","png","svg","pdf"],pixabayApiKey:"",pixabayHighResImages:!1,pixabayLang:"en",imageSizeTooltip:!1,highlightEditableObjects:"",applyFillWhenReplacing:!0,layouts:[],dynamicViewsOptions:{unit:"mm",formats:[],pricePerArea:0,minWidth:0,minHeight:0,maxWidth:1e4,maxHeight:1e4},enableDynamicViews:!1,disableTextEmojis:!1,smartGuides:!0,usePrintingBoxAsBounding:!1,printingBox:{},productsJSON:null,designsJSON:null,customizationRequiredRule:"any",swapProductConfirmation:!1,textLinkGroupProps:[],textTemplates:[],multiSelection:!1,multiSelectionColor:"#54dfe6",canvasHeight:"auto",maxCanvasHeight:.8,mobileGesturesBehaviour:"none",imageQualityRatings:null,splitMultiSVG:!1,cornerControlsStyle:"advanced",downloadFilename:"Product",autoFillUploadZones:!1,dragDropImagesToUploadZones:!1,responsiveBreakpoints:{small:768,medium:1024},dynamicDesigns:{},customTextAsTextbox:!0,elementParameters:{objectCaching:!1,z:-1,price:0,colors:!1,removable:!1,draggable:!1,rotatable:!1,resizable:!1,copyable:!1,zChangeable:!1,boundingBox:!1,boundingBoxMode:"clipping",autoCenter:!1,replace:"",replaceInAllViews:!1,autoSelect:!1,topped:!1,colorPrices:{},colorLinkGroup:!1,patterns:[],sku:"",excludeFromExport:!1,showInColorSelection:!1,locked:!1,uniScalingUnlockable:!1,fixed:!1,originX:"center",originY:"center",cornerSize:24,fill:!1,lockUniScaling:!0,pattern:!1,top:0,left:0,angle:0,flipX:!1,flipY:!1,opacity:1,scaleX:1,scaleY:1},textParameters:{maxLength:0,curved:!1,curvable:!1,curveRadius:80,curveReverse:!1,maxLines:0,textBox:!1,textPlaceholder:!1,numberPlaceholder:!1,letterSpacing:0,chargeAfterEditing:!1,minFontSize:1,textTransform:"none",widthFontSize:0,maxFontSize:200,shadowColor:"",shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textLinkGroup:"",strokeColors:[],editable:!0,fontFamily:"Arial",fontSize:18,lineHeight:1,fontWeight:"normal",fontStyle:"normal",textDecoration:"normal",padding:10,textAlign:"left",stroke:null,strokeWidth:0,charSpacing:0},imageParameters:{uploadZone:!1,filter:null,scaleMode:"fit",resizeToW:0,resizeToH:0,advancedEditing:!1,uploadZoneMovable:!1,uploadZoneRemovable:!1,padding:0,minScaleLimit:.01},customImageParameters:{minW:100,minH:100,maxW:1e4,maxH:1e4,minDPI:72,maxSize:10,autoCenter:!0},customTextParameters:{autoCenter:!0},customAdds:{designs:!0,uploads:!0,texts:!0,drawing:!0},qrCodeProps:{autoCenter:!0,draggable:!0,removable:!0,resizable:!0}};static merge(){return o(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}static getParameterKeys(){var e=Object.keys(this.defaults.elementParameters),t=Object.keys(this.defaults.imageParameters),n=Object.keys(this.defaults.textParameters);return(e=e.concat(t)).concat(n)}}function D(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function P(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}window&&(window.FPDOptions=T);var M=new WeakSet,B=new WeakSet,L=new WeakSet;class F{constructor(e){D(this,L),D(this,B),D(this,M),this.fpdInstance=e,p(e,["elementModify","productCreate","elementAdd","elementRemove","viewCreate","viewRemove","elementFillChange","textLinkApply"],this.doPricingRules.bind(this))}doPricingRules(){const e=this.fpdInstance.mainOptions.dynamicViewsOptions?this.fpdInstance.mainOptions.dynamicViewsOptions.unit:"mm";this.fpdInstance.pricingRulesPrice=0;var t=this.fpdInstance.mainOptions.pricingRules;t&&t.length>0&&t.forEach((t=>{if(t.property&&t.target){var n=[];"canvasSize"==t.property?n=this.fpdInstance.viewInstances:void 0!==t.target.elements&&"#"===t.target.elements.charAt(0)?n.push(this.fpdInstance.currentViewInstance.fabricCanvas.getElementByTitle(t.target.elements.replace("#",""),t.target.views)):n=void 0!==t.target.elements&&-1!==t.target.elements.search("custom")?this.fpdInstance.getCustomElements(t.target.elements.replace("custom","").toLowerCase(),t.target.views,!1):this.fpdInstance.getElements(t.target.views,t.target.elements,!1);var i,a=!1;-1!==["elementsLength","colorsLength"].indexOf(t.property)&&(a=!0),n.forEach(((s,o)=>{!s||a&&o>0||(s.hasOwnProperty("element")&&(s=s.element),"textLength"===t.property?i=s.text?s.text.replace(/\s/g,"").length:null:"linesLength"===t.property&&(i=s.text?s.text.split("\n").length:null),"fontSize"===t.property?i=s.text?s.fontSize:null:"imageSize"===t.property?i="image"===s.getType()&&s.title?{width:s.width,height:s.height}:null:"imageSizeScaled"===t.property?i="image"===s.getType()&&s.title?{width:s.width*s.scaleX,height:s.height*s.scaleY}:null:"canvasSize"===t.property?i={width:k(s.options.stageWidth,e),height:k(s.options.stageHeight,e)}:"pattern"===t.property?i=s.pattern:"elementsLength"===t.property?i=n.length:"colorsLength"===t.property&&(i=this.fpdInstance.getUsedColors(t.target.views).length),null!=i&&(t.rules.forEach((e=>{e.property=i})),"any"===t.type?t.rules.some(P(this,M,N).bind(this)):t.rules.forEach(P(this,M,N).bind(this))))}))}})),this.fpdInstance.calculatePrice()}}function N(e,t){return!!P(this,B,j).call(this,e.operator,e.property,e.value)&&("number"==typeof e.price&&(this.fpdInstance.pricingRulesPrice+=e.price),!0)}function j(e,t,n){if("object"==typeof n){var i=Object.keys(n),a=null;return i.forEach((i=>{!1!==a&&(a=P(this,L,H).call(this,e,t[i],n[i]))})),a}return P(this,L,H).call(this,e,t,n)}function H(e,t,n){return"="===e?t===n:">"===e?t>n:"<"===e?t<n:">="===e?t>=n:"<="===e?t<=n:void 0}n(382),n(106),n(345);const q=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;n="number"!=typeof n?0:n,i="number"!=typeof i?0:i;let a=1,s=0!==n,o=0!==i;return a="cover"===(arguments.length>4&&void 0!==arguments[4]?arguments[4]:"fit")?n-e<i-t?s?Math.max(n/e,i/t):1:o?Math.max(n/e,i/t):1:e>t?s?Math.min(n/e,i/t):1:o?Math.min(n/e,i/t):1,parseFloat(a.toFixed(10))};var z;window&&(window.FPDFabricUtils={getScaleByDimesions:q}),fabric.IText.prototype.initialize=(z=fabric.IText.prototype.initialize,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return z.call(this,...t),this._ITextInit(),this}),fabric.IText.prototype._ITextInit=function(){this.on({added:()=>{this.setCurvedTextPath()},"editing:entered":()=>{this.canvas.viewOptions.inCanvasTextEditing||this.exitEditing(),this.curved&&this.exitEditing()},changed:()=>{if(0!=this.maxLines&&this.textLines.length>this.maxLines){let e=this.textLines.slice(0,this.maxLines);this.set("text",e.join("\n")),this.exitEditing()}if(0!=this.maxLength&&this.text.length>this.maxLength&&(this.set("text",this.text.substr(0,this.maxLength)),this.exitEditing()),this.canvas.viewOptions.disableTextEmojis){let e=this.text.replace(FPDEmojisRegex,"");e=e.replace(String.fromCharCode(65039),""),this.set("text",e)}}})},fabric.IText.prototype.setCurvedTextPath=function(){if(this.curved){const t=new fabric.Path((0,0,"M0,0m"+-(e=this.curveRadius)+",0a"+e+","+e+" 0 1,0 "+2*e+",0a"+e+","+e+" 0 1,0 "+2*-e+",0"),{fill:"transparent",strokeWidth:1,stroke:"rgba(0,0,0, 0.1)",visible:!1});this.set("path",t),this.setCurvedTextPosition()}var e},fabric.IText.prototype.setCurvedTextPosition=function(){if(this.curved&&this.path){this.pathSide=this.curveReverse?"left":"right";const e=this.curveReverse?Math.PI*this.curveRadius*2*.25:Math.PI*this.curveRadius/2;this.pathStartOffset=e-this.calcTextWidth()/2,this.pathAlign="center"}},n(601),fabric.Object.propertiesToInclude=["_isInitial","lockMovementX","lockMovementY","lockRotation","lockScalingX","lockScalingY","lockScalingFlip","lockUniScaling","resizeType","boundingBox","boundingBoxMode","selectable","evented","title","editable","cornerColor","cornerIconColor","borderColor","isEditable","hasUploadZone","cornerSize","source","_optionsSet"],fabric.Object.prototype._limitModifyOpts={},fabric.Object.prototype.__editorMode=!1,fabric.Object.prototype.initialize=function(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.call(this,...n),this._elementInit(),this}}(fabric.Object.prototype.initialize),fabric.Object.prototype._elementInit=function(){this.on({added:()=>{!this.isCustom||this.hasUploadZone||this.replace||(this.copyable=this.originParams.copyable=!0)},moving:()=>{this._checkContainment()},rotating:()=>{this._checkContainment()},scaling:()=>{this._checkContainment()},selected:()=>{this._elementControls()}})},fabric.Object.prototype._elementControls=function(){let e=Boolean(!this.lockUniScaling||this.__editorMode),t=Boolean(!this.lockUniScaling||this.__editorMode),n=Boolean(this.copyable),i=Boolean(this.removable||this.__editorMode),a=Boolean((this.resizable||this.__editorMode)&&!this.curved),s=Boolean(this.rotatable||this.__editorMode);this.textBox&&!this.curved&&(e=!0),this.canvas&&"basic"==this.canvas.viewOptions.cornerControlsStyle&&(this.controls.mtr.offsetX=0,this.cornerSize=16),"printing-boxes"!=this.name&&"view-mask"!=this.name||(e=!1,t=!1,s=!1,n=!1,i=!1),this.setControlsVisibility({ml:e,mr:e,mt:t,mb:t,tr:i,tl:n,mtr:s,br:a})},fabric.Object.prototype.getType=function(e){return"text"===(e=e||this.type)||"i-text"===e||"textbox"===e?"text":"image"},fabric.Object.prototype.isSVG=function(){return"group"===this.type||"path"===this.type||this.source&&this.source.includes(".svg")},fabric.Object.prototype.isColorizable=function(){return"text"===this.getType()?"text":!!this.source&&(1==this.source.split(".").length?this.source.includes("data:image/png;")?"dataurl":(this.fill=this.colors=!1,!1):(e=>this.source.replace(/\?.*$/,""))().includes(".png")||this.isSVG()?this.isSVG()?"svg":"png":(this.fill=this.colors=!1,!1))},fabric.Object.prototype.hasColorSelection=function(){return(Array.isArray(this.colors)||Boolean(this.colors)||this.colorLinkGroup||this.__editorMode)&&!1!==this.isColorizable()},fabric.Object.prototype.checkEditable=function(e){return"object"==typeof(e=e||this).colors||!0===e.colors||1==e.colors||e.removable||e.draggable||e.resizable||e.rotatable||e.zChangeable||e.advancedEditing||e.editable||e.uploadZone||e.colorLinkGroup&&e.colorLinkGroup.length>0||e.__editorMode},fabric.Object.prototype.changeColor=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.isColorizable();if("string"==typeof e&&(e=tinycolor(e).toHexString()),"text"===this.getType())"object"==typeof e&&(e=e[0]),this.set("fill",e),this.canvas.renderAll(),this.pattern=null;else if("group"==this.type&&"object"==typeof e){const t=this.getObjects();e.forEach(((e,n)=>{t[n]&&t[n].set("fill",e)})),this.canvas.renderAll(),this.svgFill=e,delete this.fill}else"object"==typeof e&&(e=e[0]),"string"!=typeof e&&(e=!1),"png"==n||"dataurl"==n?(this.filters=[],e&&this.filters.push(new fabric.Image.filters.BlendColor({mode:"tint",color:e})),this.applyFilters(),this.canvas.renderAll(),this.fill=e):"svg"==n&&(this.set("fill",e),this.canvas.renderAll());this.canvas.fire("elementFillChange",{element:this,colorLinking:t})},fabric.Object.prototype.setPattern=function(e){e&&(FancyProductDesigner.proxyFileServer&&(e=FancyProductDesigner.proxyFileServer+e),fabric.util.loadImage(e,(e=>{if(this.isSVG())if(this.hasOwnProperty("getObjects")){const n=this.getObjects();for(var t=0;t<n.length;++t)n[t].set("fill",new fabric.Pattern({source:e,repeat:"repeat"}))}else this.set("fill",new fabric.Pattern({source:e,repeat:"repeat"}));else if("text"==this.getType())this.set("fill",new fabric.Pattern({source:e,repeat:"repeat"}));else{let e=this.fill?this.fill:this.colors[0];e=e||"#000000",this.set("fill",e)}this.canvas.renderAll(),this.canvas.fire("elementFillChange",{element:this})})),this.pattern=e)},fabric.Object.prototype.getZIndex=function(){return this.canvas.getObjects().indexOf(this)},fabric.Object.prototype.centerElement=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.getBoundingBoxCoords(),i=this.left,a=this.top;e&&(i=n?n.cp?n.cp.x:n.left+.5*n.width:.5*this.canvas.viewOptions.stageWidth),t&&(a=n?n.cp?n.cp.y:n.top+.5*n.height:.5*this.canvas.viewOptions.stageHeight),this.setPositionByOrigin(new fabric.Point(i,a),"center","center"),this.canvas.renderAll(),this.setCoords(),this._checkContainment(),this.autoCenter=!1},fabric.Object.prototype._checkContainment=function(){if(this.canvas&&this.canvas.currentBoundingObject&&!this.hasUploadZone)if(this.setCoords(),"limitModify"===this.boundingBoxMode){let e=this.getBoundingRect(),t=this.canvas.currentBoundingObject.getBoundingRect(),n=t.left,i=t.left+t.width-e.width,a=t.top,s=t.top+t.height-e.height;this.isContainedWithinObject(this.canvas.currentBoundingObject)?(this._limitModifyOpts={left:this.left,top:this.top,angle:this.angle,scaleX:this.scaleX,scaleY:this.scaleY},"text"==this.getType()&&(this._limitModifyOpts.fontSize=this.fontSize,this._limitModifyOpts.lineHeight=this.lineHeight,this._limitModifyOpts.charSpacing=this.charSpacing)):(e.left>n&&e.left<i&&(this._limitModifyOpts.left=this.left),e.top>a&&e.top<s&&(this._limitModifyOpts.top=this.top),this.setOptions(this._limitModifyOpts))}else if("inside"===this.boundingBoxMode||"clipping"===this.boundingBoxMode){var e,t=this.isOut;(e=!this.isContainedWithinObject(this.canvas.currentBoundingObject))?("inside"===this.boundingBoxMode&&(this.borderColor=this.canvas.viewOptions.outOfBoundaryColor),this.isOut=!0):("inside"===this.boundingBoxMode&&(this.borderColor=this.canvas.viewOptions.selectedColor),this.isOut=!1),t!=this.isOut&&null!=t&&(e?this.canvas.fire("elementOut",{target:this}):this.canvas.fire("elementIn",{target:this})),this.canvas.fire("elementCheckContainemt",{target:this,boundingBoxMode:this.boundingBoxMode})}},fabric.Object.prototype.getBoundingBoxCoords=function(){if(this.boundingBox||this.uploadZone){if("object"==typeof this.boundingBox)return!!(this.boundingBox.hasOwnProperty("x")&&this.boundingBox.hasOwnProperty("y")&&this.boundingBox.width&&this.boundingBox.height)&&{left:this.boundingBox.x,top:this.boundingBox.y,width:this.boundingBox.width,height:this.boundingBox.height};{const e=this.canvas.getElementByTitle(this.boundingBox);if(e){const t=e.getPointByOrigin("left","top");return{left:t.x,top:t.y,width:e.width*e.scaleX,height:e.height*e.scaleY,angle:e.angle||0,cp:e.getCenterPoint()}}}}return!1},fabric.Object.prototype.getClippingObject=function(){if(this.boundingBox||this.uploadZone){if("object"==typeof this.boundingBox)return this.getBoundingBoxCoords();{const e=this.canvas.getElementByTitle(this.boundingBox);if(e)return"image"==e.type?this.getBoundingBoxCoords():e}}return!1},fabric.Object.prototype._clipElement=function(){var e=this.getClippingObject();if(e){if(e.type)e.clone((e=>{e.set({absolutePositioned:!0,opacity:1}),this.clipPath=e}));else{const t=new fabric.Rect({originX:"left",originY:"top",angle:e.angle||0,left:e.left,top:e.top,width:e.width,height:e.height,fill:"#DDD",absolutePositioned:!0});this.clipPath=t}this.canvas.renderAll()}},fabric.Object.prototype.getElementJSON=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.canvas&&(t=Object.keys(this.canvas.viewOptions.elementParameters),t="text"===this.getType()?t.concat(Object.keys(this.canvas.viewOptions.textParameters)):t.concat(Object.keys(this.canvas.viewOptions.imageParameters))),e&&(t=t.concat(fabric.Object.propertiesToInclude)),this.uploadZone&&(t.push("customAdds"),t.push("designCategories"),t.push("designCategories[]")),"text"===this.getType()&&(t.push("text"),t.push("_initialText")),"group"===this.type&&t.push("svgFill"),t.push("width"),t.push("height"),t.push("isEditable"),t.push("hasUploadZone"),t.push("evented"),t.push("isCustom"),t.push("currentColorPrice"),t.push("_isPriced"),t.push("originParams"),t.push("originSource"),t.push("_printingBox"),t.push("_optionsSet"),t=t.sort();let n={};return t.forEach((e=>{void 0!==this[e]&&(n[e]=this[e])})),n},fabric.Object.prototype.alignToPosition=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"left",t=this.getPointByOrigin("left","top"),n=this.getBoundingBoxCoords(),i="left",a="top";"left"===e?(t.x=n?n.left:0,t.x+=this.padding+1):"top"===e?(t.y=n?n.top:0,t.y+=this.padding+1):"right"===e?(t.x=n?n.left+n.width-this.padding:this.canvas.viewOptions.stageWidth-this.padding,i="right"):(t.y=n?n.top+n.height-this.padding:this.canvas.viewOptions.stageHeight,a="bottom"),this.setPositionByOrigin(t,i,a),this.canvas.renderAll(),this._checkContainment()},fabric.Object.prototype.toggleUploadZone=function(){if(this.hasUploadZone&&this.canvas){let n=this.canvas.getObjects(),i=!0;for(var e=0;e<n.lenth;++e)if(n[e].replace==this.replace){i=!1;break}var t=this.canvas.getUploadZone(this.replace);t&&(t.set("opacity",i?1:0),t.evented=i),this.canvas.renderAll()}},n(156),fabric.Canvas.prototype.panCanvas=!1;fabric.Canvas.prototype.snapToObjects=!1,fabric.Canvas.prototype.snapToGrid=!1,fabric.Canvas.prototype.snapGridSize=[50,50];fabric.Canvas.prototype.enableRuler=!1,fabric.Canvas.prototype.rulerBg="rgba(0,0,0, 0.6)",fabric.Canvas.prototype.rulerTickColor="#ccc";fabric.Canvas.prototype.viewOptions={},fabric.Canvas.prototype.elements=[],fabric.Canvas.prototype.currentElement=null,fabric.Canvas.prototype.responsiveScale=1,fabric.Canvas.prototype.currentBoundingObject=null,fabric.Canvas.prototype.initialElementsLoaded=!1,fabric.Canvas.prototype.isCustomized=!1,fabric.Canvas.prototype.printingBoxObject=null,fabric.Canvas.prototype._canvasCreated=!1,fabric.Canvas.prototype.currentCurvedTextPath=!1,fabric.Canvas.prototype._doHistory=!1,fabric.Canvas.prototype.initialize=function(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.call(this,...n),this._fpdCanvasInit(),this}}(fabric.Canvas.prototype.initialize),fabric.Canvas.prototype._onTouchStart=function(e){return function(t){const n=this.findTarget(t);(!this.allowTouchScrolling||n||this.isDrawingMode)&&e.call(this,t)}}(fabric.Canvas.prototype._onTouchStart),fabric.Canvas.prototype._fpdCanvasInit=function(){if(this.containerClass.includes("fpd-hidden-canvas"))return;let e=null;this.on({"after:render":()=>{this._canvasCreated||this._onCreated(),this.viewOptions&&this.viewOptions.highlightEditableObjects.length>3&&(this.contextContainer.strokeStyle=this.viewOptions.highlightEditableObjects,this.forEachObject((e=>{if(e!==this.getActiveObject()&&!e.isMoving&&("text"===e.getType()&&e.editable||e.uploadZone)){const t=e.getBoundingRect();this.contextContainer.setLineDash([5,15]),this.contextContainer.strokeRect(t.left,t.top,t.width,t.height)}else this.contextContainer.setLineDash([])})))},"object:added":e=>{let{target:t}=e;this._bringToppedElementsToFront()},"object:moving":t=>{let{target:n}=t;e="moving",this.fire("elementChange",{type:"moving",element:n})},"object:rotating":t=>{let{target:n}=t;e="rotating",this.fire("elementChange",{type:"rotating",element:n})},"object:scaling":t=>{let{target:n}=t;e="scaling",this.fire("elementChange",{type:"scaling",element:n})},"object:modified":t=>{let{target:n}=t;const i=n;if(null!==e){let t={};switch(e){case"moving":t.left=Number(i.left),t.top=Number(i.top);break;case"scaling":"text"!==i.getType()||i.curved||i.uniScalingUnlockable?(t.scaleX=parseFloat(i.scaleX),t.scaleY=parseFloat(i.scaleY)):t.fontSize=parseInt(i.fontSize);break;case"rotating":t.angle=i.angle}this.fire("elementModify",{element:i,options:t})}e=null},"selection:created":e=>{let{selected:t}=e;1==t.length?this._onSelected(t[0]):this._onMultiSelected(t)},"selection:updated":e=>{let{selected:t}=e;1==t.length?this._onSelected(t[0]):this._onMultiSelected(t)},"selection:cleared":e=>{let{deselected:t}=e;this.currentCurvedTextPath&&(this.currentCurvedTextPath.visible=!1,this.currentCurvedTextPath=null)},"mouse:down":e=>{e.target&&e.target.__corner&&"function"==typeof e.target.exitEditing&&e.target.exitEditing(),null==e.target&&this.deselectElement()},elementAdd:()=>{this.forEachObject((e=>{!e.clipPath&&(e.boundingBox&&"clipping"===e.boundingBoxMode||e.hasUploadZone)&&e._clipElement()}))}})},fabric.Canvas.prototype._onCreated=function(){var e;this._canvasCreated=!0,"none"!=this.viewOptions.mobileGesturesBehaviour&&((e,t)=>{let n,i,a,s,o=!1;e.on({"mouse:down":t=>{o=!0,t.e.touches&&(n=t.e.touches[0].clientX,i=t.e.touches[0].clientY,e.currentElement&&(a=e.currentElement.scaleX,s=e.currentElement.scaleY))},"mouse:up":function(e){o=!1},"mouse:move":function(r){if("pinchImageScale"==t&&r.e.touches&&2==r.e.touches.length&&e.currentElement&&"image"==e.currentElement.getType()&&e.currentElement.resizable)e.setElementOptions({scaleX:a*r.e.scale,scaleY:s*r.e.scale},e.currentElement);else if("pinchPanCanvas"==t)if(r.e.touches)if(1==r.e.touches.length&&e.panCanvas){let t=r.e.touches[0].clientX,a=r.e.touches[0].clientY;e.relativePan(new fabric.Point(t-n,a-i)),n=t,i=a}else 2==r.e.touches.length&&e.setResZoom(r.e.scale);else e.panCanvas&&o&&e.relativePan(new fabric.Point(r.e.movementX,r.e.movementY))}})})(this,this.viewOptions.mobileGesturesBehaviour),(e=>{let t,n=e.getSelectionContext(),i=4,a=1,s="rgba(255,0,241,0.5)",o=1;function r(t){c(t-a,0,t-a,e.getHeight()/o)}function l(t){c(0,t-a,e.getWidth()/o,t-a)}function c(i,r,l,c){n.save(),n.lineWidth=a,n.strokeStyle=s,n.beginPath(),e.snapToGrid||n.setLineDash([5,10]),n.moveTo((i+t[4])*o,(r+t[5])*o),n.lineTo((l+t[4])*o,(c+t[5])*o),n.stroke(),n.restore()}function d(e,t){e=Math.round(e),t=Math.round(t);for(var n=e-i,a=e+i;n<=a;n++)if(n===t)return!0;return!1}var p=[],h=[];e.on("mouse:down",(()=>{t=e.viewportTransform,o=e.getZoom()})),e.on("object:moving",(n=>{let i=n.target,a=e.getObjects(),s=i.getCenterPoint(),o=s.x,r=s.y,l=i.getBoundingRect(),c=l.height/t[3],u=l.width/t[0],f=!1,m=!1,g=e._currentTransform;if(e.snapToGrid,e.snapToObjects&&!e.snapToGrid&&g){for(var v=a.length;v--;)if(a[v]!==i){var b=a[v].getCenterPoint(),y=b.x,w=b.y,C=a[v].getBoundingRect(),x=C.height/t[3],E=C.width/t[0];d(y,o)&&(m=!0,p.push({x:y,y1:w<r?w-x/2-1:w+x/2+1,y2:r>w?r+c/2+1:r-c/2-1}),i.setPositionByOrigin(new fabric.Point(y,r),"center","center")),d(y-E/2,o-u/2)&&(m=!0,p.push({x:y-E/2,y1:w<r?w-x/2-1:w+x/2+1,y2:r>w?r+c/2+1:r-c/2-1}),i.setPositionByOrigin(new fabric.Point(y-E/2+u/2,r),"center","center")),d(y+E/2,o+u/2)&&(m=!0,p.push({x:y+E/2,y1:w<r?w-x/2-1:w+x/2+1,y2:r>w?r+c/2+1:r-c/2-1}),i.setPositionByOrigin(new fabric.Point(y+E/2-u/2,r),"center","center")),d(w,r)&&(f=!0,h.push({y:w,x1:y<o?y-E/2-1:y+E/2+1,x2:o>y?o+u/2+1:o-u/2-1}),i.setPositionByOrigin(new fabric.Point(o,w),"center","center")),d(w-x/2,r-c/2)&&(f=!0,h.push({y:w-x/2,x1:y<o?y-E/2-1:y+E/2+1,x2:o>y?o+u/2+1:o-u/2-1}),i.setPositionByOrigin(new fabric.Point(o,w-x/2+c/2),"center","center")),d(w+x/2,r+c/2)&&(f=!0,h.push({y:w+x/2,x1:y<o?y-E/2-1:y+E/2+1,x2:o>y?o+u/2+1:o-u/2-1}),i.setPositionByOrigin(new fabric.Point(o,w+x/2-c/2),"center","center"))}f||(h.length=0),m||(p.length=0)}})),e.on("before:render",(()=>{e.contextTop&&e.clearContext(e.contextTop)})),e.on("after:render",(()=>{if(!e.panCanvas)if(e.snapToGrid){if(t=e.viewportTransform,o=e.getZoom(),e.snapGridSize){const t=Math.round(e.width/o/e.snapGridSize[0]);for(let n=0;n<t;++n)r(n*e.snapGridSize[0]);const n=Math.round(e.height/o/e.snapGridSize[1]);for(let t=0;t<n;++t)l(t*e.snapGridSize[1])}}else{for(var n=p.length;n--;)r(p[n].x);for(n=h.length;n--;)l(h[n].y);p.length=h.length=0}})),e.on("mouse:up",(()=>{p.length=h.length=0,e.renderAll()}))})(this),(e=this).on("after:render",(()=>{if(e.viewOptions&&e.enableRuler){const i=10,a=100,s=e.viewOptions.stageWidth,o=e.viewOptions.stageHeight,r=e.getZoom(),l=e.getSelectionContext(),c=20;l.fillStyle=e.rulerBg,l.fillRect(0,0,s,c);for(var t=0;t<=s;t+=i){const n=t%a==0?c:c/2;l.fillRect(t*r,0,1,n),t%a==0&&(l.fillStyle=e.rulerTickColor,l.font="10px Arial",l.fillText(t,(t+2)*r,c))}const d=20;l.fillStyle=e.rulerBg,l.fillRect(e.width-d,0,d,o);for(var n=0;n<=o;n+=i){const i=e.width-(t%a==0?d:d/2);l.fillRect(i,n*r,d,1),n%a==0&&(l.fillStyle=e.rulerTickColor,l.font="10px Arial",l.fillText(n,e.width-d,(n+10*r)*r))}}})),e.on("before:render",(()=>{e.contextTop&&e.clearContext(e.contextTop)})),this._renderPrintingBox()},fabric.Canvas.prototype._onSelected=function(e){if(this.deselectElement(!1),this.dragStage)return this.deselectElement(),!1;this.currentElement=e,this.currentCurvedTextPath&&(this.currentCurvedTextPath.visible=!1),this.currentCurvedTextPath=e.path,this.currentCurvedTextPath&&(this.currentCurvedTextPath.visible=!0),this.fire("elementSelect",{element:e}),this.hoverCursor=e.draggable?"move":"pointer",e.boundingBox&&!e.uploadZone&&this._renderElementBoundingBox(e)},fabric.Canvas.prototype._onMultiSelected=function(e){const t=this.getActiveObject();this.viewOptions.multiSelection&&(t.set({lockScalingX:!0,lockScalingY:!0,lockRotation:!0,hasControls:!1,borderDashArray:[8,8],cornerStyle:"circle",cornerSize:16,transparentCorners:!1,borderColor:this.viewOptions.multiSelectionColor,borderScaleFactor:3}),e.forEach((e=>{e.draggable&&!e.locked||t.removeWithUpdate(e)})))},fabric.Canvas.prototype._renderElementBoundingBox=function(e){var t=this;this.currentBoundingObject&&(this.remove(this.currentBoundingObject),this.currentBoundingObject=null);const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&(t.add(e),e.bringToFront(),t.fire("boundingBoxToggle",{currentBoundingObject:t.currentBoundingObject,state:!0}))};if(e){var i=e.getBoundingBoxCoords();if(i&&"none"!=e.boundingBoxMode){let t={stroke:this.viewOptions.boundingBoxColor,strokeWidth:1,strokeLineCap:"square",strokeDashArray:[10,10],fill:!1,selectable:!1,evented:!1,name:"bounding-box",excludeFromExport:!0,_ignore:!0};t=o(t,this.viewOptions.boundingBoxProps),e.clipPath&&"rect"!=e.clipPath.type?e.clipPath&&e.clipPath.clone((i=>{t=o(t,{fill:"transparent"}),i.set(t),"group"==i.type&&i.forEachObject((e=>{e.set("fill","transparent")})),this.currentBoundingObject=i,n(this.currentBoundingObject),e._checkContainment()})):(t=o(t,{left:i.left,top:i.top,width:i.width,height:i.height,angle:i.angle||0,originX:"left",originY:"top"}),this.currentBoundingObject=new fabric.Rect(t),n(this.currentBoundingObject))}e._checkContainment()}},fabric.Canvas.prototype._renderPrintingBox=function(){if(this.printingBoxObject&&(this.remove(this.printingBoxObject),this.printingBoxObject=null),s(this.viewOptions.printingBox,["left","top","width","height"])){const e=new fabric.Rect({left:100,top:100,width:this.viewOptions.printingBox.width,height:this.viewOptions.printingBox.height,stroke:this.viewOptions.printingBox.visibility||this.viewOptions.editorMode?"#db2828":"transparent",strokeWidth:1,strokeLineCap:"square",fill:!1,originX:"left",originY:"top",name:"printing-box",excludeFromExport:!0,_ignore:!0});this.printingBoxObject=new fabric.Group([e],{left:this.viewOptions.printingBox.left,top:this.viewOptions.printingBox.top,evented:!1,resizable:!0,removable:!1,copyable:!1,rotatable:!1,uniformScaling:!1,lockRotation:!0,borderColor:"transparent",transparentCorners:!0,cornerColor:this.viewOptions.selectedColor,cornerIconColor:this.viewOptions.cornerIconColor,cornerSize:24,originX:"left",originY:"top",name:"printing-boxes",excludeFromExport:!0,selectable:!1,_ignore:!0}),this.add(this.printingBoxObject),this.printingBoxObject.setCoords(),this.renderAll()}},fabric.Canvas.prototype._bringToppedElementsToFront=function(){let e=this.getObjects(),t=[];e.forEach((e=>{(e.topped||e.uploadZone&&this.viewOptions.uploadZonesTopped)&&t.push(e)})),t.forEach((e=>{e.bringToFront()})),this.currentBoundingObject&&this.currentBoundingObject.bringToFront(),this.printingBoxObject&&this.printingBoxObject.bringToFront()},fabric.Canvas.prototype.addElements=function(e,t){let n=-1;const i=()=>{if(n++,n<e.length){const t=e[n];a(t)||this.addElement(t.type,t.source,t.title,t.parameters)}else this.off("elementAdd",i),void 0!==t&&t.call(t,this),this.initialElementsLoaded=!0},a=t=>{if(void 0===t.type||void 0===t.source||void 0===t.title){const n=e.indexOf(t);if(-1!==n)return console.log("Element index "+n+" from elements removed, its not a valid element object!","info"),i(),!0}else this.elements.push(t);return!1};e[0]?(this.on("elementAdd",i),i()):(void 0!==t&&t.call(t,this),this.initialElementsLoaded=!0)},fabric.Canvas.prototype.addElement=function(e,t,n){var i=this;let a,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(void 0===e||void 0===t||void 0===n)return;if(this.fire("beforeElementAdd",{type:e,source:t,title:n,params:r}),"text"===e&&(t=(t=t.replace(/(<([^>]+)>)/gi,"")).replace(FancyProductDesigner.forbiddenTextChars,""),n=n.replace(/(<([^>]+)>)/gi,"")),"string"==typeof r.fill||Array.isArray(r.fill)||(r.fill=!1),a=e.toLowerCase().includes("text")?o(this.viewOptions.elementParameters,this.viewOptions.textParameters):o(this.viewOptions.elementParameters,this.viewOptions.imageParameters),r=o(a,r),r.colors&&"string"==typeof r.colors&&0==r.colors.indexOf("#")){var c=r.colors.replace(/\s+/g,"").split(",");r.colors=c}if(r._isInitial=!this.initialElementsLoaded,e.toLowerCase().includes("text")){var d=r.colors[0]?r.colors[0]:"#000000";r.fill=r.fill?r.fill:d}let p={source:t,title:n,id:String((new Date).getTime())};if(this.viewOptions.editorMode?(r.__editorMode=this.viewOptions.editorMode,p.selectable=p.evented=!0):p=o(p,{selectable:!1,lockRotation:!0,hasRotatingPoint:!1,lockScalingX:!0,lockScalingY:!0,lockMovementX:!0,lockMovementY:!0,hasControls:!1,evented:!1,lockScalingFlip:!0}),p=o(r,p),p.isCustom&&(this.isCustomized=!0),this.viewOptions.usePrintingBoxAsBounding&&!p.boundingBox&&s(this.viewOptions.printingBox,["left","top","width","height"])&&(p.boundingBox={x:this.viewOptions.printingBox.left-1,y:this.viewOptions.printingBox.top-1,width:this.viewOptions.printingBox.width+1,height:this.viewOptions.printingBox.height+1},p._printingBox=p.boundingBox),"image"==e||"path"==e||"group"==e){if(-1===t.search("<svg ")){var h=t.split("?");t=p.source=h[0]}const e=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e?(t.originParams=o(t,a),e.setOptions(t),i.add(e),i.setElementOptions(t,e),e.originParams.angle=e.angle,e.originParams.z=e.getZIndex()):i.fire("imageFail",{url:t.source}),i.fire("elementAdd",{element:e})};if(void 0===t||0===t.length)return void console.log("No image source set for: "+n);if(-1!==t.search("<svg"))fabric.loadSVGFromString(t,((t,n)=>{var i=fabric.util.groupSVGElements(t,n);if(p.fill)p.svgFill||(p.svgFill=p.fill),delete p.fill;else if(!p.fill&&!p.svgFill){if(t){r.colors=[];for(var a=0;a<t.length;++a){var s=t[a].fill.length>0?tinycolor(t[a].fill).toHexString():"transparent";r.colors.push(s)}r.svgFill=r.colors}p.svgFill=r.svgFill}delete p.boundingBox,delete p.originParams,delete p.colors,delete p.svgFill,delete p.width,delete p.height,delete p.originX,delete p.originY,delete p.objectCaching,e(i,p,!0,{svgFill:r.svgFill})}));else if(t.split(".").includes("svg")){let n=Date.now().toString(),i=l(t)?new URL(FancyProductDesigner.proxyFileServer+t):t;!t.includes(".cloudfront.net/")&&!this.viewOptions.imageLoadTimestamp||FancyProductDesigner.proxyFileServer||i.searchParams.append("t",n),"object"==typeof i&&(i=i.toString()),fabric.loadSVGFromURL(i,((t,n)=>{var i=t?fabric.util.groupSVGElements(t,n):null;if(p.fill)p.svgFill||(p.svgFill=p.fill),delete p.fill;else if(!p.fill&&!p.svgFill){if(t){r.colors=[];for(var a=0;a<t.length;++a){var s=t[a].fill.length>0?tinycolor(t[a].fill).toHexString():"transparent";r.colors.push(s)}r.svgFill=r.colors}p.svgFill=r.svgFill}e(i,p,!0,{svgFill:r.svgFill})}))}else{let n,i=Date.now().toString();t.includes("data:image/")?n=t:(n=l(t)?new URL(FancyProductDesigner.proxyFileServer+t):t,this.viewOptions.imageLoadTimestamp&&!FancyProductDesigner.proxyFileServer&&n.searchParams.append("t",i),"object"==typeof n&&(n=n.toString())),new fabric.Image.fromURL(n,(function(t){t=""===t.getSrc()?null:t,e(t,p,!1)}),{crossOrigin:"anonymous"})}}else if(e.toLowerCase().includes("text")){var u;t=t.replace(/\\n/g,"\n"),r.text=r.text?r.text:t,p._initialText=r.hasOwnProperty("_initialText")?r._initialText:r.text,p.originParams={...r},r.originParams&&r.originParams.text&&(p.originParams.text=p._initialText),u=r.curved?new fabric.IText(t.replace(/(?:\r\n|\r|\n)/g,""),p):r.textBox?new fabric.Textbox(t,p):new fabric.IText(t,p),(p.textPlaceholder||p.numberPlaceholder)&&(p.textPlaceholder&&(this.textPlaceholder=u,p.removable=!1,p.editable=!1),p.numberPlaceholder&&(this.numberPlaceholder=u,p.removable=!1,p.editable=!1)),this.add(u),this.setElementOptions(p,u),u.originParams=o(u.toJSON(),u.originParams),u.originParams.z=u.getZIndex(),this.fire("elementAdd",{element:u})}},fabric.Canvas.prototype.deselectElement=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.currentBoundingObject&&(this.remove(this.currentBoundingObject),this.fire("boudingBoxToggle",{boundingBox:this.currentBoundingObject,state:!1}),this.currentBoundingObject=null),e&&this.discardActiveObject(),this.currentElement=null,this.fire("elementSelect",{element:null})},fabric.Canvas.prototype.resetSize=function(){if(!this.wrapperEl.parentNode)return;const e=this.wrapperEl.parentNode.clientWidth;let t=e<this.viewOptions.stageWidth?e/this.viewOptions.stageWidth:1,n=t;this.responsiveScale=t;let i=this.viewOptions.stageHeight;if("auto"!==this.viewOptions.canvasHeight&&this.viewOptions.canvasHeight.includes("px")&&(i=parseInt(this.viewOptions.canvasHeight),this.responsiveScale=t*(i/this.viewOptions.stageHeight),n=1),!isNaN(this.viewOptions.maxCanvasHeight)&&1!==this.viewOptions.maxCanvasHeight){const e=window.innerHeight*parseFloat(this.viewOptions.maxCanvasHeight);i*n>e&&(this.responsiveScale=t*(e/this.viewOptions.stageHeight),i=e)}return this.responsiveScale=parseFloat(Number(this.responsiveScale.toFixed(7))),this.responsiveScale=Math.min(this.responsiveScale,1),this.viewOptions.responsive||(this.responsiveScale=1,t=n=1),this.setDimensions({width:t*this.viewOptions.stageWidth,height:this.viewOptions.stageHeight*this.responsiveScale}).setZoom(this.responsiveScale).calcOffset().renderAll(),this.fire("sizeUpdate",{responsiveScale:this.responsiveScale,canvasHeight:i*n}),this.responsiveScale},fabric.Canvas.prototype.setResZoom=function(e){this.deselectElement();var t=new fabric.Point(.5*this.getWidth(),.5*this.getHeight());this.zoomToPoint(t,e*this.responsiveScale),1==e&&this.resetZoom()},fabric.Canvas.prototype.resetZoom=function(){this.deselectElement(),this.zoomToPoint(new fabric.Point(0,0),this.responsiveScale),this.absolutePan(new fabric.Point(0,0))},fabric.Canvas.prototype.getElements=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.deselectElement();let t=this.getObjects();return t=t.filter((e=>!e._ignore)),"text"===e?t.filter((e=>"text"===e.getType())):"image"===e?t.filter((e=>"image"===e.getType())):t},fabric.Canvas.prototype.getElementsJSON=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.getElements("all",t),i=[];return n.forEach((t=>{if(void 0!==t.title&&void 0!==t.source){var n={title:t.title,source:t.source,parameters:t.getElementJSON(),type:t.getType()};const a=this.viewOptions&&this.viewOptions.printingBox?this.viewOptions.printingBox:null;if(a&&a.hasOwnProperty("left")&&a.hasOwnProperty("top")){let e=t.getPointByOrigin("left","top");n.printingBoxCoords={left:e.x-a.left,top:e.y-a.top}}e?t.isEditable&&i.push(n):i.push(n)}})),i},fabric.Canvas.prototype.getElementByTitle=function(e){const t=this.getObjects();for(var n=0;n<t.length;++n)if(t[n].title===e)return t[n]},fabric.Canvas.prototype.getElementByID=function(e){const t=this.getObjects();for(var n=0;n<t.length;++n)if(t[n].id==e)return t[n];return!1},fabric.Canvas.prototype.reset=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.clear(),e&&this.wrapperEl.remove(),this.fire("clear")},fabric.Canvas.prototype.removeElement=function(e){"string"==typeof e&&(e=this.getElementByTitle(e)),this.deselectElement(),e.toggleUploadZone&&e.toggleUploadZone(),this.remove(e),this.fire("elementRemove",{element:e})},fabric.Canvas.prototype.getElementByReplace=function(e){const t=this.getObjects();for(var n=0;n<t.length;++n){const i=t[n];if(i.replace===e)return i}return null},fabric.Canvas.prototype.setElementOptions=function(e,t){if(!(t=void 0===t?this.getActiveObject():t)||void 0===e)return!1;"string"==typeof t&&(t=this.getElementByTitle(t));const n=t.getType();if("image"==n&&!t._isInitial&&!t._optionsSet&&!t._addToUZ&&1===t.scaleX){let n=null;if(d(t.resizeToW)&&d(t.resizeToH)){if(t.boundingBox){const e=t.getBoundingBoxCoords();n=q(t.width,t.height,e.width,e.height,t.scaleMode)}else if(this.viewOptions.fitImagesInCanvas){const e=3*t.cornerSize;(t.width*t.scaleX+e>this.viewOptions.stageWidth||t.height*t.scaleY+e>this.viewOptions.stageHeight)&&(n=q(t.width,t.height,this.viewOptions.stageWidth-e,this.viewOptions.stageHeight-e))}}else{let e=t.resizeToW,i=t.resizeToH;e=isNaN(e)?parseFloat(e)/100*this.viewOptions.stageWidth:parseInt(e),i=isNaN(i)?parseFloat(i)/100*this.viewOptions.stageHeight:parseInt(i),n=q(t.width,t.height,e,i,t.scaleMode)}null!==n&&(e=o(e,{scaleX:n,scaleY:n}))}if(Boolean(t._addToUZ)){e.z=-1;let n=this.getElementByTitle(t._addToUZ),i=1;"image"==t.getType()&&(i=q(t.width,t.height,n.width*n.scaleX,n.height*n.scaleY,n.scaleMode)),(e=o(e,{boundingBox:t._addToUZ,boundingBoxMode:"clipping",scaleX:i,scaleY:i,autoCenter:!0,removable:!0,zChangeable:!1,autoSelect:!1,copyable:!1,hasUploadZone:!0,z:this.getElementByTitle(t._addToUZ).getZIndex(),rotatable:n.rotatable,draggable:n.draggable,resizable:n.resizable,price:n.price?n.price:e.price,replace:t._addToUZ,lockUniScaling:n.lockUniScaling,uniScalingUnlockable:n.uniScalingUnlockable,advancedEditing:n.advancedEditing,originX:n.originX,originY:n.originY,angle:n.angle})).originParams=o(e.originParams,{boundingBox:e.boundingBox,replace:e.replace,rotatable:e.rotatable,draggable:e.draggable,resizable:e.resizable,lockUniScaling:e.lockUniScaling,uniScalingUnlockable:e.uniScalingUnlockable,price:e.price,scaleX:e.scaleX,scaleY:e.scaleY,hasUploadZone:!0,autoCenter:!0,originX:e.originX,originY:e.originY,angle:e.angle}),delete e[""],delete t._addToUZ}if(e.topped&&(e.zChangeable=!1),t.checkEditable(e)&&(e.isEditable=e.evented=e.selectable=!0),e.uploadZone&&!this.viewOptions.editorMode||(e.draggable&&(e.lockMovementX=e.lockMovementY=!1),e.rotatable&&(e.lockRotation=!1,e.hasRotatingPoint=!0),e.resizable&&(e.lockScalingX=e.lockScalingY=!1),(e.resizable||e.rotatable||e.removable)&&(e.hasControls=!0)),e.uploadZone&&(this.viewOptions.editorMode||(e.uploadZoneMovable&&(e.lockMovementX=e.lockMovementY=!1),e.uploadZoneRemovable&&(e.removable=!0,e.copyable=!1,e.hasControls=!0)),e.borderColor="transparent",e.excludeFromExport=!0),e.fixed&&g(e.replace)&&(e.replace=t.title),e.replace&&""!=e.replace){let n=this.getElementByReplace(e.replace);null!==n&&n!==t&&(e.z=n.getZIndex(),e.left=t.originParams.left=n.left,e.top=t.originParams.top=n.top,e.autoCenter=!1,this.viewOptions.applyFillWhenReplacing&&(e.fill=n.fill),this.removeElement(n))}if("text"===n){if("string"==typeof e.text){let n=e.text;if(n=n.replace(FancyProductDesigner.forbiddenTextChars,""),0!=t.maxLength&&n.length>t.maxLength&&(n=n.substr(0,t.maxLength),t.set("text",n)),0!=t.maxLines&&0!=t.maxLines&&n.split("\n").length>t.maxLines){let e=n.split("\n").slice(0,t.maxLines);n=e.join("\n")}"uppercase"===t.textTransform?n=n.toUpperCase():"lowercase"===t.textTransform&&(n=n.toLowerCase()),e.text=n,t.setCurvedTextPosition&&t.setCurvedTextPosition()}if(e.hasOwnProperty("textDecoration")&&(e.underline="underline"===e.textDecoration),void 0!==e.letterSpacing&&(e.charSpacing=100*e.letterSpacing),e.fontSize&&e.fontSize<t.minFontSize?e.fontSize=t.minFontSize:e.fontSize&&e.fontSize>t.maxFontSize&&(e.fontSize=t.maxFontSize),e.textTransform){let n=t.text;"uppercase"===e.textTransform?n=n.toUpperCase():"lowercase"===e.textTransform&&(n=n.toLowerCase()),e.text=n}if(e.hasOwnProperty("shadowColor")||e.hasOwnProperty("shadowBlur")||e.hasOwnProperty("shadowOffsetX")||e.hasOwnProperty("shadowOffsetY"))if(null===e.shadowColor)t.set("shadow",null);else{let n={};t.shadow&&(n=t.shadow.toObject());let i={color:e.hasOwnProperty("shadowColor")?e.shadowColor:n.color,blur:e.hasOwnProperty("shadowBlur")?e.shadowBlur:n.blur,offsetX:e.hasOwnProperty("shadowOffsetX")?e.shadowOffsetX:n.offsetX,offsetY:e.hasOwnProperty("shadowOffsetY")?e.shadowOffsetY:n.offsetY};t.set("shadow",i)}}if(delete e.paths,t.setOptions(e),"i-text"==t.type&&t.widthFontSize&&t.text.length>0){let e;e=t.width>t.widthFontSize?t.fontSize*(t.widthFontSize/(t.width+1)):t.fontSize*(t.widthFontSize/(t.width-1)),e<t.minFontSize?e=t.minFontSize:e>t.maxFontSize&&(e=t.maxFontSize),e=parseInt(e),t.set("fontSize",e)}if(e.autoCenter&&t.centerElement(),e.hasOwnProperty("lockUniScaling")&&t._elementControls(),void 0!==e.fill||void 0!==e.svgFill){const n=void 0!==e.svgFill?e.svgFill:e.fill;t.changeColor(n),t.pattern=void 0}if(void 0!==e.pattern&&t.setPattern(e.pattern),e.filter){const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof e)switch(e=e.toLowerCase()){case"grayscale":return new fabric.Image.filters.Grayscale;case"sepia":return new fabric.Image.filters.Sepia;case"kodachrome":return new fabric.Image.filters.Kodachrome;case"black_white":return new fabric.Image.filters.BlackWhite;case"vintage":return new fabric.Image.filters.Vintage;case"technicolor":return new fabric.Image.filters.Technicolor;case"brightness":return new fabric.Image.filters.Brightness(t);case"contrast":return new fabric.Image.filters.Contrast(t);case"removewhite":return new fabric.Image.filters.RemoveColor(t)}else if(Array.isArray(e))return new fabric.Image.filters.ColorMatrix({matrix:e});return null}(e.filter);n&&t.applyFilters?(t.filters=[n],t.applyFilters()):t.applyFilters&&(t.filters=[],t.applyFilters())}if(t.canvas&&e.z>=0&&(t.moveTo(e.z),this._bringToppedElementsToFront()),e.hasOwnProperty("curved"))if(e.curved){if("textbox"==t.type){let e=t.getElementJSON();return delete e.width,this.addElement("text",e.text,t.title,e),void this.removeElement(t)}t.setCurvedTextPath(),t==this.getActiveObject()&&(t.path.visible=!0),t.set("text",t.text.replace(/[\r\n]+/g,"")),t.setCurvedTextPosition()}else t.set("path",null);e.hasOwnProperty("curveRadius")&&(t.setCurvedTextPath(),t==this.getActiveObject()&&(t.path.visible=!0)),t.uploadZone?t.evented=0!==t.opacity:t.isEditable&&!this.viewOptions.editorMode&&(t.evented=!e.locked);for(var i=this.getObjects(),a=0;a<i.length;++a){var s=i[a];s.uploadZone&&s.title==e.replace&&(s.opacity=0,s.evented=!1)}t.setCoords(),this.renderAll().calcOffset(),this.fire("elementModify",{element:t,options:e}),t._checkContainment(),this._doHistory&&this.historySaveAction(),e.autoSelect&&t.isEditable&&!this.editorMode&&this.wrapperEl.offsetParent&&setTimeout((()=>{this.setActiveObject(t)}),200),t._optionsSet=!0},fabric.Canvas.prototype.duplicateElement=function(e){var t=e.getElementJSON();t.top=t.top+30,t.left=t.left+30,this.viewOptions.editorMode||(t.autoSelect=!0),this.addElement(e.getType(),e.source,"Copy "+e.title,t)},fabric.Canvas.prototype.getUploadZone=function(e){const t=this.getObjects();for(var n=0;n<t.length;++n)if(t[n].uploadZone&&t[n].title==e)return t[n]},fabric.Canvas.prototype.setMask=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};if(e&&e.url&&e.url.includes(".svg")){const n=FancyProductDesigner.proxyFileServer+e.url;this.maskOptions=e,fabric.loadSVGFromURL(n,((n,i)=>{let a=null;n&&(a=n?fabric.util.groupSVGElements(n,i):null,a.setOptions({left:e.left?Number(e.left):0,top:e.top?Number(e.top):0,scaleX:e.scaleX?Number(e.scaleX):1,scaleY:e.scaleY?Number(e.scaleY):1,selectable:!0,evented:!1,resizable:!0,lockUniScaling:!1,lockRotation:!0,borderColor:"transparent",fill:"rgba(0,0,0,0)",transparentCorners:!0,cornerColor:this.viewOptions.selectedColor,cornerIconColor:this.viewOptions.cornerIconColor,cornerSize:24,originX:"left",originY:"top",name:"view-mask",objectCaching:!1,excludeFromExport:!0,_ignore:!0}),this.maskObject=a,this.clipPath=a,this.renderAll(),this.resetSize()),t(a)}))}else this.maskObject=this.maskOptions=this.clipPath=null,this.renderAll()};const U=e=>{let t="";if(e.hasOwnProperty("url")){let n=e.name,i=-1!==e.url.search(".woff")?"woff":"TrueType",a=FancyProductDesigner.proxyFileServer+e.url;if(n+=":n4",t+='@font-face {font-family:"'+e.name+'"; font-style: normal; font-weight: normal; src:url("'+a+'") format("'+i+'");}\n',e.variants){for(const n in e.variants){let s={n7:"font-style: normal; font-weight: bold;",i4:"font-style: italic; font-weight: normal;",i7:"font-style: italic; font-weight: bold;"};a=FancyProductDesigner.proxyFileServer+e.variants[n],t+='@font-face {font-family:"'+e.name+'"; '+s[n]+' src:url("'+a+'") format("'+i+'");}\n'}n+=","+Object.keys(e.variants).toString()}}return t},V=(e,t)=>{let n=e.mainOptions.fonts;if(n&&n.length>0&&"object"==typeof n[0]){n.sort(((e,t)=>{let n=e.name.toUpperCase(),i=t.name.toUpperCase();return n<i?-1:n>i?1:0}));let s=[],o=[],r=0;const l=document.createElement("style");l.id="fpd-fonts",e.container.before(l),n.forEach((e=>{if(e.hasOwnProperty("url"))if("google"==e.url)s.push(e.name+":400,400i,700,700i");else{let t=e.name;t+=":n4",e.variants&&(t+=","+Object.keys(e.variants).toString()),o.push(t),l.append(U(e))}}));var i=function(e,i,a){"inactive"==e&&console.log(i+" font could not be loaded."),r==s.length+o.length-1&&t(n),r++},a={fontactive:function(e,t){i("active",e)},fontinactive:function(e,t){i("inactive",e)},timeout:3e3};s.length>0&&(a.google={families:s}),o.length>0&&(a.custom={families:o}),"undefined"!=typeof WebFont&&(s.length>0||o.length>0)?WebFont.load(a):t(n)}else t(n)};function Z(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function W(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var Y=new WeakSet,G=new WeakSet;class J extends EventTarget{constructor(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),Z(this,G),Z(this,Y),W(this,"totalPrice",0),W(this,"truePrice",0),W(this,"additionalPrice",0),W(this,"locked",!1),W(this,"mask",null),W(this,"viewData",void 0),W(this,"onCreatedCallback",void 0),W(this,"title",void 0),W(this,"thumbnail",void 0),W(this,"options",void 0),W(this,"names_numbers",void 0),W(this,"canvasElem",null),W(this,"fabricCanvas",null),W(this,"elementsAdded",!1),this.viewData=n,this.onCreatedCallback=i,this.title=n.title,this.thumbnail=n.thumbnail,this.options=n.options,this.mask=n.mask,this.locked=void 0!==n.locked?n.locked:this.options.optionalView,this.names_numbers=n.names_numbers?n.names_numbers:null,fabric.Canvas.prototype.snapGridSize=this.options.snapGridSize,fabric.Canvas.prototype.snapToObjects=this.options.smartGuides;const s=this.options.selectedColor;fabric.Object.prototype.borderColor=s,fabric.Object.prototype.cornerColor=s,fabric.Object.prototype.cornerIconColor=this.options.cornerIconColor,a=o({containerClass:"fpd-view-stage fpd-hidden",selection:this.options.multiSelection,selectionBorderColor:this.options.multiSelectionColor,selectionColor:tinycolor(this.options.multiSelectionColor).setAlpha(.1).toRgbString(),hoverCursor:"pointer",controlsAboveOverlay:!0,centeredScaling:!0,allowTouchScrolling:!0,preserveObjectStacking:!0},a),this.fabricOptions=a,this.canvasElem=document.createElement("canvas"),t.append(this.canvasElem),this.fabricCanvas=new fabric.Canvas(this.canvasElem,a),this.fabricCanvas.viewOptions=this.options,this.fabricCanvas.setDimensions({width:this.options.stageWidth,height:this.options.stageHeight}),this.fabricCanvas.on({imageFail:t=>{let{url:n}=t;e(`\n                    <p>The image with the URL<br /><i style='font-size: 10px;'>${n}</i><br />can not be loaded into the canvas.</p>\n                    <p><b>Troubleshooting</b>\n                        <ul>\n                            <li>The URL is not correct!</li>\n                            <li>The image has been blocked by <a href='https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS' target='_blank'>CORS policy</a>. You need to host the image under the same protocol and domain or enable 'Access-Control-Allow-Origin' on the server where you host the image. <a href='http://enable-cors.org/' target='_blank'>Read more about it here.</a><\n                            /li>\n                        </ul>\n                    </p>\n                `)}}),this.toggleLock(Boolean(this.locked));const r=e=>{e.chargeAfterEditing&&(e._isPriced||(this.changePrice(e.price,"+"),e._isPriced=!0),e._initialText===e.text&&e._isPriced&&(this.changePrice(e.price,"-"),e._isPriced=!1))};this.fabricCanvas.on({"object:added":e=>{let t=e.target,n=t.price;if(t._addToUZ&&""!=t._addToUZ){var i=this.fabricCanvas.getElementByTitle(t._addToUZ);n=i&&i.price?i.price:n}void 0===n||0===n||t.uploadZone||t._ignore||t.chargeAfterEditing&&!t._isPriced||this.changePrice(n,"+")},"object:removed":e=>{const t=e.target;void 0===t.price||0===t.price||t.uploadZone||t.chargeAfterEditing&&!t._isPriced||this.changePrice(t.price,"-")},"text:changed":e=>{r(e.target)},elementModify:e=>{this.elementsAdded&&e.options.hasOwnProperty("text")&&r(e.element)},elementFillChange:e=>{R(this,G,Q).call(this,e.element)}})}init(){this.loadElements(this.viewData.elements,R(this,Y,X).bind(this))}loadElements(e,t){this.fabricCanvas.initialElementsLoaded&&this.fabricCanvas.reset(!1),this.fabricCanvas.offHistory(),this.fabricCanvas.addElements(e,t)}toDataURL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e=void 0===e?function(){}:e,t.onlyExportable=void 0!==t.onlyExportable&&t.onlyExportable,t.multiplier=void 0===t.multiplier?1:t.multiplier,t.backgroundColor=void 0===t.backgroundColor?"transparent":t.backgroundColor,t.watermarkImg=void 0===t.watermarkImg?null:t.watermarkImg;let i=[],a=this.options.highlightEditableObjects;this.options.highlightEditableObjects="transparent",this.fabricCanvas.getObjects().forEach((e=>{e.excludeFromExport&&t.onlyExportable&&(e.visible=!1,i.push(e))})),n&&this.fabricCanvas.deselectElement();let s=fabric.devicePixelRatio;fabric.devicePixelRatio=1,this.fabricCanvas.setDimensions({width:this.options.stageWidth,height:this.options.stageHeight}).setZoom(1),this.fabricCanvas.setBackgroundColor(t.backgroundColor,(()=>{t.watermarkImg&&(this.fabricCanvas.add(t.watermarkImg),t.watermarkImg.center(),t.watermarkImg.bringToFront()),e(this.fabricCanvas.toDataURL(t)),t.watermarkImg&&this.fabricCanvas.remove(t.watermarkImg),this.fabricCanvas.wrapperEl.offsetParent&&this.fabricCanvas.resetSize(),this.fabricCanvas.setBackgroundColor("transparent",(()=>{this.fabricCanvas.renderAll()}));for(var n=0;n<i.length;++n)i[n].visible=!0;this.fabricCanvas.renderAll(),fabric.devicePixelRatio=s,this.options.highlightEditableObjects=a}))}toSVG(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(t.respectPrintingBox=void 0!==t.respectPrintingBox&&t.respectPrintingBox,t.watermarkImg=void 0===t.watermarkImg?null:t.watermarkImg,this.fabricCanvas.deselectElement(),t.respectPrintingBox&&s(this.options.printingBox,["left","top","width","height"])){let e=0,n=0;s(this.options.output,["bleed","width","height"])&&(e=this.options.output.bleed/this.options.output.width*this.options.printingBox.width,n=this.options.output.bleed/this.options.output.height*this.options.printingBox.height),t.viewBox={x:this.options.printingBox.left-e,y:this.options.printingBox.top-n,width:this.options.printingBox.width+2*e,height:this.options.printingBox.height+2*n},this.fabricCanvas.setDimensions({width:this.options.printingBox.width,height:this.options.printingBox.height}).setZoom(1)}else this.fabricCanvas.setDimensions({width:this.options.stageWidth,height:this.options.stageHeight}).setZoom(1);let i=this.fabricCanvas.backgroundColor;"transparent"==i&&(this.fabricCanvas.backgroundColor=!1),t.watermarkImg&&(this.fabricCanvas.add(t.watermarkImg),t.watermarkImg.center(),t.watermarkImg.bringToFront()),e=this.fabricCanvas.toSVG(t,t.reviver),t.watermarkImg&&this.fabricCanvas.remove(t.watermarkImg),this.fabricCanvas.backgroundColor=i,this.fabricCanvas.wrapperEl.offsetParent&&this.fabricCanvas.resetSize();const a=document.createElement("div");a.innerHTML=e;const o=a.querySelector("defs");a.querySelectorAll("clipPath").forEach((e=>{o.appendChild(e)}));const r=document.createElement("style");let l="",c="";n.forEach((e=>{e.hasOwnProperty("url")&&("google"==e.url?l+=e.name.replace(/\s/g,"+")+":ital,wght@0,400;0,700;1,700&":c+=U(e))})),l.length>0&&r.insertAdjacentHTML("beforeend",'@import url("https://fonts.googleapis.com/css2?family='+l.replace(/&/g,"&amp;")+'display=swap");'),c.length>0&&r.insertAdjacentHTML("beforeend",c),o.appendChild(r);let d=a.innerHTML;return d=d.replace(/(?:\r\n|\r|\n)/g,""),d}toggleLock(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.locked=e,m(this.fabricCanvas.wrapperEl,["fpd-disabled"],e),this.dispatchEvent(new CustomEvent("priceChange",{detail:{elementPrice:0,truePrice:this.truePrice}})),e}changePrice(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("number"!=typeof e&&(e=Number(e)),"+"===t?this.totalPrice+=e:this.totalPrice-=e,null!==n){let e=this.additionalPrice;this.totalPrice-=e,this.additionalPrice=n,this.totalPrice+=n}return this.truePrice=this.totalPrice,"number"==typeof this.options.maxPrice&&-1!=this.options.maxPrice&&this.truePrice>this.options.maxPrice&&(this.truePrice=Number(this.options.maxPrice)),this.truePrice%1!=0&&(this.truePrice=Number(this.truePrice.toFixed(2))),this.dispatchEvent(new CustomEvent("priceChange",{detail:{elementPrice:e,truePrice:this.truePrice}})),this.truePrice}}function X(){this.elementsAdded=!0,this.fabricCanvas._doHistory=!0,this.mask&&this.fabricCanvas.setMask(this.mask),this.onCreatedCallback&&this.onCreatedCallback(this),this.dispatchEvent(new CustomEvent("priceChange",{detail:{elementPrice:0,truePrice:this.truePrice}}))}function Q(e){if(this.elementsAdded&&e.colorPrices&&"object"==typeof e.colors&&e.colors.length>1){void 0!==e.currentColorPrice&&(e.price-=e.currentColorPrice,this.changePrice(e.currentColorPrice,"-"));const i=e.fill;if("string"==typeof i){var t=i.replace("#","");if(e.colorPrices.hasOwnProperty(t)||e.colorPrices.hasOwnProperty(t.toUpperCase())){var n=void 0===e.colorPrices[t]?e.colorPrices[t.toUpperCase()]:e.colorPrices[t];e.currentColorPrice=n,e.price+=e.currentColorPrice,this.changePrice(e.currentColorPrice,"+")}else e.currentColorPrice=0}else e.currentColorPrice=0}}W(J,"relevantOptions",["stageWidth","stageHeight","selectedColor","boundingBoxColor","outOfBoundaryColor","cornerIconColor","customAdds","elementParameters","imageParameters","textParameters","customImageParameters","customTextParameters","maxPrice","optionalView","designCategories","printingBox","output","layouts","usePrintingBoxAsBounding","threeJsPreviewModel","editorMode","imageLoadTimestamp","fitImagesInCanvas","inCanvasTextEditing","applyFillWhenReplacing","disableTextEmojis","cornerControlsStyle","responsive","canvasHeight","maxCanvasHeight","boundingBoxProps","highlightEditableObjects","multiSelection","multiSelectionColor","mobileGesturesBehaviour","smartGuides","snapGridSize"]),window.FancyProductDesigner=J;const K=e=>{let t=e.url;e.params&&(t+="?"+new URLSearchParams(e.params).toString());const n=new XMLHttpRequest;return n.responseType="json",n.open("GET",t),n.onreadystatechange=t=>{4==n.readyState&&200==n.status?e.onSuccess&&e.onSuccess(n.response):200!==n.status&&e.onError&&e.onError(n)},n.send(),n};class _ extends EventTarget{langJSON=null;constructor(){super()}loadLangJSON(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};!1!==e?"object"==typeof e?(this.langJSON=e,t.call(this)):K({url:e,onSuccess:e=>{this.langJSON=e,t.call(this)},onError:n=>{alert('Language JSON "'+e+'" could not be loaded or is not valid. Make sure you set the correct URL in the options and the JSON is valid!'),t.call(this)}}):t.call(this)}translateElement(e){let t="";if(this.langJSON){let n="";if(n=e.getAttribute("placeholder")?e.getAttribute("placeholder"):e.getAttribute("title")?e.getAttribute("title"):e.dataset.title?e.dataset.title:e.innerText,n.includes(".")){let i=n.toLowerCase().split("."),a=this.langJSON[i[0]];a?(t=a[i[1]],void 0===t&&(console.log("FPD label not found: "+e.dataset.defaulttext,i),t=e.dataset.defaulttext)):t=e.dataset.defaulttext}else t=n}else t=e.dataset.defaulttext;return e.getAttribute("placeholder")?(e.setAttribute("placeholder",t),e.innerText=""):e.getAttribute("title")?e.setAttribute("title",t):e.dataset.title?e.dataset.title=t:e.innerText=t,t}getTranslation(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return!g(this.langJSON)&&(e=this.langJSON[e])&&e[t]?e[t]:n}translateArea(e){const t=e.querySelectorAll("[data-defaulttext]");Array.from(t).forEach((e=>{this.translateElement(e)}))}}function $(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ee(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var te=new WeakSet;class ne extends HTMLElement{constructor(){var e,t;super(),function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e=this,t=te),t.add(e),$(this,"placeholder",""),$(this,"value",""),$(this,"searchable",!1),$(this,"inputElem",null),$(this,"listElem",null)}connectedCallback(){this.innerHTML='<input type="text" class="fpd-dropdown-current"/> <div class="fpd-dropdown-arrow"><span class="fpd-icon-arrow-dropdown"></span></div> <div class="fpd-dropdown-list"> <div class="fpd-scroll-area"></div> </div> ',this.inputElem=this.querySelector("input.fpd-dropdown-current"),this.listElem=this.querySelector(".fpd-dropdown-list"),this.addEventListener("click",(()=>{ee(this,te,ie).call(this),this.classList.toggle("fpd-active")})),this.querySelector(".fpd-dropdown-arrow").addEventListener("click",(e=>{e.stopPropagation(),ee(this,te,ie).call(this),this.classList.toggle("fpd-active")})),this.inputElem.addEventListener("keyup",(e=>{if(this.searchable){const t=e.currentTarget.value;this.listElem.querySelectorAll(".fpd-item").forEach((e=>{0==t.length?e.classList.remove("fpd-hidden"):e.classList.toggle("fpd-hidden",!e.innerText.toLowerCase().includes(t.toLowerCase()))}))}})),window.addEventListener("scroll",(()=>{ee(this,te,ie).call(this)}));const e=t=>{var n=t.parentNode;n&&(t.addEventListener("scroll",(()=>{ee(this,te,ie).call(this)})),e(n))};e(this),this.inputElem.setAttribute("placeholder",this.getAttribute("placeholder")||""),ee(this,te,ie).call(this)}static get observedAttributes(){return["searchable","placeholder","value"]}attributeChangedCallback(e,t,n){t!==n&&(this.inputElem&&("placeholder"===e?this.inputElem.setAttribute("placeholder",n):"value"===e&&(this.inputElem.value=n)),"searchable"===e&&(this.searchable=this.hasAttribute("searchable")))}}function ie(){const e=this.getBoundingClientRect();this.listElem.style.width=e.width+"px",this.listElem.style.left=e.left+"px",this.listElem.style.top=e.top+e.height+"px"}customElements.define("fpd-dropdown",ne),n(653);class ae extends HTMLElement{constructor(){super()}connectedCallback(){this.innerHTML='<div class="fpd-navigation fpd-scrollbar-hidden"></div> <div class="fpd-module-content"></div> <div class="fpd-secondary-content"> <div class="fpd-upload-zone-panel"> <div class="fpd-upload-zone-content"></div> <div class="fpd-bottom-nav fpd-module-tabs"> <div class="fpd-add-image" data-module="images"> <span class="fpd-icon-photo"></span> </div> <div class="fpd-add-text" data-module="text"> <span class="fpd-icon-text-secondary"></span> </div> <div class="fpd-add-design" data-module="designs"> <span class="fpd-icon-design-library"></span> </div> </div> </div> </div> <div class="fpd-close"> <span class="fpd-icon-close"></span> </div> <div class="fpd-draggable-dialog fpd-container fpd-shadow-2"> <div class="fpd-dialog-head"> <div class="fpd-dialog-drag-handle"> <div> <span class="fpd-icon-drag"></span><span class="fpd-dialog-title"></span> </div> </div> <div class="fpd-close-dialog"> <span class="fpd-icon-close"></span> </div> </div> </div> '}}customElements.define("fpd-main-bar",ae);class se extends HTMLElement{constructor(){super()}connectedCallback(){this.innerHTML='<div data-moduleicon="fpd-icon-grid" data-defaulttext="Swap Product" data-title="modules.products"> <fpd-dropdown class="fpd-product-categories" searchable></fpd-dropdown> <div class="fpd-scroll-area"> <div class="fpd-grid fpd-grid-contain fpd-padding"> </div> </div> </div>'}}function oe(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function re(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}customElements.define("fpd-module-products",se);var le=new WeakSet,ce=new WeakSet;class de extends EventTarget{constructor(e,t){var n,i,a;super(),oe(this,ce),oe(this,le),n=this,a=0,(i=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(i="currentCategoryIndex"))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,this.fpdInstance=e,this.container=document.createElement("fpd-module-products"),t.append(this.container),e.addEventListener("productsSet",(e=>{const t=this.container.querySelector(".fpd-dropdown-list > .fpd-scroll-area");t.innerHTML="",this.fpdInstance.products&&this.fpdInstance.products.length>0&&(void 0!==this.fpdInstance.products[0].category&&this.fpdInstance.products.length>1&&(this.container.classList.add("fpd-categories-enabled"),this.fpdInstance.products.forEach(((e,n)=>{const i=document.createElement("span");i.className="fpd-item",i.dataset.index=n,i.innerText=e.category,i.addEventListener("click",(e=>{this.selectCategory(e.currentTarget.dataset.index)})),t.append(i)}))),re(this,le,pe).call(this),this.selectCategory(0))})),e.addEventListener("productAdd",((e,t,n,i)=>{i==this.currentCategoryIndex&&re(this,ce,he).call(this,t)}))}selectCategory(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.currentCategoryIndex=e,this.container.querySelector(".fpd-grid").innerHTML="",this.fpdInstance.products&&this.fpdInstance.products.length>0){let t;void 0!==this.fpdInstance.products[0].category?(t=this.fpdInstance.products[e].products,this.container.querySelector(".fpd-dropdown-current").value=this.fpdInstance.products[e].category):t=this.fpdInstance.products,t.forEach(((e,t)=>{re(this,ce,he).call(this,e,t)}))}}}function pe(){if(this.fpdInstance.mainOptions.editorMode)return;let e=this.fpdInstance.products[0],t=void 0===e;void 0!==e&&(t=!!(!e.hasOwnProperty("category")&&this.fpdInstance.products.length<2||e.hasOwnProperty("category")&&e.products.length<2&&this.fpdInstance.products.length<2)),this.fpdInstance.container.classList.toggle("fpd-products-module-hidden",t)}function he(t,n){let i=t[0].productThumbnail?t[0].productThumbnail:t[0].thumbnail,a=t[0].productTitle?t[0].productTitle:t[0].title;const s=document.createElement("div");s.className="fpd-item fpd-hover-thumbnail",s.dataset.title=a,s.dataset.source=i,s.dataset.index=n,s.addEventListener("click",(t=>{if(t.preventDefault(),this.fpdInstance.mainOptions.swapProductConfirmation){var i=e(this.fpdInstance.translator.getTranslation("modules","products_confirm_replacement"),!1,"confirm",this.fpdInstance.container);const t=i.querySelector(".fpd-confirm");t.innerText=this.fpdInstance.translator.getTranslation("modules","products_confirm_button"),p(t,["click"],(()=>{this.fpdInstance.selectProduct(n,this.currentCategoryIndex),i.remove()}))}else this.fpdInstance.selectProduct(Number(t.currentTarget.dataset.index),this.currentCategoryIndex)})),this.container.querySelector(".fpd-grid").append(s);const o=document.createElement("picture");o.dataset.img=i,s.append(o),this.fpdInstance.lazyBackgroundObserver.observe(o)}window.FPDProductsModule=de;class ue extends HTMLElement{constructor(){super()}connectedCallback(){this.innerHTML='<div data-moduleicon="fpd-icon-text-secondary" data-defaulttext="Add Text" data-title="modules.text"> <div class="fpd-add-text"> <textarea data-defaulttext="Enter some text" placeholder="modules.text_input_placeholder"></textarea> <div class="fpd-btn"> <span data-defaulttext="Add Text">modules.text_add_btn</span> <span class="fpd-price"></span> </div> </div> <div class="fpd-text-templates fpd-scroll-area"> <div class="fpd-grid fpd-padding"></div> </div> </div>'}}customElements.define("fpd-module-text",ue);class fe extends EventTarget{constructor(e,t){if(super(),this.fpdInstance=e,this.container=document.createElement("fpd-module-text"),t.append(this.container),this.container.querySelector(".fpd-btn").addEventListener("click",(t=>{let n=this.container.querySelector("textarea"),i=n.value;if(e.currentViewInstance&&i.length>0){const t=e.currentViewInstance.options;let n=o(t.customTextParameters,{textBox:Boolean(this.fpdInstance.mainOptions.customTextAsTextbox),resizable:!0,isCustom:!0,_addToUZ:e.currentViewInstance.currentUploadZone,_calcWidth:!0});e.currentViewInstance.fabricCanvas.addElement("text",i,i,n)}n.value=""})),p(this.container.querySelector("textarea"),["input","change"],(t=>{const n=e.currentViewInstance.options;let i=t.currentTarget.value,a=n.customTextParameters.maxLength,s=n.customTextParameters.maxLines;i=i.replace(FancyProductDesigner.forbiddenTextChars,""),e.mainOptions.disableTextEmojis&&(i=i.replace(FPDEmojisRegex,""),i=i.replace(String.fromCharCode(65039),"")),0!=a&&i.length>a&&(i=i.substr(0,a)),0!=s&&i.split("\n").length>s&&(i=i.replace(/([\s\S]*)\n/,"$1")),t.currentTarget.value=i})),p(e,["viewSelect","secondaryModuleCalled"],(t=>{if(!e.currentViewInstance)return;const n=e.currentViewInstance.options;let i=null;if(e.currentViewInstance.currentUploadZone&&this.container.parentNode.classList.contains("fpd-upload-zone-content")){const t=e.currentViewInstance.fabricCanvas.getUploadZone(e.currentViewInstance.currentUploadZone);r(t,"price")&&(i=t.price)}const a=r(n,"customTextParameters.price",0);null==i&&a&&(i=a);const s=this.container.querySelector(".fpd-btn > .fpd-price");s&&(s.innerHTML=i?" - "+e.formatPrice(i):"")})),Array.isArray(e.mainOptions.textTemplates)){var n=this.container.querySelector(".fpd-text-templates .fpd-grid");e.mainOptions.textTemplates.forEach((t=>{var i=t.properties,a="font-family:"+(i.fontFamily?i.fontFamily:"Arial");a+="; text-align:"+(i.textAlign?i.textAlign:"left");const s=document.createElement("div");s.className="fpd-item",s.addEventListener("click",(n=>{if(e.currentViewInstance){const n=e.currentViewInstance.options;let i={...t.properties};i.isCustom=!0,i.textBox=Boolean(this.fpdInstance.mainOptions.customTextAsTextbox),i.resizable=!0,i._addToUZ=e.currentViewInstance.currentUploadZone,i._calcWidth=!0;let a=o(n.customTextParameters,i);e.currentViewInstance.fabricCanvas.addElement("text",t.text,t.text,a)}}));const r=document.createElement("div");r.setAttribute("style",a),r.innerHTML=t.text.replace(/(?:\r\n|\r|\n)/g,"<br>"),s.append(r),n.append(s)}))}}}window.FPDTextsModule=fe;class me extends HTMLElement{constructor(){super()}connectedCallback(){this.innerHTML='<div data-moduleicon="fpd-icon-design-library" data-defaulttext="Add Designs" data-title="modules.designs"> <div class="fpd-head"> <div class="fpd-input-back-search"> <div class="fpd-back fpd-btn"> <span class="fpd-icon-back"></span> </div> <div class="fpd-input-search"> <input type="text"/> <span class="fpd-icon-magnify"></span> </div> </div> </div> <div class="fpd-scroll-area"> <div class="fpd-grid fpd-grid-contain fpd-padding"></div> </div> </div>'}}function ge(e,t){be(e,t),t.add(e)}function ve(e,t,n){be(e,t),t.set(e,n)}function be(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ye(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function we(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,xe(e,t,"get"))}function Ce(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,xe(e,t,"set"),n),n}function xe(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}customElements.define("fpd-module-designs",me);var Ee=new WeakMap,Ie=new WeakMap,Ae=new WeakMap,Se=new WeakMap,ke=new WeakMap,Oe=new WeakSet,Te=new WeakSet,De=new WeakSet,Pe=new WeakSet;class Me extends EventTarget{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super(),ge(this,Pe),ge(this,De),ge(this,Te),ge(this,Oe),ve(this,Ee,{writable:!0,value:""}),ve(this,Ie,{writable:!0,value:!1}),ve(this,Ae,{writable:!0,value:[]}),ve(this,Se,{writable:!0,value:null}),ve(this,ke,{writable:!0,value:null}),Ce(this,Ee,e.translator.getTranslation("modules","designs_search_in","Search in").toUpperCase()),this.fpdInstance=e,Ce(this,ke,n),this.container=document.createElement("fpd-module-designs"),t.append(this.container),n&&(this.container.dataset.dynamicDesignsId=n),this.headElem=this.container.querySelector(".fpd-head"),this.gridElem=this.container.querySelector(".fpd-grid"),this.headElem.querySelector(".fpd-input-search input").addEventListener("keyup",(e=>{const t=e.currentTarget,n=this.gridElem.querySelectorAll(".fpd-item");if(""==t.value)for(let e of n)e.classList.remove("fpd-hidden");else{const e=t.value.toLowerCase().trim();for(let t of n)t.classList.add("fpd-hidden"),t.dataset.search.includes(e)&&t.classList.remove("fpd-hidden")}})),p(this.headElem.querySelector(".fpd-back"),"click",(e=>{this.gridElem.querySelectorAll(".fpd-category").length>0&&we(this,Ae).pop();let t,n=this.fpdInstance.designs;we(this,Ae).forEach((e=>{t=n[e],n=t.category})),Ce(this,Se,n),n&&ye(this,Oe,Be).call(this,we(this,Se),t),void 0===t&&this.toggleCategories()})),p(e,"designsSet",(t=>{const n=e.designs;Array.isArray(n)&&0!==n.length&&(n[0].hasOwnProperty("source")?(this.container.classList.add("fpd-single-cat"),ye(this,De,Fe).call(this,n)):n.length>1||n[0].category?(Ce(this,Ie,!0),this.toggleCategories()):1===n.length&&n[0].designs&&(this.container.classList.add("fpd-single-cat"),ye(this,De,Fe).call(this,n[0].designs)))})),p(e,"viewSelect",(()=>{this.toggleCategories()}))}toggleCategories(){if(!we(this,Ie))return;Ce(this,Ae,[]),this.container.classList.remove("fpd-head-visible","fpd-single-cat"),Ce(this,Se,this.fpdInstance.designs),ye(this,Oe,Be).call(this,we(this,Se));let e=[];if(we(this,ke))e=this.fpdInstance.mainOptions.dynamicDesigns[we(this,ke)].categories;else if(this.fpdInstance.currentViewInstance){const t=this.fpdInstance.currentElement;e=t&&t.uploadZone&&t.designCategories?this.fpdInstance.currentElement.designCategories:this.fpdInstance.currentViewInstance.options.designCategories}e=e.map((e=>e.toLowerCase()));var t=this.container.querySelectorAll(".fpd-category");if(e.length>0){let n=[];for(let i of t)e.includes(i.dataset.title.toLowerCase())?(i.classList.remove("fpd-hidden"),n.push(i)):i.classList.add("fpd-hidden");1===n.length&&(this.container.classList.add("fpd-single-cat"),n[0].click())}else for(let e of t)e.classList.remove("fpd-hidden")}}function Be(e,t){this.gridElem.innerHTML="",this.headElem.querySelector(".fpd-input-search input").value="",this.container.classList.remove("fpd-designs-active"),this.container.classList.add("fpd-categories-active"),e.forEach(((e,t)=>{ye(this,Te,Le).call(this,e)})),t&&(this.headElem.querySelector(".fpd-input-search input").setAttribute("placeholder",we(this,Ee)+" "+t.title.toUpperCase()),this.container.classList.add("fpd-head-visible"))}function Le(e){const t=document.createElement("div");if(t.className="fpd-category fpd-item",t.dataset.title=e.title,t.dataset.search=e.title.toLowerCase(),e.thumbnail){const n=document.createElement("picture");n.dataset.img=e.thumbnail,t.append(n),this.fpdInstance.lazyBackgroundObserver.observe(n);const i=document.createElement("span");i.innerText=e.title,t.append(i)}else t.innerHTML="<span>"+e.title+"</span>";t.addEventListener("click",(e=>{let t=e.currentTarget,n=Array.from(this.gridElem.querySelectorAll(".fpd-item")).indexOf(t),i=we(this,Se)[n];i.category?(we(this,Ae).push(n),Ce(this,Se,i.category),ye(this,Oe,Be).call(this,we(this,Se),i)):ye(this,De,Fe).call(this,i.designs,i.parameters),this.headElem.querySelector(".fpd-input-search input").setAttribute("placeholder",we(this,Ee)+" "+t.dataset.search.toUpperCase())})),this.gridElem.append(t)}function Fe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gridElem.innerHTML="",this.headElem.querySelector(".fpd-input-search input").value="",this.container.classList.remove("fpd-categories-active"),this.container.classList.add("fpd-designs-active","fpd-head-visible"),e.forEach((e=>{e.parameters=o(t,e.parameters),ye(this,Pe,Ne).call(this,e)}))}function Ne(e){e.thumbnail=void 0===e.thumbnail?e.source:e.thumbnail;const t=y(this.fpdInstance,this.container,e.parameters.price),n=b({url:e.source,thumbnailUrl:e.thumbnail,title:e.title,price:t,disablePrice:!Boolean(t)});n.dataset.search=e.title.toLowerCase(),n.parameters=e.parameters,n.addEventListener("click",(e=>{const t=e.currentTarget;this.fpdInstance.addCanvasDesign(t.dataset.source,t.dataset.title,t.parameters)})),this.gridElem.append(n),this.fpdInstance.lazyBackgroundObserver.observe(n.querySelector("picture"))}window.FPDDesignsModule=Me;class je extends HTMLElement{constructor(){super()}connectedCallback(){this.innerHTML='<div data-moduleicon="fpd-icon-images" data-defaulttext="Add Image" data-title="modules.images"> <div class="fpd-module-tabs"> <div data-context="upload" class="fpd-active"> <span class="fpd-icon-cloud-upload"></span> </div> <div data-context="facebook" class="fpd-hidden" title="Facebook"> <span class="fpd-icon-facebook"></span> </div> <div data-context="instagram" class="fpd-hidden" title="Instagram"> <span class="fpd-icon-instagram"></span> </div> <div data-context="pixabay" class="fpd-hidden" title="Pixabay"> <span class="fpd-icon-pixabay"></span> </div> <div data-context="qr-code" title="QR-Code"> <span class="fpd-icon-qrcode"></span> </div> </div> <div class="fpd-module-tabs-content"> <div data-context="upload" class="fpd-active"></div> <div data-context="facebook"></div> <div data-context="instagram"></div> <div data-context="pixabay"></div> <div data-context="qr-code"></div> </div> </div>'}}customElements.define("fpd-module-images",je);class He extends HTMLElement{constructor(){super()}connectedCallback(){this.innerHTML='<div class="fpd-upload-image"> <span data-defaulttext="Drop images here">modules.upload_zone</span> <span class="fpd-btn" data-defaulttext="Browse File">modules.browse_file</span> <span class="fpd-price"></span> </div> <input type="file" multiple="multiple" class="fpd-upload-input fpd-hidden" name="files[]" accept="image/jpeg,image/jpg,image/png,image/svg+xml,application/pdf"/> <div class="fpd-scroll-area"> <div class="fpd-grid fpd-grid-cover fpd-photo-grid"></div> </div>'}}function qe(e,t){Ue(e,t),t.add(e)}function ze(e,t,n){Ue(e,t),t.set(e,n)}function Ue(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ve(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function Ze(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Re(e,t,"get"))}function We(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Re(e,t,"set"),n),n}function Re(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}customElements.define("fpd-module-uploads",He);var Ye=new WeakMap,Ge=new WeakMap,Je=new WeakMap,Xe=new WeakMap,Qe=new WeakMap,Ke=new WeakSet,_e=new WeakSet,$e=new WeakSet,et=new WeakSet,tt=new WeakSet,nt=new WeakSet,it=new WeakSet,at=new WeakSet,st=new WeakSet;class ot extends EventTarget{constructor(e,t){super(),qe(this,st),qe(this,at),qe(this,it),qe(this,nt),qe(this,tt),qe(this,et),qe(this,$e),qe(this,_e),qe(this,Ke),ze(this,Ye,{writable:!0,value:void 0}),ze(this,Ge,{writable:!0,value:0}),ze(this,Je,{writable:!0,value:!1}),ze(this,Xe,{writable:!0,value:[]}),ze(this,Qe,{writable:!0,value:0}),this.fpdInstance=e,this.container=document.createElement("fpd-module-uploads"),t.append(this.container),this.gridElem=this.container.querySelector(".fpd-grid");const n=this.container.querySelector(".fpd-upload-image");We(this,Ye,e.mainOptions.allowedImageTypes),Ze(this,Ye).includes("jpeg")&&!Ze(this,Ye).includes("jpg")&&Ze(this,Ye).push("jpg");const i=this.container.querySelector(".fpd-upload-input");let a=[];if(Ze(this,Ye).forEach((e=>{"pdf"==e?a.push("application/pdf"):("svg"==e&&(e+="+xml"),a.push("image/"+e))})),i.setAttribute("accept",a.join()),p(n,"click",(async e=>{e.preventDefault(),i.click()})),p(i,"change",(e=>{Ve(this,Ke,rt).call(this,e.currentTarget.files)})),p(n,["dragover","dragleave"],(e=>{e.stopPropagation(),e.preventDefault(),e.currentTarget.classList.toggle("fpd-hover","dragover"===e.type)})),p(n,"drop",(e=>{e.stopPropagation(),e.preventDefault();const t=e.target.files||e.dataTransfer.files;Ve(this,Ke,rt).call(this,t)})),p(e,"productCreate",(e=>{We(this,Je,!1)})),v()&&window.localStorage.getItem("fpd_uploaded_images")){const e=JSON.parse(window.localStorage.getItem("fpd_uploaded_images"));e.forEach((t=>{Ve(this,it,ut).call(this,t.url,t.title);const n=new Image;n.src=t.url,n.onerror=()=>{e.forEach(((t,n)=>{e.splice(n,1)}))}})),window.localStorage.setItem("fpd_uploaded_images",JSON.stringify(e))}}}function rt(t){if(this.fpdInstance.mainOptions.uploadAgreementModal){var n=e(this.fpdInstance.translator.getTranslation("modules","images_agreement"),!1,"confirm",this.fpdInstance.container);const i=n.querySelector(".fpd-confirm");i.innerText=this.fpdInstance.translator.getTranslation("modules","images_confirm_button"),p(i,["click"],(()=>{Ve(this,_e,lt).call(this,t),n.remove()}))}else Ve(this,_e,lt).call(this,t)}function lt(e){We(this,Ge,0),We(this,Qe,e.length);for(var t=0;t<this.fpdInstance.viewInstances.length;++t)this.fpdInstance.getElements(t).forEach((e=>{e.uploadZone&&Ze(this,Xe).push({uz:e.title,viewIndex:t})}));this.fpdInstance.loadingCustomImage=!0,Array.from(e).forEach(((e,t)=>{Ze(this,Ye).includes(C(e.name))&&Ve(this,$e,ct).call(this,e,0==t)})),this.container.querySelector(".fpd-upload-image").classList.remove("fpd-hover")}function ct(e,t){const n=1024*this.fpdInstance.mainOptions.customImageParameters.maxSize*1024;if(e.size>n)return i(this.fpdInstance.translator.getTranslation("misc","maximum_size_info").replace("%filename",e.name).replace("%mb",this.fpdInstance.mainOptions.customImageParameters.maxSize)),void(this.fpdInstance.loadingCustomImage=!1);"application/pdf"===e.type?Ve(this,tt,pt).call(this,e,t):Ve(this,et,dt).call(this,e,t)}function dt(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a=this.fpdInstance.mainOptions,s=new FileReader;s.onload=s=>{const o=s.currentTarget.result;if("image/jpeg"===t.type&&a.customImageParameters.minDPI){const n=new JpegMeta.JpegFile(atob(o.replace(/^.*?,/,"")),t.name);let i=null;if(n.tiff&&n.tiff.XResolution&&n.tiff.XResolution.value){var r=n.tiff.XResolution.value.den;i=n.tiff.XResolution.value.num/r}else n.jfif&&n.jfif.Xdensity&&n.jfif.Xdensity.value&&(i=n.jfif.Xdensity.value);if(null!==i){if(console.log(t.name+" Real Resolution: "+i),i<a.customImageParameters.minDPI){let t=this.fpdInstance.translator.getTranslation("misc","minimum_dpi_info");return t=t.replace("%dpi",a.customImageParameters.minDPI),e(t,!1,"",this.fpdInstance.container),this.fpdInstance.loadingCustomImage=!1,!1}}else console.log(t.name+": Resolution is not accessible.")}const l=Ve(this,it,ut).call(this,o,t.name);if(FancyProductDesigner.uploadsToServer){if(!a.fileServerURL)return l.remove(),void alert("You need to set the fileServerURL in the option, otherwise file uploading does not work!");l.classList.add("fpd-loading"),l.insertAdjacentHTML("beforeend",'<div class="fpd-loading-bar"><div class="fpd-loading-progress"></div></div>')}var c=new Image;c.onload=e=>{const a=e.currentTarget;let s=a.height,o=a.width;if(this.fpdInstance.currentViewInstance.options.customImageParameters,w(this.fpdInstance,o,s))if(FancyProductDesigner.uploadsToServer){var r=new FormData;r.append("images[]",t);const e=new XMLHttpRequest;e.responseType="json",e.onreadystatechange=t=>{if(e.readyState===XMLHttpRequest.DONE){const t=e.status;if(0===t||t>=200&&t<400){const t=e.response;var i;t.image_src&&(Ve(this,nt,ht).call(this,t.image_src,t.filename),l.dataset.source=t.image_src,l.classList.remove("fpd-loading"),l.querySelector(".fpd-loading-bar").remove(),Ve(this,at,ft).call(this,l,n),We(this,Ge,(i=Ze(this,Ge),++i)),l.xhr=null),this.fpdInstance.loadingCustomImage=!1}}},e.upload.onprogress=e=>{let t=e.total,n=e.loaded,i=parseInt(100*n/t);l.querySelector(".fpd-loading-progress").style.width=i+"%"},e.upload.onerror=e=>{this.fpdInstance.loadingCustomImage=!1,l.remove(),i("Upload failed. Please try again or check your web console!")},e.open("POST",this.fpdInstance.mainOptions.fileServerURL),e.send(r),l.xhr=e}else{var c;Ve(this,nt,ht).call(this,a,t.name),Ve(this,at,ft).call(this,l,n),We(this,Ge,(c=Ze(this,Ge),++c))}else l.remove(),this.fpdInstance.currentViewInstance.currentUploadZone=null},c.src=o},s.readAsDataURL(t)}function pt(e){this.fpdInstance.mainOptions;const t=i(this.fpdInstance.translator.getTranslation("modules","images_pdf_upload_info"),!1),n=new FormData;n.append("pdf",e);const a=new XMLHttpRequest;a.responseType="json",a.onreadystatechange=e=>{if(a.readyState===XMLHttpRequest.DONE){const e=a.status;if(0===e||e>=200&&e<400){var n,i;const e=a.response;We(this,Qe,(n=Ze(this,Qe),--n)),e.pdf_images.forEach(((e,t)=>{var n;const i=Ve(this,it,ut).call(this,e.image_url,e.filename);Ve(this,at,ft).call(this,i,0==t),Ve(this,nt,ht).call(this,e.image_url,e.filename),We(this,Ge,(n=Ze(this,Ge),++n))})),t.remove(),We(this,Qe,(i=Ze(this,Qe),++i)),this.fpdInstance.loadingCustomImage=!1}}},a.upload.onerror=()=>{this.fpdInstance.loadingCustomImage=!1,t.remove(),i("Upload failed. Please try again or check your web console!")},a.open("POST",this.fpdInstance.mainOptions.fileServerURL),a.send(n)}function ht(e,t){if(v()){var n=window.localStorage.getItem("fpd_uploaded_images")?JSON.parse(window.localStorage.getItem("fpd_uploaded_images")):[],i={url:e,title:t};n.push(i),window.localStorage.setItem("fpd_uploaded_images",JSON.stringify(n))}}function ut(e,t){const n=b({url:e,title:t,price:y(this.fpdInstance,this.container),removable:!0});return Ve(this,st,mt).call(this,n,e),this.gridElem.append(n),this.fpdInstance.lazyBackgroundObserver.observe(n.querySelector("picture")),p(n,["click"],(e=>{this.fpdInstance.loadingCustomImage||this.fpdInstance._addGridItemToCanvas(e.currentTarget,{},void 0,!1)})),p(n.querySelector(".fpd-delete"),"click",(e=>{e.stopPropagation(),e.preventDefault();const t=Array.from(this.gridElem.children).indexOf(n);if(!n.classList.contains("fpd-loading")){var i=JSON.parse(window.localStorage.getItem("fpd_uploaded_images"));i.splice(t,1),window.localStorage.setItem("fpd_uploaded_images",JSON.stringify(i)),n.xhr&&n.xhr.abort(),n.remove()}})),n}function ft(e,t){if(!Ze(this,Je)&&this.fpdInstance.mainOptions.autoFillUploadZones){const t=Ze(this,Xe)[Ze(this,Ge)]?Ze(this,Xe)[Ze(this,Ge)]:null;t&&this.fpdInstance._addGridItemToCanvas(e,{_addToUZ:t.uz},t.viewIndex,!1)}else t&&this.fpdInstance._addGridItemToCanvas(e,{},void 0,!1);Ze(this,Ge)==Ze(this,Qe)-1&&We(this,Je,!0)}function mt(e,t){const n=this.fpdInstance.mainOptions.imageQualityRatings;if(n&&"object"==typeof n){let i=n.low?n.low:null,a=n.mid?n.mid:null,s=n.high?n.high:null,o="fpd-icon-star",r="fpd-icon-star-outline";const l=new Image;l.onload=()=>{const t=document.createElement("div");let n;if(t.className="fpd-image-quality-ratings",e.append(t),i&&2==i.length){const e=l.width<Number(i[0])||l.height<Number(i[1])?r:o,a=document.createElement("span");a.className=e,t.append(a),e==o&&(n=this.fpdInstance.translator.getTranslation("misc","image_quality_rating_low"))}if(a&&2==a.length){const e=l.width<Number(a[0])||l.height<Number(a[1])?r:o,i=document.createElement("span");i.className=e,t.append(i),e==o&&(n=this.fpdInstance.translator.getTranslation("misc","image_quality_rating_mid"))}if(s&&2==s.length){const e=l.width<Number(s[0])||l.height<Number(s[1])?r:o,i=document.createElement("span");i.className=e,t.append(i),e==o&&(n=this.fpdInstance.translator.getTranslation("misc","image_quality_rating_high"))}n&&(t.dataset.qualityLabel=n)},l.src=t}}window.FPDUploadsModule=ot;class gt extends HTMLElement{constructor(){super()}connectedCallback(){this.innerHTML='<div class="fpd-head"> <div class="fpd-facebook-login"> <fb:login-button data-max-rows="1" data-show-faces="false" data-scope="user_photos"> </fb:login-button> </div> <fpd-dropdown class="fpd-facebook-albums" placeholder="Select An Album" searchable></fpd-dropdown> </div> <div class="fpd-scroll-area"> <div class="fpd-grid fpd-grid-cover fpd-photo-grid"></div> </div>'}}function vt(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function bt(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}customElements.define("fpd-module-facebook-images",gt);var yt=new WeakSet,wt=new WeakSet,Ct=new WeakSet;class xt extends EventTarget{constructor(e,t){super(),vt(this,Ct),vt(this,wt),vt(this,yt),this.fpdInstance=e,this.container=document.createElement("fpd-module-facebook-images"),t.append(this.container),this.dropdown=this.container.querySelector("fpd-dropdown"),this.dropdownList=this.container.querySelector(".fpd-dropdown-list > .fpd-scroll-area"),this.gridElem=this.container.querySelector(".fpd-grid"),bt(this,yt,Et).call(this)}}function Et(){const e=document.createElement("script");e.src="//connect.facebook.com/en_US/sdk.js",e.addEventListener("load",(()=>{FB.init({appId:this.fpdInstance.mainOptions.facebookAppId,autoLogAppEvents:!0,xfbml:!0,version:"v16.0"}),FB.getLoginStatus(bt(this,wt,It).bind(this)),FB.Event.subscribe("auth.statusChange",bt(this,wt,It).bind(this))})),document.body.appendChild(e)}function It(e){"connected"===e.status&&(u(this.container,["fpd-facebook-logged-in"]),FB.api("/me/albums?fields=name,count,id",(e=>{const t=e.data;t&&t.forEach((e=>{const t=document.createElement("span");t.className="fpd-item",t.dataset.albumid=e.id,t.innerText=e.name,t.addEventListener("click",(e=>{this.dropdown.setAttribute("value",e.currentTarget.innerText),bt(this,Ct,At).call(this,e.currentTarget.dataset.albumid)})),this.dropdownList.append(t)})),f(this.dropdown,["fpd-on-loading"])})))}function At(e){this.gridElem.innerHTML="",u(this.dropdown,["fpd-on-loading"]),FB.api("/"+e+"?fields=count",(t=>{const n=t.count;FB.api("/"+e+"?fields=photos.limit("+n+").fields(source,images)",(e=>{f(this.dropdown,["fpd-on-loading"]),e.error||e.photos.data.forEach((e=>{const t=e.images[0]?e.images[0].source:e.source,n=e.images[e.images.length-1]?e.images[e.images.length-1].source:e.source,i=b({url:t,thumbnailUrl:n,title:e.id,price:y(this.fpdInstance,this.container)});p(i,["click"],(e=>{this.fpdInstance.loadingCustomImage||this.fpdInstance._addGridItemToCanvas(e.currentTarget)})),this.gridElem.append(i),this.fpdInstance.lazyBackgroundObserver.observe(i.querySelector("picture"))})),this.fpdInstance.toggleSpinner(!1)}))}))}class St extends HTMLElement{constructor(){super()}connectedCallback(){this.innerHTML='<div class="fpd-scroll-area"> <div class="fpd-grid fpd-grid-cover fpd-photo-grid"></div> </div>'}}function kt(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function Ot(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tt(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}customElements.define("fpd-module-instagram-images",St);var Dt=new WeakSet,Pt=new WeakSet,Mt=new WeakSet;class Bt extends EventTarget{constructor(e,t){super(),kt(this,Mt),kt(this,Pt),kt(this,Dt),Ot(this,"accessToken",null),Ot(this,"nextStack",null),Ot(this,"loadingStack",!1),Ot(this,"scrollArea",null),this.fpdInstance=e,this.container=document.createElement("fpd-module-instagram-images"),t.append(this.container),this.gridElem=this.container.querySelector(".fpd-grid"),this.scrollArea=this.container.querySelector(".fpd-scroll-area"),this.scrollArea.addEventListener("scroll",Tt(this,Mt,Nt).bind(this))}authenticate(){const e=this.fpdInstance.mainOptions;if(v()){const e=window.localStorage.getItem("fpd_insta_access_token");if(!g(e))return this.accessToken=e,void Tt(this,Pt,Ft).call(this)}let t=(window.screen.width-700)/2,n=(window.screen.height-500)/2,i={app_id:e.instagramClientId,redirect_uri:e.instagramRedirectUri,scope:"user_profile,user_media",response_type:"code"},a=new URLSearchParams(i).toString();var s=window.open("https://api.instagram.com/oauth/authorize?"+a,"","width=700,height=500,left="+t+",top="+n),o=setInterval((()=>{s.closed&&clearInterval(o);try{if(s.location&&s.location.href){var e=new URL(s.location.href).searchParams.get("code");e&&(e=e.replace("#_",""),Tt(this,Dt,Lt).call(this,e),s.close())}}catch(e){}}),500)}}function Lt(e){const t=this.fpdInstance.mainOptions;this.fpdInstance.toggleSpinner(!0),K({url:t.instagramTokenUri,params:{code:e,client_app_id:t.instagramClientId,redirect_uri:t.instagramRedirectUri},onSuccess:e=>{e.access_token?(v()&&window.localStorage.setItem("fpd_insta_access_token",e.access_token),this.accessToken=e.access_token,Tt(this,Pt,Ft).call(this)):e.error_message&&this.fpdInstance.toggleSpinner(!1)},onError:e=>{this.fpdInstance.toggleSpinner(!1)}})}function Ft(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://graph.instagram.com/me/media",t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.loadingStack=!0,this.fpdInstance.toggleSpinner(!0);let n={url:e,onSuccess:e=>{e.data&&(this.nextStack=e.paging&&e.paging.next?e.paging.next:null,e.data.forEach((e=>{if("VIDEO"!==e.media_type){const t=b({url:e.media_url,thumbnailUrl:e.thumbnail_url?e.thumbnail_url:e.media_url,title:e.id,price:y(this.fpdInstance,this.container)});p(t,["click"],(e=>{this.fpdInstance.loadingCustomImage||this.fpdInstance._addGridItemToCanvas(e.currentTarget)})),this.gridElem.append(t),this.fpdInstance.lazyBackgroundObserver.observe(t.querySelector("picture"))}}))),this.fpdInstance.toggleSpinner(!1),this.loadingStack=!1,Tt(this,Mt,Nt).call(this)},onError:e=>{e.response&&e.response.error&&e.response.error.code&&v()&&190==e.response.error.code&&(window.localStorage.removeItem("fpd_insta_access_token"),this.accessToken=null,this.authenticate()),this.fpdInstance.toggleSpinner(!1),this.loadingStack=!1}};t&&(this.gridElem.innerHTML="",n.params={fields:"id,caption,media_url,media_type",access_token:this.accessToken}),K(n)}function Nt(){let e=this.scrollArea.scrollHeight;(this.scrollArea.clientHeight+this.scrollArea.scrollTop+100>e||this.gridElem.clientHeight<e)&&(null===this.nextStack||this.loadingStack||Tt(this,Pt,Ft).call(this,this.nextStack,!1))}class jt extends HTMLElement{constructor(){super()}connectedCallback(){this.innerHTML='<div class="fpd-loader-wrapper"> <div class="fpd-loader"> <div class="fpd-loader-circle"></div> </div> </div> <div class="fpd-head"> <a href="https://pixabay.com/" target="_blank" class="fpd-pixabay-logo"> </a> <div class="fpd-input-search"> <input type="text" data-defaulttext="Search in Pixabay library" placeholder="modules.pixabay_search"/> <span class="fpd-icon-magnify"></span> </div> </div> <div class="fpd-scroll-area"> <div class="fpd-grid fpd-grid-cover fpd-photo-grid"></div> </div>'}}customElements.define("fpd-module-pixabay-images",jt);class Ht extends EventTarget{loadingStack=!1;currentQuery="";pixabayPage=1;constructor(e,t){super(),this.fpdInstance=e,this.container=document.createElement("fpd-module-pixabay-images"),t.append(this.container),this.gridElem=this.container.querySelector(".fpd-grid"),this.loader=this.container.querySelector(".fpd-loader-wrapper");const n=this.container.querySelector(".fpd-scroll-area");n.addEventListener("scroll",(e=>{let t=n.scrollHeight;n.clientHeight+n.scrollTop+100>t&&(this.loadingStack||(this.pixabayPage++,this.loadImages(void 0,!1)))})),p(this.container.querySelector("input"),["keypress"],(e=>{13==e.which&&(this.pixabayPage=1,this.loadImages(e.currentTarget.value))}))}loadImages(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.currentQuery===e)return!1;const n=this.fpdInstance.mainOptions;this.loadingStack=!0,this.currentQuery=void 0===e?this.currentQuery:e;var i=n.pixabayHighResImages?"&response_group=high_resolution":"",a="https://pixabay.com/api/?safesearch=true&key="+n.pixabayApiKey+"&page="+this.pixabayPage+"&per_page=40&min_width="+n.customImageParameters.minW+"&min_height="+n.customImageParameters.minH+i+"&q="+encodeURIComponent(this.currentQuery)+"&lang="+n.pixabayLang;t&&(this.gridElem.innerHTML=""),f(this.loader,["fpd-hidden"]),K({url:a,onSuccess:e=>{u(this.loader,["fpd-hidden"]),e.hits.length>0&&e.hits.forEach((e=>{const t=b({url:e.imageURL?e.imageURL:e.webformatURL,thumbnailUrl:e.webformatURL,title:e.id?e.id:e.id_hash,price:y(this.fpdInstance,this.container)});p(t,["click"],(e=>{this.fpdInstance.loadingCustomImage||this.fpdInstance._addGridItemToCanvas(e.currentTarget)})),this.gridElem.append(t),this.fpdInstance.lazyBackgroundObserver.observe(t.querySelector("picture"))})),this.loadingStack=!1},onError:e=>{u(this.loader,["fpd-hidden"])}})}}class qt extends HTMLElement{constructor(){super()}connectedCallback(){this.innerHTML='<div> <input type="text" data-defaulttext="Enter a URL, some text..." placeholder="modules.qr_code_input"/> <div class="fpd-qr-code-colors"> <div class="fpd-qr-code-color-dark"></div> <div class="fpd-qr-code-color-light"></div> </div> <span class="fpd-add-qr-code fpd-btn" data-defaulttext="Add QR-Code">modules.qr_code_add_btn</span> <div class="fpd-qr-code-wrapper fpd-hidden"></div> </div> '}}customElements.define("fpd-module-qr-code",qt);class zt extends EventTarget{constructor(e,t){super(),this.fpdInstance=e,this.darkColor="#000",this.lightColor="#fff",this.container=document.createElement("fpd-module-qr-code"),t.append(this.container);const n=this.container.querySelector(".fpd-qr-code-color-dark");n.style.backgroundColor="#000",new Picker({parent:n,popup:"bottom",alpha:!1,color:this.darkColor,onChange:e=>{this.darkColor=tinycolor(e.rgbaString).toHexString(),n.style.backgroundColor=this.darkColor}});const i=this.container.querySelector(".fpd-qr-code-color-light");i.style.backgroundColor=this.lightColor,new Picker({parent:i,popup:"bottom",alpha:!1,color:this.lightColor,onChange:e=>{this.lightColor=tinycolor(e.rgbaString).toHexString(),i.style.backgroundColor=this.lightColor}});const a=this.container.querySelector(".fpd-qr-code-wrapper");p(this.container.querySelector(".fpd-btn"),"click",(t=>{a.innerHTML="";const n=this.container.querySelector('input[type="text"]').value;n&&n.length>0&&(new QRCode(a,{text:this.container.querySelector('input[type="text"]').value,width:256,height:256,colorDark:this.darkColor,colorLight:this.lightColor,correctLevel:QRCode.CorrectLevel.H}),a.querySelector("img").onload=t=>{const i=o(e.mainOptions.qrCodeProps,{_addToUZ:e.currentViewInstance.currentUploadZone});e._addCanvasImage(t.currentTarget.src,"QR-Code: "+n,i),this.container.querySelector('input[type="text"]').value=""})}))}}class Ut extends EventTarget{constructor(e,t){super(),this.fpdInstance=e,this.container=document.createElement("fpd-module-images"),t.append(this.container);const n=Array.from(this.container.querySelectorAll(".fpd-module-tabs > div")),i=Array.from(this.container.querySelectorAll(".fpd-module-tabs-content > div"));let a=null,s=null;p(n,"click",(e=>{const t=e.currentTarget;f(n,["fpd-active"]),f(i,["fpd-active"]),u(t,["fpd-active"]),u(i.find((e=>e.dataset.context==t.dataset.context)),["fpd-active"]),"instagram"==t.dataset.context&&a&&!a.accessToken?a.authenticate():"pixabay"==t.dataset.context&&s&&s.loadImages()}));const o=e.mainOptions;new ot(e,i.find((e=>"upload"==e.dataset.context))),p(e,["viewSelect","secondaryModuleCalled"],(t=>{const n=y(e,this.container),i=this.container.querySelectorAll(".fpd-price");i&&(m(i,["fpd-hidden"],!Boolean(n)),i.forEach((e=>{e.innerHTML=n})))})),g(o.facebookAppId)||(new xt(e,i.find((e=>"facebook"==e.dataset.context))),n.find((e=>"facebook"==e.dataset.context)).classList.remove("fpd-hidden")),g(o.instagramClientId)||(a=new Bt(e,i.find((e=>"instagram"==e.dataset.context))),n.find((e=>"instagram"==e.dataset.context)).classList.remove("fpd-hidden")),g(o.pixabayApiKey)||(s=new Ht(e,i.find((e=>"pixabay"==e.dataset.context))),n.find((e=>"pixabay"==e.dataset.context)).classList.remove("fpd-hidden")),new zt(e,i.find((e=>"qr-code"==e.dataset.context))),n.filter((e=>!e.classList.contains("fpd-hidden"))).length<2&&this.container.classList.add("fpd-hide-tabs")}}window.FPDImagesModule=Ut;class Vt extends HTMLElement{constructor(){super()}connectedCallback(){this.innerHTML='<div data-moduleicon="fpd-icon-layers" data-defaulttext="Manage Layers" data-title="modules.manage_layers"> <div class="fpd-scroll-area"> <div class="fpd-list"></div> </div> </div>'}}customElements.define("fpd-module-manage-layers",Vt);const Zt=e=>{let t=!1,n=null;const i=document.createElement("div");i.className="fpd-colorpicker-wrapper";const a=new Picker({parent:i,popup:!1,alpha:!1,color:tinycolor(e.initialColor).isValid()?e.initialColor:"#fff",onChange:i=>{const a=tinycolor(i.rgbaString).toHexString();t&&e.onMove&&e.onMove(a),"number"==typeof n&&clearTimeout(n),n=setTimeout((()=>{t&&e.onChange&&e.onChange(a),t=!0}),500)}});if(void 0!==window.EyeDropper){const e=a.domElement.querySelector(".picker_sample"),t=document.createElement("span");t.className="fpd-icon-color",e.append(t),p(e,"click",(e=>{(new EyeDropper).open().then((e=>{a.setColor(e.sRGBHex)})).catch((e=>{console.log(e)}))}))}if(e.palette&&Array.isArray(e.palette)){const t=Rt({colors:e.palette,colorNames:e.colorNames,onChange:t=>{e.onChange&&e.onChange(t)}});i.append(t)}return i},Wt=e=>{const t=document.createElement("div");t.className="fpd-scroll-area",(e.enablePicker||e.subPalette)&&u(t,["fpd-has-subpanel"]);const n=document.createElement("div");let i;return n.className="fpd-color-palette",t.append(n),e.colors&&Array.isArray(e.colors)&&e.colors.forEach(((t,a)=>{let s=t;if(e.colorNames){const n=e.colorNames[t.replace("#","").toLowerCase()];n&&(s=n.toUpperCase())}const o=document.createElement("span");o.className="fpd-item",o.style.backgroundColor=t,o.setAttribute("aria-label",s),o.dataset.hex=t,n.append(o),e.enablePicker||e.subPalette||u(o,["fpd-tooltip"]),p(o,"click",(s=>{if(s.stopPropagation(),e.enablePicker||e.subPalette){i&&(i.remove(),i=null);const s=o.classList.contains("fpd-active");s||(i=e.enablePicker?Zt({initialColor:t,colorNames:e.colorNames,palette:e.palette,onMove:t=>{e.onMove&&e.onMove(t,a)},onChange:t=>{o.style.backgroundColor=t,e.onChange&&e.onChange(t,a)}}):Wt({colors:e.palette,colorNames:e.colorNames,onChange:t=>{o.style.backgroundColor=t,e.onChange&&e.onChange(t,a)}}),n.append(i)),f(n,["fpd-sub-show"]),f(n.querySelectorAll(".fpd-item"),["fpd-active"]),s||(u(n,["fpd-sub-show"]),u(o,["fpd-active"]))}else e.onChange&&e.onChange(t)}))})),t},Rt=Wt,Yt=(e,t)=>{if(!t.colors)return;const n=document.createElement("div");if(n.className="fpd-color-panel",1===t.colors.length){const i=Zt({initialColor:t.colors[0],colorNames:e.mainOptions.hexNames,palette:e.mainOptions.colorPickerPalette,onMove:e=>{t.onMove&&t.onMove(e)},onChange:e=>{t.onChange&&t.onChange(e)}});n.append(i)}else{const i=Rt({colors:t.colors,colorNames:e.mainOptions.hexNames,palette:e.mainOptions.colorPickerPalette,onChange:e=>{t.onChange&&t.onChange(e)}});if(n.append(i),t.patterns){const e=(e=>{const t=document.createElement("div");t.className="fpd-scroll-area";const n=document.createElement("div");return n.className="fpd-patterns-wrapper",t.append(n),e.images&&Array.isArray(e.images)&&e.images.forEach(((t,i)=>{const a=t.replace(/^.*[\\\/]/,"").replace(/\.[^/.]+$/,"").replace("_"," ").toUpperCase(),s=document.createElement("span");s.className="fpd-item fpd-tooltip",s.style.backgroundImage=`url("${t}")`,s.setAttribute("aria-label",a),n.append(s),p(s,"click",(n=>{e.onChange&&e.onChange(t)}))})),t})({images:t.patterns,onChange:e=>{t.onPatternChange&&t.onPatternChange(e)}});n.append(e)}}return n};function Gt(e,t){Jt(e,t),t.add(e)}function Jt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Xt(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Qt(e,t,"get"))}function Qt(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function Kt(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var _t=new WeakMap,$t=new WeakSet,en=new WeakSet,tn=new WeakSet,nn=new WeakSet,an=new WeakSet;class sn extends EventTarget{constructor(e,t){var n,i;super(),Gt(this,an),Gt(this,nn),Gt(this,tn),Gt(this,en),Gt(this,$t),i={writable:!0,value:null},Jt(this,n=_t),n.set(this,i),this.fpdInstance=e,this.container=document.createElement("fpd-module-manage-layers"),t.append(this.container),this.listElem=this.container.querySelector(".fpd-list"),p(e,["elementAdd","elementRemove","viewSelect","productCreate"],(t=>{e.productCreated&&Kt(this,$t,on).call(this)})),p(e,["elementModify","textLinkApply"],(t=>{if(e.productCreated){const{element:e,options:n}=t.detail,i=this.listElem.querySelector('.fpd-list-row[id="'+e.id+'"]');if(i){const e=i.querySelector("textarea");n.text&&e&&(e.value=n.text)}}})),p(e,"elementFillChange",(t=>{if(e.productCreated){const e=t.detail.element,n=this.listElem.querySelector('.fpd-list-row[id="'+e.id+'"]');n&&n.querySelector(".fpd-current-color")&&(n.querySelector(".fpd-current-color").style.background=I(e))}}))}}function on(){var e,t,n;this.listElem.innerHTML="",this.fpdInstance.getElements(this.fpdInstance.currentViewIndex,"all",!1).forEach((e=>{e.checkEditable()&&Kt(this,en,rn).call(this,e)})),Xt(this,_t)&&Xt(this,_t).dispose(),e=this,t=_t,n=AreaSortable("vertical",{container:this.listElem,handle:"fpd-icon-reorder",item:"fpd-list-row",placeholder:"fpd-sortable-placeholder",activeItem:"fpd-sortable-dragged",closestItem:"fpd-sortable-closest",autoscroll:!0,animationMs:0,onStart:e=>{const t=window.pageYOffset||document.documentElement.scrollTop||0;window.onscroll=()=>{window.scrollTo({top:t})}},onChange:e=>{const t=this.fpdInstance.currentViewInstance.fabricCanvas,n=t.getElementByID(e.id);let i=this.listElem.querySelector(".fpd-sortable-closest"),a=t.getElementByID(i?i.id:e.id).getZIndex();i||a++,t.setElementOptions({z:a},n)},onEnd:e=>{window.onscroll=()=>{}}}),function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Qt(e,t,"set"),n)}function rn(e){const t=document.createElement("div");t.className="fpd-list-row",t.id=e.id;let n=document.createElement("span"),i=null;if(!e.uploadZone&&e.hasColorSelection()){i=E(e,this.fpdInstance);const a=I(e);n.style.background=a,n.className="fpd-current-color",t.colors=i}const a=document.createElement("div");a.className="fpd-cell-0",a.append(n),t.append(a);let s=e.title;"text"===e.getType()&&e.editable&&(s=document.createElement("textarea"),s.innerText=e.text,p(s,"keyup",(t=>{t.stopPropagation();let n=t.target.value;n=n.replace(FancyProductDesigner.forbiddenTextChars,""),this.fpdInstance.mainOptions.disableTextEmojis&&(n=n.replace(FPDEmojisRegex,""),n=n.replace(String.fromCharCode(65039),"")),this.fpdInstance.currentViewInstance.fabricCanvas.setElementOptions({text:n},e)})),e.on({"editing:exited":()=>{s.value=e.text}}));const o=document.createElement("div");o.className="fpd-cell-1",o.append(s),t.append(o);const r=document.createElement("div");if(r.className="fpd-cell-2",t.append(r),e.uploadZone){u(t,["fpd-add-layer"]);const e=document.createElement("span");e.className="fpd-icon-add",r.append(e)}else{if(e.zChangeable){const e=document.createElement("span");e.className="fpd-icon-reorder",r.append(e)}const n=e.locked?"fpd-icon-locked":"fpd-icon-unlocked",i=document.createElement("span");i.className="fpd-lock-element",i.innerHTML=`<span class="${n}"></span>`,r.append(i),p(i,"click",(n=>{n.stopPropagation(),f(t,["fpd-show-colors"]),e.evented=!e.evented,e.locked=!e.evented;const i=n.currentTarget.querySelector("span");m(i,["fpd-icon-unlocked"],e.evented),m(i,["fpd-icon-locked"],!e.evented),m(t,["fpd-locked"],!e.evented)})),m(t,["fpd-locked"],e.locked)}let l,c=e.removable||e.__editorMode;if(e.uploadZone&&(c=e.uploadZoneRemovable),c){const t=document.createElement("span");t.className="fpd-remove-element",t.innerHTML='<span class="fpd-icon-bin"></span>',r.append(t),p(t,"click",(t=>{t.stopPropagation(),this.fpdInstance.currentViewInstance.fabricCanvas.removeElement(e)}))}if(this.listElem.prepend(t),i){if(l=document.createElement("div"),"group"===e.type&&e.getObjects().length>1){const t=Array.isArray(e.colors)&&e.colors.length>1;let n=Rt({colors:i,colorNames:this.fpdInstance.mainOptions.hexNames,palette:e.colors,subPalette:t,enablePicker:!t,onChange:(t,n)=>{Kt(this,an,dn).call(this,e,n,t)},onMove:(t,n)=>{e.changeObjectColor(n,t)}});l.append(n)}else l=Yt(this.fpdInstance,{colors:i,patterns:Array.isArray(e.patterns)&&(e.isSVG()||"text"===e.getType())?e.patterns:null,onMove:t=>{Kt(this,tn,ln).call(this,e,t)},onChange:t=>{Kt(this,nn,cn).call(this,e,t)},onPatternChange:n=>{t.querySelector(".fpd-current-color").style.backgroundImage=`url("${n}")`,this.fpdInstance.currentViewInstance.fabricCanvas.setElementOptions({pattern:n},e)}});l&&(u(l,["fpd-cell-full"]),t.append(l)),p(t.querySelector(".fpd-current-color"),"click",(e=>{const n=!t.classList.contains("fpd-show-colors");f(this.listElem.querySelectorAll(".fpd-list-row"),["fpd-show-colors"]),m(t,["fpd-show-colors"],n)}))}p(t.querySelector(".fpd-cell-1"),"click",(e=>{const t=e.currentTarget.parentNode;if(t.classList.contains("fpd-locked")||"TEXTAREA"==e.target.nodeName)return;const n=this.fpdInstance.currentViewInstance.fabricCanvas.getElementByID(t.id);n&&n.canvas.setActiveObject(n).renderAll()}))}function ln(e,t){"png"!==e.isColorizable()&&e.changeColor(t)}function cn(e,t){const n=this.listElem.querySelector('.fpd-list-row[id="'+e.id+'"]');n&&n.querySelector(".fpd-current-color")&&(n.querySelector(".fpd-current-color").style.background=I(e)),this.fpdInstance.currentViewInstance.fabricCanvas.setElementOptions({fill:t},e)}function dn(e,t,n){const i=e.changeObjectColor(t,n);this.fpdInstance.currentViewInstance.fabricCanvas.setElementOptions({fill:i},e)}window.FPDLayersModule=sn;class pn extends HTMLElement{constructor(){super()}connectedCallback(){this.innerHTML='<div data-moduleicon="fpd-icon-save" data-defaulttext="Saved Designs" data-title="modules.save_load"> <div class="fpd-save-design"> <input type="text" data-defaulttext="Optional: Enter a title" placeholder="modules.save_load_input_placeholder"> <div class="fpd-btn"> <span data-defaulttext="Save Design">modules.save_load_add_btn</span> </div> </div> <div class="fpd-saved-designs fpd-scroll-area"> <div class="fpd-grid"></div> </div> </div>'}}function hn(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}customElements.define("fpd-module-save-load",pn);var un=new WeakSet;class fn extends EventTarget{constructor(e,t){if(super(),function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(n=this,a=un),a.add(n),this.fpdInstance=e,this.container=document.createElement("fpd-module-save-load"),t.append(this.container),this.inputElem=this.container.querySelector("input"),this.gridElem=this.container.querySelector(".fpd-grid"),p(this.container.querySelector(".fpd-btn"),"click",(t=>{const n=q(this.fpdInstance.currentViewInstance.options.stageWidth,this.fpdInstance.currentViewInstance.options.stageHeight,300,300,"cover");e.viewInstances[0].toDataURL((e=>{const t=this.fpdInstance.getProduct(),n={thumbnail:e,product:t,title:this.inputElem.value||""};if(t&&this.fpdInstance.mainOptions.saveActionBrowserStorage){let e=hn(this,un,mn).call(this);e||(e=[]),this.addSavedProduct(n),e.push(n),window.localStorage.setItem(this.fpdInstance.container.id,JSON.stringify(e)),i(this.fpdInstance.translator.getTranslation("misc","product_saved"))}t&&(this.fpdInstance.dispatchEvent(new CustomEvent("actionSave",{detail:n})),this.fpdInstance.doUnsavedAlert=!1)}),{multiplier:n,format:"png",backgroundColor:"transparent"})})),this.fpdInstance.mainOptions.saveActionBrowserStorage){let e=hn(this,un,mn).call(this);e&&e.length>0&&e.forEach((e=>{this.addSavedProduct(e)}))}var n,a}addSavedProduct(e){let{thumbnail:t,product:n,title:i=""}=e;const a=b({url:t,title:i,removable:!0,disablePrice:!0,disableDraggable:!0});return this.fpdInstance.lazyBackgroundObserver.observe(a.querySelector("picture")),a.product=n,this.gridElem.append(a),p(a,"click",(e=>{this.fpdInstance.loadProduct(a.product),this.fpdInstance.currentProductIndex=-1})),p(a.querySelector(".fpd-delete"),"click",(e=>{e.stopPropagation();const t=e.currentTarget.parentNode,n=Array.from(this.gridElem.querySelectorAll(".fpd-item")).indexOf(t);if(this.fpdInstance.mainOptions.saveActionBrowserStorage){let e=hn(this,un,mn).call(this);e.splice(n,1),window.localStorage.setItem(this.fpdInstance.container.id,JSON.stringify(e))}this.fpdInstance.dispatchEvent(new CustomEvent("actionLoad:Remove",{detail:{index:n,item:t}})),t.remove()})),a}}function mn(){return!!v()&&JSON.parse(window.localStorage.getItem(this.fpdInstance.container.id))}window.FPDSaveLoadModule=fn;class gn extends HTMLElement{constructor(){super()}connectedCallback(){this.innerHTML='<div data-moduleicon="fpd-icon-text-layers" data-defaulttext="Text Layers" data-title="modules.text_layers"> <div class="fpd-scroll-area"> <div class="fpd-list"></div> </div> </div>'}}function vn(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function bn(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}customElements.define("fpd-module-text-layers",gn);var yn=new WeakSet,wn=new WeakSet,Cn=new WeakSet;class xn extends EventTarget{constructor(e,t){super(),vn(this,Cn),vn(this,wn),vn(this,yn),this.fpdInstance=e,this.container=document.createElement("fpd-module-text-layers"),t.append(this.container),this.listElem=this.container.querySelector(".fpd-list"),p(e,["elementAdd","elementRemove","viewSelect","productCreate"],(t=>{e.productCreated&&bn(this,yn,En).call(this)})),p(e,["elementModify","textLinkApply"],(t=>{if(e.productCreated){const{element:e,options:n}=t.detail,i=this.listElem.querySelector('.fpd-list-row[id="'+e.id+'"]');if(i){const e=i.querySelector('[data-control="fontSize"]');n.fontSize&&e&&(e.value=n.fontSize);const t=i.querySelector("fpd-dropdown");n.fontFamily&&t&&t.setAttribute("value",n.fontFamily);const a=i.querySelector(".fpd-text-input");n.text&&a&&(a.value=n.text)}}}))}}function En(){this.listElem.innerHTML="",this.fpdInstance.getElements(this.fpdInstance.currentViewIndex,"all",!1).forEach((e=>{e.checkEditable()&&"text"==e.getType()&&bn(this,Cn,An).call(this,e)}))}function In(e,t,n){const i=document.createElement("fpd-dropdown");i.searchable=!0,t.append(i);const a=i.querySelector(".fpd-dropdown-list > .fpd-scroll-area");return e.forEach(((e,t)=>{"object"==typeof e&&(e=e.name);const s=document.createElement("span");s.className="fpd-item",s.family=e,s.style.fontFamily=e,s.innerText=e,s.addEventListener("click",(t=>{i.setAttribute("value",t.currentTarget.innerText),this.fpdInstance.currentViewInstance.fabricCanvas.setElementOptions({fontFamily:e},n)})),a.append(s)})),i}function An(e){const t=document.createElement("div");if(t.className="fpd-list-row",t.id=e.id,this.listElem.prepend(t),e.editable){const n=document.createElement("div");n.className="fpd-cell-full fpd-title",n.innerText=e.title,t.append(n);const i=document.createElement("div");let a;i.className="fpd-cell-full",t.append(i),1==e.maxLines?(a=document.createElement("input"),a.value=e.text,i.append(a)):(a=document.createElement("textarea"),a.value=e.text,i.append(a)),a.className="fpd-text-input";const s=document.createElement("span");s.className="fpd-clear-text",s.innerText=this.fpdInstance.translator.getTranslation("modules","text_layers_clear","Clear"),i.append(s),p(s,"click",(t=>{t.stopPropagation(),this.fpdInstance.currentViewInstance.fabricCanvas.setElementOptions({text:""},e),a.value=""})),e.on({"editing:exited":()=>{a.value=e.text}}),p(a,"keyup",(t=>{t.stopPropagation();let n=t.target.value;n=n.replace(FancyProductDesigner.forbiddenTextChars,""),this.fpdInstance.mainOptions.disableTextEmojis&&(n=n.replace(FPDEmojisRegex,""),n=n.replace(String.fromCharCode(65039),"")),this.fpdInstance.currentViewInstance.fabricCanvas.setElementOptions({text:n},e)}));const o=Array.isArray(this.fpdInstance.mainOptions.fonts)?this.fpdInstance.mainOptions.fonts:[];if(o.length){const n=document.createElement("div");n.className="fpd-cell-1",t.append(n),bn(this,wn,In).call(this,o,n,e).setAttribute("value",e.fontFamily)}}if(e.resizable||e.__editorMode){const n=document.createElement("div");n.className="fpd-cell-2",t.append(n);const i=document.createElement("input");i.className="fpd-tooltip",i.setAttribute("aria-label",this.fpdInstance.translator.getTranslation("toolbar","font_size","Font Size")),i.type="number",i.value=e.fontSize,i.dataset.control="fontSize",i.min=e.minFontSize,i.max=e.maxFontSize,n.append(i),p(i,"change",(t=>{this.fpdInstance.currentViewInstance.fabricCanvas.setElementOptions({fontSize:parseInt(t.currentTarget.value)},e),i.value=e.fontSize}))}if(e.hasColorSelection()){const n=document.createElement("div");n.className="fpd-cell-full",t.append(n);const i=E(e,this.fpdInstance),a=Yt(this.fpdInstance,{colors:i,patterns:Array.isArray(e.patterns)&&(e.isSVG()||"text"===e.getType())?e.patterns:null,onMove:t=>{e.changeColor(t)},onChange:t=>{this.fpdInstance.currentViewInstance.fabricCanvas.setElementOptions({fill:t},e)},onPatternChange:t=>{this.fpdInstance.currentViewInstance.fabricCanvas.setElementOptions({pattern:t},e)}});a&&n.append(a)}}window.FPDTextLayersModule=xn;class Sn extends HTMLElement{constructor(){super()}connectedCallback(){this.innerHTML='<div data-moduleicon="fpd-icon-layouts" data-defaulttext="Layouts" data-title="modules.layouts"> <div class="fpd-scroll-area"> <div class="fpd-grid fpd-grid-contain fpd-padding"></div> </div> </div>'}}function kn(e,t){Tn(e,t),t.add(e)}function On(e,t,n){Tn(e,t),t.set(e,n)}function Tn(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Dn(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Mn(e,t,"set"),n),n}function Pn(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Mn(e,t,"get"))}function Mn(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function Bn(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}customElements.define("fpd-module-layouts",Sn);var Ln=new WeakMap,Fn=new WeakMap,Nn=new WeakMap,jn=new WeakSet,Hn=new WeakSet;class qn extends EventTarget{constructor(e,t){super(),kn(this,Hn),kn(this,jn),On(this,Ln,{writable:!0,value:0}),On(this,Fn,{writable:!0,value:0}),On(this,Nn,{writable:!0,value:!1}),this.fpdInstance=e,this.container=document.createElement("fpd-module-layouts"),t.append(this.container),this.gridElem=this.container.querySelector(".fpd-grid"),p(e,"layoutsSet",(t=>{this.layoutsData=e.currentLayouts,Bn(this,Hn,Un).call(this)})),p(this.fpdInstance,"beforeElementAdd",Bn(this,jn,zn).bind(this))}}function zn(e){const t=e.detail.element;if(Pn(this,Nn)){var n;Dn(this,Ln,(n=Pn(this,Ln),++n));const e=t.title+"<br>"+String(Pn(this,Ln))+"/"+Pn(this,Fn);this.fpdInstance.mainLoader.querySelector(".fpd-loader-text").innerHTML=e}}function Un(){this.gridElem.innerHTML="",Array.isArray(this.layoutsData)&&this.layoutsData.forEach((t=>{const n=b({url:t.thumbnail,title:t.title,disablePrice:!0,disableDraggable:!0});p(n,"click",(n=>{if(!this.fpdInstance.productCreated)return;var i=e(this.fpdInstance.translator.getTranslation("modules","layouts_confirm_replacement","Yes, please!"),!1,"confirm",this.fpdInstance.container);const a=i.querySelector(".fpd-confirm");a.innerText=this.fpdInstance.translator.getTranslation("modules","layouts_confirm_button","Sure?"),p(a,"click",(()=>{Dn(this,Ln,0),Dn(this,Fn,t.elements.length),this.fpdInstance.globalCustomElements=[],this.fpdInstance.mainOptions.replaceInitialElements&&(this.fpdInstance.globalCustomElements=this.fpdInstance.getCustomElements()),this.fpdInstance.deselectElement(),this.fpdInstance.toggleSpinner(!0),Dn(this,Nn,!0),this.fpdInstance.currentViewInstance.loadElements(t.elements,(()=>{Dn(this,Nn,!1),this.fpdInstance.toggleSpinner(!1),this.fpdInstance.dispatchEvent(new CustomEvent("layoutElementsAdded",{detail:{elements:t.elements}}))})),i.remove()}))})),this.gridElem.append(n),this.fpdInstance.lazyBackgroundObserver.observe(n.querySelector("picture"))}))}window.FPDLayoutsModule=qn;class Vn extends HTMLElement{constructor(){super()}connectedCallback(){this.innerHTML='<div data-moduleicon="fpd-icon-name-number" data-defaulttext="Names & Numbers" data-title="modules.names_numbers"> <div class="fpd-head"> <span class="fpd-btn" data-defaulttext="Add New"> modules.names_numbers_add_new </span> </div> <div class="fpd-scroll-area"> <div class="fpd-list"></div> </div> </div>'}}function Zn(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function Wn(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}customElements.define("fpd-module-names-numbers",Vn);var Rn=new WeakSet,Yn=new WeakSet,Gn=new WeakSet,Jn=new WeakSet,Xn=new WeakSet,Qn=new WeakSet,Kn=new WeakSet;class _n extends EventTarget{constructor(e,t){super(),Zn(this,Kn),Zn(this,Qn),Zn(this,Xn),Zn(this,Jn),Zn(this,Gn),Zn(this,Yn),Zn(this,Rn),this.fpdInstance=e,this.container=document.createElement("fpd-module-names-numbers"),t.append(this.container),this.listElem=this.container.querySelector(".fpd-list"),p(e,"viewSelect",(e=>{Wn(this,Yn,ei).call(this)})),p(this.container.querySelector(".fpd-btn"),"click",(t=>{const n=Wn(this,Gn,ti).call(this);Wn(this,Rn,$n).call(this,n),e.currentViewInstance.names_numbers=this.getViewNamesNumbers()}))}getViewNamesNumbers(){let e=[];return this.container.querySelectorAll(".fpd-list .fpd-row").forEach((t=>{let n={};const i=t.querySelector(".fpd-number-col");i&&(n.number=i.querySelector("input").value);const a=t.querySelector(".fpd-name-col");a&&(n.name=a.querySelector("input").value);const s=t.querySelector(".fpd-select-col");s&&(n.select=s.querySelector("select").value),e.push(n)})),e}}function $n(e){e.querySelector("input").focus();const t=e.querySelector(".fpd-number-col");t&&Wn(this,Kn,si).call(this,t.querySelector("input").value||t.querySelector("input").placeholder);const n=e.querySelector(".fpd-name-col");n&&Wn(this,Kn,si).call(this,null,n.querySelector("input").value||n.querySelector("input").placeholder)}function ei(){this.listElem.innerHTML="";const e=this.fpdInstance.currentViewInstance;e.fabricCanvas.textPlaceholder||e.fabricCanvas.numberPlaceholder?(e.names_numbers&&Array.isArray(e.names_numbers)?e.names_numbers.forEach((e=>{Wn(this,Gn,ti).call(this,e.number,e.name,e.select)})):Wn(this,Gn,ti).call(this),f(this.container,["fpd-disabled"])):u(this.container,["fpd-disabled"])}function ti(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;const i=this.fpdInstance.currentViewInstance.fabricCanvas,a=document.createElement("div");a.className="fpd-row";const s=document.createElement("div");s.className="fpd-remove-col";const o=document.createElement("span");return o.innerText=this.fpdInstance.translator.getTranslation("modules","names_numbers_remove","Remove"),s.append(o),p(o,"click",(e=>{a.remove(),Wn(this,Rn,$n).call(this,this.container.querySelector(".fpd-row:first-child")),this.fpdInstance.currentViewInstance.names_numbers=this.getViewNamesNumbers(),this.fpdInstance.mainOptions.namesNumbersEntryPrice&&this.fpdInstance.currentViewInstance.changePrice(this.fpdInstance.mainOptions.namesNumbersEntryPrice,"-")})),a.append(s),i.numberPlaceholder&&a.append(Wn(this,Jn,ni).call(this,e)),i.textPlaceholder&&a.append(Wn(this,Xn,ii).call(this,t)),(this.fpdInstance.mainOptions.namesNumbersDropdown&&this.fpdInstance.mainOptions.namesNumbersDropdown.length>0||n)&&a.append(Wn(this,Qn,ai).call(this,n)),this.listElem.append(a),this.fpdInstance.mainOptions.namesNumbersEntryPrice&&this.fpdInstance.currentViewInstance.changePrice(this.fpdInstance.mainOptions.namesNumbersEntryPrice,"+"),a}function ni(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=this.fpdInstance.currentViewInstance.fabricCanvas,n=document.createElement("div");n.className="fpd-number-col fpd-input-col";const i=document.createElement("input");return i.type="number",n.append(i),Array.isArray(t.numberPlaceholder.numberPlaceholder)&&(i.setAttribute("min",Number(t.numberPlaceholder.numberPlaceholder[0])),i.setAttribute("max",Number(t.numberPlaceholder.numberPlaceholder[1]))),i.setAttribute("placeholder",t.numberPlaceholder.originParams.text),i.value=e,p(i,["mouseup","keyup"],(e=>{Array.isArray(t.numberPlaceholder.numberPlaceholder)&&(i.value>Number(i.max)&&(i.value=Number(i.max)),i.value<Number(i.min)&&(i.value=Number(i.min))),i.value=Wn(this,Kn,si).call(this,i.value),this.fpdInstance.currentViewInstance.names_numbers=this.getViewNamesNumbers()})),n}function ii(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=this.fpdInstance.currentViewInstance.fabricCanvas,n=document.createElement("div");n.className="fpd-name-col fpd-input-col";const i=document.createElement("input");return i.type="text",n.append(i),i.setAttribute("placeholder",t.textPlaceholder.originParams.text),i.value=e,p(i,["mouseup","keyup"],(e=>{i.value=Wn(this,Kn,si).call(this,null,i.value),this.fpdInstance.currentViewInstance.names_numbers=this.getViewNamesNumbers()})),n}function ai(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=document.createElement("div");t.className="fpd-select-col fpd-input-col";const n=document.createElement("select");t.append(n);let i=[e];return(this.fpdInstance.mainOptions.namesNumbersDropdown.length>0?this.fpdInstance.mainOptions.namesNumbersDropdown:i).forEach((t=>{const i=document.createElement("option");i.value=t,i.selected=e===t,i.innerText=t,n.append(i)})),p(n,"change",(e=>{this.fpdInstance.currentViewInstance.names_numbers=this.getViewNamesNumbers()})),t}function si(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.fpdInstance.currentViewInstance.fabricCanvas,i="string"==typeof e?n.numberPlaceholder:n.textPlaceholder;let a="string"==typeof e?e:t;const s=i.maxLength;return 0!=s&&a.length>s&&(a=a.substr(0,s)),a=a.replace(FancyProductDesigner.forbiddenTextChars,""),this.fpdInstance.mainOptions.disableTextEmojis&&(a=a.replace(FPDEmojisRegex,""),a=a.replace(String.fromCharCode(65039),"")),n.setElementOptions({text:a},i),a}window.FPDNamesNumbersModule=_n;class oi extends EventTarget{constructor(e,t,n){let i;if(super(),"products"===n)i=new de(e,t);else if("text"===n)i=new fe(e,t);else if(n.includes("designs")){let s=null;if(n.includes("designs_")&&!g(e.mainOptions.dynamicDesigns)){if(s=n.split("_").pop(),!s||!e.mainOptions.dynamicDesigns[s])return;{var a=e.mainOptions.dynamicDesigns[s];const t={};t["data-dynamic-designs-id"]=s,!g(a.icon)&&a.icon.includes(".svg")?this.configs={icon:a.icon,defaultText:a.name,attrs:t}:console.info("FPD: Dynamic Designs Module does not contain an icon for the main bar.")}}i=new Me(e,t,s)}else"images"===n?i=new Ut(e,t):"manage-layers"===n?i=new sn(e,t):"save-load"===n?i=new fn(e,t):"text-layers"===n?i=new xn(e,t):"layouts"===n?i=new qn(e,t):"names-numbers"===n&&(i=new _n(e,t));if(FancyProductDesigner.additionalModules&&!i){const a=FancyProductDesigner.additionalModules[n];a&&(i=new a(e,t))}if(i&&(this.moduleInstance=i,e["moduleInstance_"+n]=i,!n.includes("designs_"))){const e=i.container.querySelector("div");this.configs={icon:e.dataset.moduleicon,langId:e.dataset.title,langKeys:e.dataset.title.split("."),defaultText:e.dataset.defaulttext}}}}function ri(e,t){ci(e,t),t.add(e)}function li(e,t,n){ci(e,t),t.set(e,n)}function ci(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function di(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pi(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function hi(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,fi(e,t,"get"))}function ui(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,fi(e,t,"set"),n),n}function fi(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var mi=new WeakMap,gi=new WeakMap,vi=new WeakMap,bi=new WeakMap,yi=new WeakMap,wi=new WeakMap,Ci=new WeakMap,xi=new WeakMap,Ei=new WeakMap,Ii=new WeakSet,Ai=new WeakSet,Si=new WeakSet,ki=new WeakSet,Oi=new WeakSet,Ti=new WeakSet;class Di extends EventTarget{constructor(e){super(),ri(this,Ti),ri(this,Oi),ri(this,ki),ri(this,Si),ri(this,Ai),ri(this,Ii),li(this,mi,{writable:!0,value:null}),li(this,gi,{writable:!0,value:null}),li(this,vi,{writable:!0,value:!1}),li(this,bi,{writable:!0,value:0}),li(this,yi,{writable:!0,value:0}),li(this,wi,{writable:!0,value:0}),li(this,Ci,{writable:!0,value:0}),li(this,xi,{writable:!0,value:!1}),li(this,Ei,{writable:!0,value:!1}),di(this,"contentElem",null),di(this,"navElem",null),di(this,"currentModuleKey",""),di(this,"currentModules",[]),this.fpdInstance=e;const t=e.container;if(this.container=document.createElement("fpd-main-bar"),e.mainOptions.mainBarContainer&&!e.mainOptions.modalMode){const n=document.querySelector(e.mainOptions.mainBarContainer);n?(f(t,["fpd-off-canvas","fpd-topbar"]),u(t,["fpd-main-bar-container-enabled","fpd-sidebar"]),u(n,["fpd-container","fpd-main-bar-container","fpd-sidebar"]),n.append(this.container)):t.append(this.container)}else t.append(this.container);if(this.contentElem=this.container.querySelector(".fpd-module-content"),this.navElem=this.container.querySelector(".fpd-navigation"),this.secContent=this.container.querySelector(".fpd-secondary-content"),ui(this,mi,document.querySelector(this.fpdInstance.mainOptions.modalMode?".fpd-modal-product-designer":"body")),ui(this,gi,document.querySelector(".fpd-draggable-dialog")),hi(this,mi).append(hi(this,gi)),p(hi(this,gi),["mousedown","touchstart"],pi(this,Ii,Pi).bind(this)),p(hi(this,gi),["mouseup","touchend"],pi(this,Si,Bi).bind(this)),p(document,["mousemove","touchmove"],pi(this,Ai,Mi).bind(this)),p(hi(this,gi).querySelector(".fpd-close-dialog"),["click","touchstart"],pi(this,Oi,Fi).bind(this)),p(this.container.querySelector(".fpd-close"),["click","touchmove"],pi(this,Oi,Fi).bind(this)),p(e,"viewSelect",pi(this,Ti,Ni).bind(this)),t.classList.contains("fpd-off-canvas")){let e=0,t=0,n=0;this.contentElem.addEventListener("touchstart",(n=>{e=n.touches[0].pageX,t=n.touches[0].pageY,u(this.container,["fpd-is-dragging"])})),this.contentElem.addEventListener("touchmove",(i=>{let a=i.touches[0].pageX,s=i.touches[0].pageY;n=e-a;let o=t-s;Math.abs(n)>Math.abs(o)&&(n=Math.abs(n)<0?0:Math.abs(n),this.contentElem.style.left=-n+"px",this.contentElem.previousElementSibling.style.left=this.contentElem.clientWidth-n+"px",i.preventDefault())})),this.contentElem.addEventListener("touchend",(e=>{Math.abs(n)>100?this.toggleContentDisplay(!1):(this.contentElem.style.left="0px",this.contentElem.previousElementSibling.style.left=this.contentElem.clientWidth+"px"),n=0,f(this.container,["fpd-is-dragging"])}))}this.updateContentWrapper(),this.setup(e.mainOptions.mainBarModules),this.fpdInstance.translator.translateArea(this.container),hi(this,xi)&&this.fpdInstance.translator.translateArea(hi(this,gi))}callModule(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(f(this.navElem.querySelectorAll(".fpd-nav-item"),["fpd-active"]),f(Array.from(this.contentElem.children),["fpd-active"]),n)t=u(this.navElem.querySelector('.fpd-nav-item[data-dynamic-designs-id="'+n+'"]'),["fpd-active"]),u(this.contentElem.querySelector('[data-dynamic-designs-id="'+n+'"]'),["fpd-active"]);else{t=u(this.navElem.querySelector('.fpd-nav-item[data-module="'+e+'"]'),["fpd-active"]);const n=this.contentElem.querySelector("fpd-module-"+e);u(n,["fpd-active"]),"text"==e&&n.querySelector("textarea").focus()}this.toggleContentDisplay(),this.currentModuleKey=e,this.fpdInstance.dispatchEvent(new CustomEvent("moduleCalled",{detail:{moduleName:e}}))}callSecondary(e){f(this.navElem.querySelectorAll(".fpd-nav-item"),["fpd-active"]),u(this.secContent.querySelector(".fpd-"+e),["fpd-active"]),u([this.fpdInstance.container,hi(this,gi)],["fpd-secondary-visible"]),this.fpdInstance.dispatchEvent(new CustomEvent("secondaryModuleCalled",{detail:{moduleName:e}}))}get contentClosable(){const e=this.fpdInstance.container;return hi(this,Ei)||hi(this,xi)||e.classList.contains("fpd-layout-small")}toggleContentDisplay(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.fpdInstance.container,f([this.fpdInstance.container,hi(this,gi)],["fpd-secondary-visible"]),m([this.fpdInstance.container,hi(this,gi)],["fpd-module-visible"],e),this.contentClosable&&(e||f(this.navElem.querySelectorAll(".fpd-nav-item"),["fpd-active"])),hi(this,Ei)?(!e&&this.currentModuleKey.length&&this.fpdInstance.deselectElement(),this.contentElem.style.removeProperty("left"),this.contentElem.previousElementSibling.style.removeProperty("left"),this.container.style.setProperty("--fpd-content-height",this.fpdInstance.mainWrapper.container.clientHeight+"px"),m(this.container,["fpd-show"],e)):hi(this,xi)&&(e&&(hi(this,gi).querySelector(".fpd-dialog-title").innerText=this.navElem.querySelector(".fpd-nav-item.fpd-active .fpd-label").innerText),m(hi(this,gi),["fpd-show"],e)),e||(this.currentModuleKey="")}updateContentWrapper(){const e=this.fpdInstance.container;this.toggleContentDisplay(!1),ui(this,Ei,!1),ui(this,xi,!1),f(this.navElem.querySelectorAll(".fpd-nav-item"),["fpd-active"]),e.classList.contains("fpd-off-canvas")?(ui(this,Ei,!0),this.container.append(this.contentElem)):e.classList.contains("fpd-sidebar")?this.container.append(this.contentElem):(ui(this,xi,!0),hi(this,gi).append(this.contentElem),hi(this,gi).append(this.secContent),this.fpdInstance.translator.translateArea(hi(this,gi))),this.fpdInstance.translator.translateArea(this.container)}toggleUploadZonePanel(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.fpdInstance.loadingCustomImage){if(e){hi(this,xi)&&(hi(this,gi).querySelector(".fpd-dialog-title").innerText=""),m(this.uploadZoneNavItems.find((e=>e.classList.contains("fpd-add-image"))),["fpd-hidden"],!Boolean(t.uploads)),m(this.uploadZoneNavItems.find((e=>e.classList.contains("fpd-add-text"))),["fpd-hidden"],!Boolean(t.texts)),m(this.uploadZoneNavItems.find((e=>e.classList.contains("fpd-add-design"))),["fpd-hidden"],!Boolean(t.designs)),this.fpdInstance.UZmoduleInstance_designs&&this.fpdInstance.UZmoduleInstance_designs.toggleCategories();const e=this.uploadZoneNavItems.find((e=>!e.classList.contains("fpd-hidden")));e&&e.click(),this.callSecondary("upload-zone-panel")}else this.fpdInstance.currentViewInstance.currentUploadZone=null;m([this.fpdInstance.container,hi(this,gi)],["fpd-secondary-visible"],e),hi(this,xi)&&m(hi(this,gi),["fpd-show"],e)}}setup(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.currentModules=[];let t=this.fpdInstance.mainOptions.initialActiveModule?this.fpdInstance.mainOptions.initialActiveModule:"";const n=this.container.querySelector(".fpd-navigation");e.length<=1&&!this.fpdInstance.container.classList.contains("fpd-topbar")?(t=e[0]?e[0]:"",n.classList.add("fpd-hidden")):this.fpdInstance.container.classList.contains("fpd-sidebar")&&""==t?t=e[0]?e[0]:"":n.classList.remove("fpd-hidden"),n.innerHTML=this.contentElem.innerHTML="",FancyProductDesigner.additionalModules&&Object.keys(FancyProductDesigner.additionalModules).forEach((t=>{e.push(t)})),e.forEach((e=>{let t="";const i=new oi(this.fpdInstance,this.contentElem,e);if(!i.moduleInstance||!i.configs)return;this.currentModules.push(e);const a=document.createElement("div");a.classList.add("fpd-nav-item"),a.dataset.module=e,a.addEventListener("click",pi(this,ki,Li).bind(this)),n.appendChild(a);let s=document.createElement("span");if("string"==typeof i.configs.icon&&i.configs.icon.includes(".svg")?(o={url:i.configs.icon,onSuccess:e=>{s.innerHTML=e},onError:e=>{console.log(e)}},fetch(o.url).then((e=>{e.ok?e.text().then((e=>{o.onSuccess&&o.onSuccess(e)})):e.text().then((e=>{o.onError&&o.onError(e)}))}))):(s.classList.add("fpd-nav-icon"),s.classList.add(i.configs.icon)),a.append(s),i.configs.langKeys){const e=i.configs.langKeys;t=this.fpdInstance.translator.getTranslation(e[0],e[1],i.configs.defaultText)}else i.configs.defaultText&&(t=i.configs.defaultText);var o;const r=document.createElement("span");if(r.className="fpd-label",r.innerText=t,a.append(r),i.configs.attrs)for(const[e,t]of Object.entries(i.configs.attrs))a.setAttribute(e,t)}));const i=n.querySelector(`[data-module="${t}"]`);!this.contentClosable&&i&&i.click(),this.uploadZoneContent=this.secContent.querySelector(".fpd-upload-zone-content"),this.uploadZoneNavItems=Array.from(this.secContent.querySelectorAll(".fpd-upload-zone-panel .fpd-bottom-nav > div"));const a=new oi(this.fpdInstance,this.uploadZoneContent,"images");this.fpdInstance.UZmoduleInstance_images=a.moduleInstance;const s=new oi(this.fpdInstance,this.uploadZoneContent,"text");this.fpdInstance.UZmoduleInstance_text=s.moduleInstance;const o=new oi(this.fpdInstance,this.uploadZoneContent,"designs");this.fpdInstance.UZmoduleInstance_designs=o.moduleInstance,p(this.uploadZoneNavItems,"click",(e=>{f(this.uploadZoneNavItems,["fpd-active"]),u(e.currentTarget,["fpd-active"]),f(Array.from(this.uploadZoneContent.children),["fpd-active"]),u(this.uploadZoneContent.querySelector("fpd-module-"+e.currentTarget.dataset.module),["fpd-active"])})),this.fpdInstance.translator.translateArea(this.container)}}function Pi(e){hi(this,gi).querySelector(".fpd-dialog-drag-handle").contains(e.target)&&(e.preventDefault(),ui(this,vi,!0),ui(this,bi,e.touches?event.touches[0].clientX:e.clientX),ui(this,yi,e.touches?event.touches[0].clientY:e.clientY),ui(this,wi,hi(this,bi)-hi(this,gi).offsetLeft),ui(this,Ci,hi(this,yi)-hi(this,gi).offsetTop))}function Mi(e){if(!hi(this,vi))return;const t=hi(this,mi).clientWidth<window.innerWidth?window.innerWidth:hi(this,mi).clientWidth,n=hi(this,mi).clientHeight<window.innerHeight?window.innerHeight:hi(this,mi).clientHeight,i=t-hi(this,gi).clientWidth,a=n-hi(this,gi).clientHeight,s=e.touches?event.touches[0].clientX:e.clientX;let o=(e.touches?event.touches[0].clientY:e.clientY)-hi(this,Ci),r=s-hi(this,wi);r<0&&(r=0),o<0&&(o=0),r>i&&(r=i),o>a&&(o=a),hi(this,gi).style.top=o+"px",hi(this,gi).style.left=r+"px"}function Bi(e){ui(this,vi,!1)}function Li(e){e.stopPropagation(),this.fpdInstance.deselectElement(),this.fpdInstance.currentViewInstance&&(this.fpdInstance.currentViewInstance.currentUploadZone=null),e.currentTarget.classList.contains("fpd-active")&&this.contentClosable?this.toggleContentDisplay(!1):this.callModule(e.currentTarget.dataset.module,e.currentTarget.dataset.dynamicDesignsId),this.fpdInstance.dispatchEvent(new CustomEvent("navItemSelect",{detail:{item:e.currentTarget}}))}function Fi(e){e.preventDefault(),this.fpdInstance.currentViewInstance&&this.fpdInstance.currentViewInstance.currentUploadZone&&this.fpdInstance.currentViewInstance.fabricCanvas.deselectElement(),this.toggleContentDisplay(!1)}function Ni(){const e=this.fpdInstance.currentViewInstance,t=e.options.customAdds;m(document.querySelectorAll('.fpd-nav-item[data-module^="designs"]'),["fpd-disabled"],!t.designs),m(document.querySelectorAll('.fpd-nav-item[data-module="images"]'),["fpd-disabled"],!t.uploads),m(document.querySelectorAll('.fpd-nav-item[data-module="text-to-image"]'),["fpd-disabled"],!t.uploads),m(document.querySelectorAll('.fpd-nav-item[data-module="drawing"]'),["fpd-disabled"],!t.drawing),m(document.querySelectorAll('.fpd-nav-item[data-module="text"]'),["fpd-disabled"],!t.texts),m(document.querySelectorAll('.fpd-nav-item[data-module="names-numbers"]'),["fpd-disabled"],!e.fabricCanvas.textPlaceholder&&!e.fabricCanvas.numberPlaceholder),this.toggleContentDisplay(!1)}di(Di,"availableModules",["products","images","text","designs","manage-layers","text-layers","layouts","save-load","names-numbers"]),window.FPDMainBar=Di;class ji extends HTMLElement{constructor(){super()}connectedCallback(){this.innerHTML='<div class="fpd-product-stage"></div>'}}customElements.define("fpd-main-wrapper",ji);class Hi{constructor(e){this.container=document.createElement("fpd-main-wrapper"),e.container.append(this.container)}}class qi extends HTMLElement{constructor(){super()}connectedCallback(){this.innerHTML='<div data-pos="left"> <div class="fpd-dropdown-btn"> <i class="fpd-icon-menu"></i> <span class="fpd-label" data-defaulttext="File">actions.menu_file</span> <div class="fpd-dropdown-menu fpd-actions-wrapper fpd-shadow-1"></div> </div> </div> <div class="fpd-actions-wrapper" data-pos="center"></div> <div data-pos="right"> <div class="fpd-dropdown-btn"> <i class="fpd-icon-more"></i> <span class="fpd-label" data-defaulttext="More">actions.menu_more</span> <div class="fpd-dropdown-menu fpd-actions-wrapper fpd-shadow-1"></div> </div> </div> <div data-pos="modal"> <span class="fpd-btn fpd-btn-fill fpd-close fpd-done"> <i class="fpd-icon-done"></i> <span class="fpd-label" data-defaulttext="Done">actions.modal_done</span> <span class="fpd-total-price">10.00$</span> </span> <span class="fpd-btn fpd-close"> <i class="fpd-icon-close"></i> </span> </div>'}}function zi(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ui(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}customElements.define("fpd-actions-bar",qi);var Vi=new WeakSet;class Zi extends EventTarget{constructor(e){var t,n;super(),function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t=this,n=Vi),n.add(t),zi(this,"currentActions",{}),this.fpdInstance=e,this.container=document.createElement("fpd-actions-bar"),e.container.append(this.container),p(e.container.querySelectorAll(".fpd-dropdown-btn"),"click",(e=>{const t=e.currentTarget.querySelector(".fpd-dropdown-menu");m(t,["fpd-show"],!t.classList.contains("fpd-show"))})),p(e.container.querySelectorAll(".fpd-close"),"click",(e=>{f(this.fpdInstance.modalWrapper,["fpd-show"]),this.fpdInstance.dispatchEvent(new CustomEvent("modalDesignerClose"))})),p(e.container.querySelector(".fpd-done"),"click",(e=>{this.fpdInstance.dispatchEvent(new CustomEvent("modalDesignerDone"))})),p(e,["viewSelect"],(e=>{this.reset()})),p(window,"resize",(t=>{e.inTextField||this.reset()})),this.setup(e.mainOptions.actions)}addActionBtn(e,t){if(Zi.availableActions.hasOwnProperty(t)){const n=Zi.availableActions[t],i=this.fpdInstance.translator.getTranslation("actions",t.replace(/-/g,"_"),n.title),a=document.createElement("div");a.className="fpd-btn fpd-tooltip",a.setAttribute("aria-label",i),a.dataset.action=t,a.innerHTML=`<i class="${n.icon}"></i><span>${i}</span>`,Zi.toggleActions.includes(t)&&a.insertAdjacentHTML("beforeend",'<input type="checkbox" class="fpd-switch" />'),e.append(a),p(a,"click",(e=>{const t=e.currentTarget.querySelector(".fpd-switch");t&&!e.target.classList.contains("fpd-switch")&&(t.checked=!t.checked),this.doAction(e.currentTarget.dataset.action)}))}}doAction(t){if(this.fpdInstance.currentViewInstance){if(this.fpdInstance.deselectElement(),"print"===t)this.fpdInstance.print();else if("reset-product"===t){var n=e(this.fpdInstance.translator.getTranslation("misc","reset_confirm"),!1,"confirm",this.fpdInstance.container);const t=n.querySelector(".fpd-confirm");t.innerText=this.fpdInstance.translator.getTranslation("actions","reset_product"),p(t,["click"],(()=>{this.fpdInstance.loadProduct(this.fpdInstance.productViews),n.remove()}))}else if("undo"===t)this.fpdInstance.currentViewInstance.fabricCanvas.undo();else if("redo"===t)this.fpdInstance.currentViewInstance.fabricCanvas.redo();else if("info"===t)e(this.fpdInstance.translator.getTranslation("actions","info_content"),!1,"",this.fpdInstance.container);else if("preview-lightbox"===t)this.fpdInstance.getProductDataURL((t=>{const n=new Image;n.src=t,n.onload=()=>{e('<div style="text-align: center;"><img src="'+n.src+'" download="product.png" /></div>',!0)}}));else if("snap"===t)this.fpdInstance.currentViewInstance.fabricCanvas.snapToGrid=!this.fpdInstance.currentViewInstance.fabricCanvas.snapToGrid,this.fpdInstance.currentViewInstance.fabricCanvas.renderAll();else if("zoom"===t){const e=this.fpdInstance.mainWrapper.container.querySelector(".fpd-zoom-wrapper");if(e)return void e.remove();const t=document.createElement("div");t.className="fpd-zoom-wrapper fpd-shadow-1";const n=this.fpdInstance.currentViewInstance.fabricCanvas.getZoom()/this.fpdInstance.currentViewInstance.fabricCanvas.responsiveScale,i=document.createElement("fpd-range-slider");i.className="fpd-progress",i.setAttribute("value",n),i.setAttribute("step",.02),i.setAttribute("min",1),i.setAttribute("max",3),i.onInput=e=>{this.fpdInstance.currentViewInstance.fabricCanvas.setResZoom(Number(e.currentTarget.value))},t.append(i);const a=document.createElement("div");a.className="fpd-stage-pan fpd-toggle",a.innerHTML='<span class="fpd-icon-drag"></span>',t.append(a),p(a,"click",(e=>{this.fpdInstance.currentViewInstance.fabricCanvas.panCanvas=!this.fpdInstance.currentViewInstance.fabricCanvas.panCanvas,m(a,["fpd-active"],this.fpdInstance.currentViewInstance.fabricCanvas.panCanvas)})),this.fpdInstance.mainWrapper.container.append(t)}else if("download"===t){const t=`<div class="fpd-modal-download">\n\t\t\t<span data-value="jpeg">\n\t\t\t\t<span class="fpd-icon-jpg"></span>\n\t\t\t</span>\n\t\t\t<span data-value="png">\n\t\t\t\t<span class="fpd-icon-png"></span>\n\t\t\t</span>\n\t\t\t<span data-value="pdf">\n\t\t\t\t<span class="fpd-icon-pdf"></span>\n\t\t\t</span>\n\t\t\t<span data-value="svg">\n\t\t\t\t<span class="fpd-icon-svg"></span>\n\t\t\t</span>\n\t\t\t<div class="fpd-switch-wrapper">\n\t\t\t\t<input type="checkbox" class="fpd-switch" id="fpd-action-download-single-view" />\n\t\t\t\t<label for="fpd-action-download-single-view">${this.fpdInstance.translator.getTranslation("actions","download_current_view")}</label>\n\t\t\t</div>\n\t\t</div>`,n=e(t,!1,"",this.fpdInstance.container);p(n.querySelectorAll("span[data-value]"),"click",(e=>{this.downloadFile(e.currentTarget.dataset.value,n.querySelector(".fpd-switch").checked),n.remove()}))}else"ruler"===t?(this.fpdInstance.currentViewInstance.fabricCanvas.enableRuler=!this.fpdInstance.currentViewInstance.fabricCanvas.enableRuler,this.fpdInstance.currentViewInstance.fabricCanvas.renderAll()):"previous-view"===t?this.fpdInstance.selectView(this.fpdInstance.currentViewIndex-1):"next-view"===t?this.fpdInstance.selectView(this.fpdInstance.currentViewIndex+1):"guided-tour"===t&&this.fpdInstance.guidedTour&&this.fpdInstance.guidedTour.start();this.dispatchEvent(new CustomEvent("actionClick",{detail:{action:t}}))}}downloadFile(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.fpdInstance.currentViewInstance)return;const n=this.fpdInstance.mainOptions.downloadFilename;if("jpeg"===e||"png"===e){document.createElement("a");var i="jpeg"===e?"#fff":"transparent";t?this.fpdInstance.currentViewInstance.toDataURL((t=>{download(t,n+"."+e,"image/"+e)}),{format:e,backgroundColor:i,watermarkImg:this.fpdInstance.watermarkImg}):this.fpdInstance.getProductDataURL((t=>{download(t,n+"."+e,"image/"+e)}),{format:e,backgroundColor:i})}else"svg"===e?download(this.fpdInstance.currentViewInstance.toSVG({suppressPreamble:!1,watermarkImg:this.fpdInstance.watermarkImg}),"Product_"+this.fpdInstance.currentViewIndex+".svg","image/svg+xml"):(a="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js",new Promise((function(e,t){if(null===document.querySelector("script[src='"+a+"']")){var n=document.createElement("script");n.onload=()=>{e()},n.onerror=()=>{t()},n.src=a,document.body.appendChild(n)}else e()}))).then((()=>{const e=e=>{let i;e="string"==typeof e?[e]:e;for(let n=0;n<e.length;++n){const a=t?this.fpdInstance.currentViewIndex:n;let s=this.fpdInstance.viewInstances[a].options.stageWidth,o=this.fpdInstance.viewInstances[a].options.stageHeight,r=s>o?"l":"p";0!=n?i.addPage([s,o],r):i=new jspdf.jsPDF({orientation:r,unit:"px",format:[s,o]}),i.addImage(e[n],"PNG",0,0,i.internal.pageSize.getWidth(),i.internal.pageSize.getHeight())}i.save(n+".pdf")};jspdf&&(t?this.fpdInstance.currentViewInstance.toDataURL(e,"transparent",{format:"png"},this.fpdInstance.watermarkImg):this.fpdInstance.getViewsDataURL(e,"transparent",{format:"png"}))}));var a}reset(){const e=this.container.querySelectorAll(".fpd-actions-wrapper .fpd-switch");e&&e.forEach((e=>{e.checked=!1}));const t=this.fpdInstance.mainWrapper.container.querySelector(".fpd-zoom-wrapper");t&&t.remove(),this.fpdInstance.currentViewInstance&&this.fpdInstance.currentViewInstance.fabricCanvas.setResZoom(1)}setup(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.currentActions=e,"object"==typeof e){this.container.querySelectorAll(".fpd-actions-wrapper").forEach((e=>{e.innerHTML=""}));for(const t in e)Ui(this,Vi,Wi).call(this,t,e[t])}this.fpdInstance.translator.translateArea(this.container)}}function Wi(e,t){t&&t.forEach((t=>{let n;if("left"==e)n=this.container.querySelector('[data-pos="left"] .fpd-actions-wrapper');else if("center"==e){if(this.container.querySelectorAll('[data-pos="center"].fpd-actions-wrapper > .fpd-btn').length>1)return;n=this.container.querySelector('[data-pos="'+e+'"].fpd-actions-wrapper')}else"right"==e&&(n=this.container.querySelector('[data-pos="right"] .fpd-actions-wrapper'));n&&this.addActionBtn(n,t)}))}zi(Zi,"availableActions",{print:{icon:"fpd-icon-print",title:"Print"},"reset-product":{icon:"fpd-icon-reset",title:"Reset Product"},undo:{icon:"fpd-icon-undo",title:"Undo"},redo:{icon:"fpd-icon-redo",title:"Redo"},info:{icon:"fpd-icon-info",title:"Info"},zoom:{icon:"fpd-icon-zoom-in",title:"Zoom"},download:{icon:"fpd-icon-download",title:"Download"},"preview-lightbox":{icon:"fpd-icon-preview-lightbox",title:"Preview Lightbox"},ruler:{icon:"fpd-icon-ruler",title:"Ruler"},"previous-view":{icon:"fpd-icon-back",title:"Previous View"},"next-view":{icon:"fpd-icon-forward",title:"Next View"},"guided-tour":{icon:"fpd-icon-guided-tour",title:"Guided Tour"}}),zi(Zi,"toggleActions",["snap","ruler","zoom"]),window.FPDActions=Zi;class Ri extends HTMLElement{constructor(){super()}connectedCallback(){this.innerHTML='<div class="fpd-view-locker"> <span class="fpd-icon-locked"></span> <span class="fpd-icon-unlocked fpd-hidden"></span> </div> <div class="fpd-view-prev"> <span class="fpd-icon-forward"></span> </div> <div class="fpd-show-views-grid"> <span class="fpd-current-view">0</span> <span class="fpd-total-views">0</span> </div> <div class="fpd-view-next"> <span class="fpd-icon-forward"></span> </div> '}}function Yi(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}customElements.define("fpd-views-nav",Ri);var Gi=new WeakSet;class Ji extends EventTarget{constructor(e){var t,n;super(),function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t=this,n=Gi),n.add(t),this.container=document.createElement("fpd-views-nav"),e.mainWrapper.container.append(this.container),p(e,["viewCreate","viewRemove"],(t=>{this.container.querySelector(".fpd-total-views").innerText=e.viewInstances.length})),p(e,["viewSelect"],(t=>{m(this.container.querySelector(".fpd-view-locker"),["fpd-hidden"],!e.currentViewInstance.options.optionalView),this.container.querySelector(".fpd-current-view").innerText=e.currentViewIndex+1,Yi(this,Gi,Xi).call(this,e.currentViewInstance)})),p(this.container.querySelector(".fpd-view-prev"),"click",(t=>{e.selectView(e.currentViewIndex-1)})),p(this.container.querySelector(".fpd-view-next"),"click",(t=>{e.selectView(e.currentViewIndex+1)})),p(this.container.querySelector(".fpd-show-views-grid"),"click",(t=>{e.deselectElement(),m(e.viewsGrid.container,["fpd-show"],!0)})),p(this.container.querySelector(".fpd-view-locker"),"click",(t=>{e.currentViewInstance&&(e.currentViewInstance.toggleLock(!e.currentViewInstance.locked),Yi(this,Gi,Xi).call(this,e.currentViewInstance))}))}}function Xi(e){const t=this.container.querySelector(".fpd-view-locker");m(t.querySelector(".fpd-icon-locked"),["fpd-hidden"],!e.locked),m(t.querySelector(".fpd-icon-unlocked"),["fpd-hidden"],e.locked)}class Qi extends HTMLElement{constructor(){super()}connectedCallback(){this.innerHTML='<div class="fpd-head"> <span class="fpd-btn fpd-add-blank fpd-hidden" data-defaulttext="Add Blank Page">misc.dynamic_views_add_blank</span> <span class="fpd-btn fpd-add-layout" data-defaulttext="Add Page from Layouts">misc.dynamic_views_add_from_layouts</span> <div class="fpd-close"> <span class="fpd-icon-close"></span> </div> </div> <div class="fpd-scroll-area"> <div class="fpd-grid"></div> </div> <div class="fpd-blank-page-modal fpd-shadow-1 fpd-hidden"> <div class="fpd-head"> <label class="fpd-input"> <span data-defaulttext="Width">misc.dynamic_views_width</span> <input type="number" min="1" step="1" data-type="width"> </label> <label class="fpd-input"> <span data-defaulttext="Height">misc.dynamic_views_height</span> <input type="number" min="1" step="1" data-type="height"> </label> <span class="fpd-btn" data-defaulttext="Add Page">misc.dynamic_views_add_view</span> <div class="fpd-close"> <span class="fpd-icon-close"></span> </div> </div> <div class="fpd-scroll-area"> <div class="fpd-grid"></div> </div> </div> <div class="fpd-layouts-modal fpd-shadow-1 fpd-hidden"> <div class="fpd-head"> <div class="fpd-close"> <span class="fpd-icon-close"></span> </div> </div> <div class="fpd-scroll-area"> <div class="fpd-grid"></div> </div> </div> '}}function Ki(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function _i(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}customElements.define("fpd-views-grid",Qi);var $i=new WeakSet,ea=new WeakSet,ta=new WeakSet,na=new WeakSet;class ia extends EventTarget{constructor(e){if(super(),Ki(this,na),Ki(this,ta),Ki(this,ea),Ki(this,$i),this.fpdInstance=e,this.unitFormat=e.mainOptions.dynamicViewsOptions.unit,this.formats=e.mainOptions.dynamicViewsOptions.formats,this.minWidth=e.mainOptions.dynamicViewsOptions.minWidth,this.minHeight=e.mainOptions.dynamicViewsOptions.minHeight,this.maxWidth=e.mainOptions.dynamicViewsOptions.maxWidth,this.maxHeight=e.mainOptions.dynamicViewsOptions.maxHeight,this.currentLayouts=[],this.container=document.createElement("fpd-views-grid"),e.container.append(this.container),m(this.container,["fpd-dynamic-views-enabled"],e.mainOptions.enableDynamicViews),this.gridElem=this.container.querySelector(".fpd-grid"),this.blankPageModal=this.container.querySelector(".fpd-blank-page-modal"),this.layoutsModal=this.container.querySelector(".fpd-layouts-modal"),e.mainOptions.enableDynamicViews){let t;this.blankPageCustomWidthInput=this.blankPageModal.querySelectorAll(".fpd-head input")[0],this.blankPageCustomHeightInput=this.blankPageModal.querySelectorAll(".fpd-head input")[1],this.blankPageCustomWidthInput.setAttribute("placeholder",this.unitFormat),this.blankPageCustomHeightInput.setAttribute("placeholder",this.unitFormat),Array.isArray(this.formats)&&this.formats.length&&(f(this.container.querySelector(".fpd-btn.fpd-add-blank"),["fpd-hidden"]),this.formats.forEach((e=>{const t=e[0],n=e[1],i=150;let a,s;t>n?(a=i,s=i/t*n):(s=i,a=i/n*t);const o=document.createElement("div");o.className="fpd-shadow-1 fpd-item",o.innerHTML="<span>"+t+"x"+n+"<br>"+this.unitFormat+"</span>",o.style.width=a+"px",o.style.height=s+"px",this.blankPageModal.querySelector(".fpd-grid").append(o),p(o,"click",(e=>{_i(this,$i,aa).call(this,t,n)}))}))),AreaSortable("unrestricted",{container:this.gridElem,handle:"fpd-sort",item:"fpd-item",placeholder:"fpd-sortable-placeholder",activeItem:"fpd-sortable-dragged",closestItem:"fpd-sortable-closest",autoscroll:!0,animationMs:0,onStart:e=>{t=Array.from(this.gridElem.querySelectorAll(".fpd-item")).indexOf(e);const n=window.pageYOffset||document.documentElement.scrollTop||0;window.onscroll=()=>{window.scrollTo({top:n})}},onEnd:n=>{const i=Array.from(this.gridElem.querySelectorAll(".fpd-item")).indexOf(n);t!=i&&(_i(this,ta,oa).call(this,e.viewInstances,t,i),e.productStage.innerHTML="",e.viewInstances.forEach((t=>{e.productStage.append(t.fabricCanvas.wrapperEl)})),e.selectView(0)),window.onscroll=()=>{}}}),p(this.container.querySelectorAll(".fpd-btn.fpd-add-blank, .fpd-btn.fpd-add-layout"),"click",(e=>{u(this.container,["fpd-modal-visible"]),e.currentTarget.classList.contains("fpd-add-blank")?f(this.blankPageModal,["fpd-hidden"]):f(this.layoutsModal,["fpd-hidden"])})),p(this.container.querySelectorAll(".fpd-blank-page-modal .fpd-close, .fpd-layouts-modal .fpd-close"),"click",(()=>{f(this.container,["fpd-modal-visible"]),u(this.blankPageModal,["fpd-hidden"]),u(this.layoutsModal,["fpd-hidden"])})),p(e,"layoutsSet",(()=>{m(this.container.querySelectorAll(".fpd-btn.fpd-add-layout"),["fpd-hidden"],!(e.currentLayouts&&e.currentLayouts.length>0)),e.currentLayouts&&e.currentLayouts.length&&e.currentLayouts.forEach((t=>{const n=document.createElement("div");n.className="fpd-shadow-1 fpd-item",n.innerHTML='<picture  style="background-image: url('+t.thumbnail+');"></picture><span>'+t.title+"</span>",this.layoutsModal.querySelector(".fpd-grid").append(n),p(n,"click",(n=>{e.addView(t),this.hideModals()}))}))})),p(this.blankPageModal.querySelector(".fpd-head .fpd-btn"),"click",(e=>{if(this.blankPageCustomWidthInput.value&&this.blankPageCustomHeightInput.value){const e=parseInt(Math.abs(this.blankPageCustomWidthInput.value)),t=parseInt(Math.abs(this.blankPageCustomHeightInput.value));_i(this,$i,aa).call(this,e,t)}})),this.blankPageModal.querySelector('.fpd-input input[data-type="width"]').value=this.minWidth,this.blankPageModal.querySelector('.fpd-input input[data-type="height"]').value=this.minHeight,p(this.blankPageModal.querySelectorAll(".fpd-input input"),"keyup",(e=>{e.currentTarget.value=_i(this,na,ra).call(this,e.currentTarget.dataset.type,e.currentTarget)}))}p(e,"viewCreate",(t=>{const n=t.detail.viewInstance,i=FancyProductDesigner.proxyFileServer?FancyProductDesigner.proxyFileServer+n.thumbnail:n.thumbnail,a=document.createElement("div");if(a.className="fpd-shadow-1 fpd-item",a.title=n.title,a.innerHTML='<picture style="background-image: url('+i+');"></picture><span>'+a.title+"</span>",this.gridElem.append(a),e.mainOptions.enableDynamicViews){const t=document.createElement("div");t.className="fpd-sort",t.innerHTML='<span class="fpd-icon-drag"></span>',a.append(t);const i=document.createElement("div");i.className="fpd-options",i.innerHTML="···",a.append(i);const c=document.createElement("div");if(c.className="fpd-dropdown-menu fpd-shadow-1",c.innerHTML=`\n                        <span data-option="duplicate">${e.translator.getTranslation("misc","view_duplicate")}</span>\n                        <span data-option="delete">${e.translator.getTranslation("misc","view_delete")}</span>\n                    `,i.append(c),p(i,"click",(e=>{e.stopPropagation();const t=i.querySelector(".fpd-dropdown-menu");m(t,["fpd-show"],!t.classList.contains("fpd-show"))})),p(c.querySelectorAll("span"),"click",(t=>{const i=t.currentTarget.dataset.option;if("duplicate"==i)_i(this,ea,sa).call(this,n);else if("delete"==i){const t=Array.from(this.gridElem.querySelectorAll(".fpd-item")).indexOf(a);e.removeView(t)}})),e.mainOptions.dynamicViewsOptions.pricePerArea){var o=k(n.options.stageWidth,"cm"),r=k(n.options.stageHeight,"cm");s(n.options.output,["width","height"])&&(o=n.options.output.width/10,r=n.options.output.height/10);var l=Math.ceil(o*r)*Number(e.mainOptions.dynamicViewsOptions.pricePerArea);n.changePrice(0,"+",l)}}p(a.querySelector("picture"),"click",(t=>{const n=Array.from(this.gridElem.querySelectorAll(".fpd-item")).indexOf(a);e.selectView(n),this.reset()}))})),p(e,"viewRemove",(e=>{const t=this.gridElem.querySelectorAll(".fpd-item").item(e.detail.viewIndex);t&&t.remove()})),p(e,"clear",(()=>{this.gridElem.innerHTML=""})),p(this.container.querySelector(".fpd-close"),"click",this.reset.bind(this)),p(e,"navItemSelect",this.reset.bind(this))}hideModals(){f(this.container,["fpd-modal-visible"]),u(this.blankPageModal,["fpd-hidden"]),u(this.layoutsModal,["fpd-hidden"])}reset(){this.hideModals(),f(this.container,["fpd-show"])}}function aa(e,t){if(!e||!t)return;const n=S(Number(e),this.unitFormat),i=S(Number(t),this.unitFormat);let a=Math.min(950/n,950/i);const s=n*a,o=i*a;let r={stageWidth:1e3,stageHeight:1e3,printingBox:{width:s,height:o,left:500-s/2,top:500-o/2,visibility:!0},usePrintingBoxAsBounding:!0,output:{width:k(n,"mm"),height:k(i,"mm")}};this.fpdInstance.addView({title:e+"x"+t,thumbnail:"",elements:[],options:r}),this.hideModals()}function sa(e){let t=e.fabricCanvas.getObjects(),n=[];t.forEach((e=>{if(void 0!==e.title&&void 0!==e.source){const t={title:e.title,source:e.source,parameters:e.getElementJSON(),type:e.getType()};n.push(t)}})),this.fpdInstance.addView({title:e.title,thumbnail:e.thumbnail,elements:n,options:e.options})}function oa(e,t,n){let i=e[t];e.splice(t,1),e.splice(n,0,i)}function ra(e,t){return"width"==e?t.value<this.minWidth?t.value=this.minWidth:t.value>this.maxWidth&&(t.value=this.maxWidth):t.value<this.minHeight?t.value=this.minHeight:t.value>this.maxHeight&&(t.value=this.maxHeight),t.value}class la extends HTMLElement{constructor(){super()}connectedCallback(){this.innerHTML='<div class="fpd-close-sub-panel"> <span class="fpd-icon-back"></span> </div> <div class="fpd-close"> <span class="fpd-icon-close"></span> </div> <div class="fpd-tools-nav fpd-scroll-area"> <div class="fpd-tool-color" data-panel="color"> <span class="fpd-current-fill"></span> <span class="fpd-label" data-defaulttext="Color">toolbar.color</span> </div> <div class="fpd-tool-edit-text" data-panel="edit-text"> <span class="fpd-icon-text-input"></span> <span class="fpd-label" data-defaulttext="Edit Text">toolbar.edit_text</span> </div> <div class="fpd-tool-text-size" data-panel="text-size"> <span class="fpd-icon-font-size"></span> <span class="fpd-label" data-defaulttext="Size & Spacing">toolbar.text_size_spacing</span> </div> <div class="fpd-tool-font-family" data-panel="font-family"> <span class="fpd-icon-font"></span> <span class="fpd-label" data-defaulttext="Font">toolbar.font</span> </div> <div class="fpd-tool-text-format" data-panel="text-format"> <span class="fpd-icon-text-format"></span> <span class="fpd-label" data-defaulttext="Format">toolbar.text_format</span> </div> <div class="fpd-tool-transform" data-panel="transform"> <span class="fpd-icon-transform"></span> <span class="fpd-label" data-defaulttext="Transform">toolbar.transform</span> </div> <div class="fpd-tool-position" data-panel="position"> <span class="fpd-icon-position"></span> <span class="fpd-label" data-defaulttext="Position">toolbar.position</span> </div> <div class="fpd-tool-curved-text" data-panel="curved-text"> <span class="fpd-icon-curved-text"></span> <span class="fpd-label" data-defaulttext="Curved Text">toolbar.curved_text</span> </div> <div class="fpd-tool-advanced-editing" data-panel="advanced-editing"> <span class="fpd-icon-effects"></span> <span class="fpd-label" data-defaulttext="Edit Image">toolbar.advanced_editing</span> </div> <div class="fpd-tool-reset"> <span class="fpd-icon-reset"></span> <span class="fpd-label" data-defaulttext="Reset">toolbar.reset</span> </div> <div class="fpd-tool-duplicate"> <span class="fpd-icon-copy"></span> <span class="fpd-label" data-defaulttext="Duplicate">toolbar.duplicate</span> </div> <div class="fpd-tool-remove"> <span class="fpd-icon-bin"></span> <span class="fpd-label" data-defaulttext="Remove">toolbar.remove</span> </div> </div> <div class="fpd-sub-panel"> <div class="fpd-panel-color"> <div class="fpd-panel-tabs"> <span data-tab="fill" data-defaulttext="Fill" class="fpd-active">toolbar.fill</span> <span data-tab="stroke" data-defaulttext="Stroke" class="fpd-tool-text-stroke">toolbar.stroke</span> <span data-tab="shadow" data-defaulttext="Shadow" class="fpd-tool-text-shadow">toolbar.shadow</span> </div> <div class="fpd-panel-tabs-content fpd-scroll-area"> <div data-id="fill" class="fpd-active"> <div class="fpd-color-wrapper"></div> <div class="fpd-tool-fill-opacity fpd-input"> <span class="fpd-label" data-defaulttext="Transparency">toolbar.transparency</span> <fpd-range-slider class="fpd-progress" value="1" step="0.01" min="0" max="1" data-control="opacity"></fpd-range-slider> <input class="fpd-slider-number fpd-number" type="number" value="1" step="0.01" min="0" max="1" data-control="opacity"/> </div> </div> <div data-id="stroke"> <div class="fpd-stroke-color-wrapper"></div> <div class="fpd-tool-stroke-width fpd-input"> <span class="fpd-label" data-defaulttext="Stroke Width">toolbar.stroke_width</span> <fpd-range-slider class="fpd-progress" value="0" step="1" min="0" max="20" data-control="strokeWidth"></fpd-range-slider> <input class="fpd-slider-number fpd-number" type="number" value="0" step="1" min="0" max="20" data-control="strokeWidth"/> </div> </div> <div data-id="shadow"> <div class="fpd-shadow-color-wrapper"></div> <div class="fpd-tool-shadow-blur fpd-input"> <span class="fpd-label" data-defaulttext="Blur">toolbar.shadow_blur</span> <fpd-range-slider class="fpd-progress" value="0" step="1" min="0" max="200" data-control="shadowBlur"></fpd-range-slider> <input class="fpd-slider-number fpd-number" type="number" value="0" step="1" min="0" max="200" data-control="shadowBlur"/> </div> <div class="fpd-tool-shadow-offsetX fpd-input"> <span class="fpd-label" data-defaulttext="Offset X">toolbar.shadow_offset_x</span> <fpd-range-slider class="fpd-progress" value="0" step="1" min="-100" max="100" data-control="shadowOffsetX"></fpd-range-slider> <input class="fpd-slider-number fpd-number" type="number" value="0" step="1" min="-100" max="100" data-control="shadowOffsetX"/> </div> <div class="fpd-tool-shadow-offsetY fpd-input"> <span class="fpd-label" data-defaulttext="Offset Y">toolbar.shadow_offset_y</span> <fpd-range-slider class="fpd-progress" value="0" step="1" min="-100" max="100" data-control="shadowOffsetY"></fpd-range-slider> <input class="fpd-slider-number fpd-number" type="number" value="0" step="1" min="-100" max="100" data-control="shadowOffsetY"/> </div> <div class="fpd-btn fpd-secondary fpd-remove-shadow" data-defaulttext="Remove Shadow">toolbar.remove_shadow</div> </div> </div> </div> <div class="fpd-panel-edit-text fpd-padding"> <textarea data-control="text"></textarea> </div> <div class="fpd-panel-text-size fpd-padding"> <div class="fpd-tool-text-size fpd-input"> <span class="fpd-label" data-defaulttext="Font Size">toolbar.font_size</span> <fpd-range-slider class="fpd-progress" value="12" step="1" min="1" max="200" data-control="fontSize"></fpd-range-slider> <input class="fpd-slider-number fpd-number" type="number" value="12" step="1" min="1" max="200" data-control="fontSize"/> </div> <div class="fpd-tool-text-line-spacing fpd-input"> <span class="fpd-label" data-defaulttext="Line Spacing">toolbar.line_spacing</span> <fpd-range-slider class="fpd-progress" value="1" step="0.1" min="-2" max="3" data-control="lineHeight"></fpd-range-slider> <input class="fpd-slider-number fpd-number" type="number" value="1" step="0.1" min="-2" max="3" data-control="lineHeight"/> </div> <div class="fpd-tool-text-letter-spacing fpd-input"> <span class="fpd-label" data-defaulttext="Letter Spacing">toolbar.letter_spacing</span> <fpd-range-slider class="fpd-progress" value="0" step="1" min="-30" max="30" data-control="letterSpacing"></fpd-range-slider> <input class="fpd-slider-number fpd-number" type="number" value="0" step="1" min="-30" max="30" data-control="letterSpacing"/> </div> </div> <div class="fpd-panel-text-format fpd-padding"> <div class="fpd-tools-group"> <div class="fpd-tool-text-bold fpd-toggle" data-defaulttext="Bold" data-control="fontWeight" data-enabled="bold" data-disabled="normal" title="toolbar.bold"> <span class="fpd-icon-format-bold"></span> </div> <div class="fpd-tool-text-italic fpd-toggle" data-defaulttext="Italic" data-control="fontStyle" data-enabled="italic" data-disabled="normal" title="toolbar.italic"> <span class="fpd-icon-format-italic"></span> </div> <div class="fpd-tool-text-underline fpd-toggle" data-defaulttext="Underline" data-control="textDecoration" data-enabled="underline" data-disabled="normal" title="toolbar.underline"> <span class="fpd-icon-format-underline"></span> </div> <div class="fpd-tool-text-transform fpd-btn-options" data-control="textTransform" data-options=\'{"none": "fpd-icon-text-transform", "uppercase": "fpd-icon-uppercase", "lowercase": "fpd-icon-lowercase"}\' data-defaulttext="Text Transform" title="toolbar.text_transform"> <span class="fpd-icon-text-transform"></span> </div> </div> <div class="fpd-tool-text-align fpd-btn-group" data-control="textAlign"> <span class="fpd-icon-format-align-left" data-option="left"></span> <span class="fpd-icon-format-align-center" data-option="center"></span> <span class="fpd-icon-format-align-right" data-option="right"></span> <span class="fpd-icon-format-align-justify" data-option="justify"></span> </div> </div> <div class="fpd-panel-font-family fpd-padding" data-control="fontFamily"> <input type="text" data-defaulttext="Search Fonts" placeholder="toolbar.font_family_search"/> <div class="fpd-scroll-area"> <div class="fpd-fonts-list"></div> </div> </div> <div class="fpd-panel-curved-text fpd-padding"> <div class="fpd-curved-options"> <span data-value="normal"> <svg width="48" height="14" viewBox="0 0 48 14" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M2.04787 13.327H0L4.60146 0.673004H6.83039L11.4318 13.327H9.38398L5.76899 2.97148H5.6691L2.04787 13.327ZM2.39126 8.37167H9.03434V9.97814H2.39126V8.37167Z" fill="#485563"/> <path d="M13.2784 13.327V0.673004H17.961C18.8684 0.673004 19.6197 0.821293 20.2149 1.11787C20.8101 1.41033 21.2555 1.80783 21.551 2.31036C21.8465 2.80878 21.9943 3.37104 21.9943 3.99715C21.9943 4.5244 21.8965 4.96926 21.7008 5.33175C21.5052 5.69011 21.243 5.97845 20.9142 6.19677C20.5895 6.41096 20.2315 6.56749 19.8403 6.66635V6.78992C20.2648 6.81052 20.679 6.94645 21.0827 7.19772C21.4906 7.44487 21.8278 7.79705 22.0942 8.25428C22.3606 8.7115 22.4938 9.26759 22.4938 9.92253C22.4938 10.5692 22.3398 11.15 22.0317 11.6649C21.7279 12.1757 21.2575 12.5814 20.6207 12.8821C19.9839 13.1787 19.1701 13.327 18.1795 13.327H13.2784ZM15.2076 11.6896H17.9922C18.9162 11.6896 19.578 11.5125 19.9776 11.1583C20.3772 10.804 20.577 10.3612 20.577 9.82985C20.577 9.43029 20.475 9.06369 20.2711 8.73004C20.0671 8.39639 19.7758 8.1307 19.397 7.93298C19.0224 7.73527 18.577 7.63641 18.0609 7.63641H15.2076V11.6896ZM15.2076 6.14734H17.7924C18.2253 6.14734 18.6145 6.06496 18.9599 5.90019C19.3096 5.73542 19.5864 5.50475 19.7903 5.20817C19.9984 4.90748 20.1025 4.55323 20.1025 4.14544C20.1025 3.62231 19.9173 3.18362 19.5468 2.82937C19.1764 2.47513 18.6082 2.298 17.8424 2.298H15.2076V6.14734Z" fill="#485563"/> <path d="M35.4022 4.78802H33.4542C33.3793 4.37611 33.2399 4.01362 33.0359 3.70057C32.8319 3.38752 32.5822 3.12183 32.2867 2.90352C31.9912 2.6852 31.6602 2.52044 31.294 2.40922C30.9318 2.298 30.5468 2.2424 30.1389 2.2424C29.4022 2.2424 28.7425 2.4257 28.1597 2.7923C27.5812 3.1589 27.1233 3.69645 26.7862 4.40494C26.4532 5.11343 26.2867 5.97845 26.2867 7C26.2867 8.02979 26.4532 8.89892 26.7862 9.60741C27.1233 10.3159 27.5832 10.8514 28.166 11.2139C28.7487 11.5764 29.4043 11.7576 30.1327 11.7576C30.5364 11.7576 30.9194 11.7041 31.2815 11.597C31.6478 11.4857 31.9787 11.323 32.2742 11.1088C32.5697 10.8946 32.8195 10.6331 33.0234 10.3241C33.2315 10.0111 33.3751 9.65273 33.4542 9.24905L35.4022 9.25523C35.2981 9.87722 35.0963 10.4498 34.7966 10.9729C34.501 11.4919 34.1202 11.9409 33.654 12.3199C33.192 12.6947 32.6634 12.9851 32.0682 13.1911C31.4729 13.397 30.8236 13.5 30.1202 13.5C29.013 13.5 28.0265 13.2405 27.1608 12.7215C26.295 12.1984 25.6124 11.4507 25.1129 10.4786C24.6176 9.5065 24.3699 8.34696 24.3699 7C24.3699 5.64892 24.6197 4.48939 25.1191 3.52139C25.6186 2.54927 26.3012 1.80371 27.167 1.2847C28.0328 0.761565 29.0172 0.5 30.1202 0.5C30.7986 0.5 31.4313 0.5968 32.0182 0.7904C32.6093 0.97988 33.14 1.25998 33.6103 1.6307C34.0806 1.99731 34.4698 2.44629 34.7778 2.97766C35.0858 3.50491 35.294 4.10837 35.4022 4.78802Z" fill="#485563"/> <path d="M41.8502 13.327H37.7107V0.673004H41.9813C43.2341 0.673004 44.3101 0.926331 45.2092 1.43299C46.1082 1.93552 46.7971 2.65843 47.2758 3.60171C47.7586 4.54087 48 5.66746 48 6.98146C48 8.29959 47.7565 9.43235 47.2695 10.3798C46.7867 11.3272 46.0874 12.0562 45.1717 12.567C44.256 13.0737 43.1488 13.327 41.8502 13.327ZM39.64 11.6587H41.744C42.718 11.6587 43.5276 11.4775 44.1727 11.115C44.8179 10.7484 45.3007 10.2191 45.6212 9.52709C45.9417 8.83096 46.102 7.98241 46.102 6.98146C46.102 5.98875 45.9417 5.14639 45.6212 4.45437C45.3049 3.76236 44.8325 3.23717 44.204 2.8788C43.5754 2.52044 42.795 2.34125 41.8626 2.34125H39.64V11.6587Z" fill="#485563"/> </svg> </span> <span data-value="curved"> <svg width="60" height="26" viewBox="0 0 60 26" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M4.30362 19.2601L2.8934 20.2466L0 9.08293L1.5349 8.00919L10.7657 14.7396L9.35546 15.7261L1.90512 10.1456L1.83632 10.1938L4.30362 19.2601ZM2.16616 15.591L6.74076 12.3909L7.51036 13.5267L2.93577 16.7269L2.16616 15.591Z" fill="#485563"/> <path d="M17.9225 11.7765L15.7371 1.14353L19.5693 0.330317C20.3119 0.172734 20.9524 0.166864 21.4907 0.312707C22.0283 0.455088 22.4615 0.711755 22.7901 1.08271C23.1181 1.4502 23.3361 1.897 23.4442 2.42311C23.5353 2.86615 23.5321 3.25695 23.4346 3.59552C23.3364 3.93062 23.1716 4.21845 22.9401 4.459C22.7114 4.69537 22.4455 4.88907 22.1424 5.04008L22.1637 5.14392C22.5147 5.0875 22.8772 5.1298 23.251 5.27081C23.6275 5.40765 23.9642 5.64504 24.2612 5.98298C24.5582 6.32091 24.7632 6.76505 24.8763 7.31539C24.988 7.85881 24.9623 8.37359 24.7991 8.85974C24.6387 9.34171 24.3238 9.76433 23.8546 10.1276C23.3846 10.4874 22.7443 10.7533 21.9336 10.9254L17.9225 11.7765ZM19.2186 10.0656L21.4975 9.58204C22.2537 9.42157 22.7648 9.1578 23.0306 8.79074C23.2964 8.42367 23.3835 8.01689 23.2917 7.57039C23.2227 7.23465 23.0759 6.9443 22.8514 6.69936C22.6268 6.45442 22.3425 6.28177 21.9984 6.18141C21.6576 6.08032 21.2761 6.0746 20.8537 6.16423L18.5186 6.65975L19.2186 10.0656ZM18.2614 5.4085L20.3768 4.95961C20.7311 4.88443 21.0353 4.74762 21.2896 4.54917C21.5473 4.35 21.734 4.1081 21.8497 3.82347C21.9681 3.53466 21.9921 3.21892 21.9216 2.87625C21.8313 2.43667 21.6039 2.10021 21.2396 1.86688C20.8752 1.63355 20.3797 1.58338 19.7529 1.71639L17.5966 2.17395L18.2614 5.4085Z" fill="#485563"/> <path d="M43.1012 4.5657L41.5023 4.25126C41.5069 3.89201 41.4506 3.56401 41.3335 3.26726C41.2163 2.9705 41.054 2.70627 40.8464 2.47458C40.6389 2.24288 40.3938 2.05061 40.111 1.89775C39.8316 1.74557 39.5245 1.63655 39.1897 1.57071C38.5849 1.45179 38.014 1.49978 37.4768 1.71468C36.9431 1.93025 36.481 2.30938 36.0905 2.85206C35.7035 3.39541 35.428 4.09755 35.264 4.95849C35.0987 5.82637 35.0958 6.58574 35.2554 7.23659C35.4184 7.88811 35.71 8.41365 36.1301 8.81321C36.5502 9.21276 37.0592 9.47133 37.6571 9.58891C37.9885 9.65408 38.3114 9.67076 38.6258 9.63896C38.9443 9.60435 39.2421 9.52064 39.519 9.38783C39.796 9.25501 40.043 9.07488 40.26 8.84744C40.481 8.6172 40.6564 8.33836 40.7861 8.01091L42.3841 8.33056C42.1988 8.83796 41.9412 9.28792 41.6112 9.68042C41.2854 10.0701 40.9007 10.3871 40.4572 10.6312C40.0178 10.8725 39.5373 11.0319 39.0157 11.1094C38.494 11.1869 37.9445 11.1689 37.3671 11.0553C36.4584 10.8766 35.6903 10.4987 35.063 9.92152C34.4363 9.34089 33.996 8.60062 33.7421 7.70072C33.4916 6.80149 33.4745 5.78428 33.6907 4.64909C33.9076 3.51043 34.2987 2.57351 34.8641 1.83833C35.4301 1.09968 36.1101 0.581522 36.904 0.283862C37.6986 -0.0172703 38.5486 -0.0788126 39.454 0.0992351C40.0109 0.208751 40.5146 0.392457 40.9653 0.650354C41.42 0.90545 41.8107 1.22718 42.1372 1.61554C42.4644 2.00042 42.7118 2.44164 42.8793 2.93918C43.0475 3.43326 43.1215 3.97543 43.1012 4.5657Z" fill="#485563"/> <path d="M51.5599 16.7757L48.7094 14.7817L54.7715 5.8346L57.7123 7.89185C58.5751 8.49539 59.1947 9.19283 59.5711 9.98417C59.9494 10.7726 60.0775 11.6156 59.9552 12.5131C59.8378 13.4097 59.4643 14.3226 58.8348 15.2517C58.2033 16.1837 57.493 16.8673 56.7038 17.3025C55.9174 17.7398 55.0866 17.9185 54.2113 17.8385C53.338 17.7556 52.4542 17.4013 51.5599 16.7757ZM50.8371 14.5315L52.2861 15.5451C52.9568 16.0143 53.6011 16.2761 54.219 16.3306C54.8389 16.3822 55.425 16.2405 55.9772 15.9056C56.5314 15.5678 57.0483 15.0451 57.5278 14.3373C58.0034 13.6354 58.2966 12.9626 58.4074 12.319C58.5211 11.6773 58.4473 11.0784 58.1862 10.5222C57.9251 9.96604 57.4735 9.4634 56.8314 9.01425L55.3008 7.94352L50.8371 14.5315Z" fill="#485563"/> <path d="M57.0036 24.5816C53.8499 20.4523 49.8075 17.1117 45.1862 14.816C40.565 12.5203 35.4877 11.3305 30.3437 11.3379C25.1997 11.3453 20.1257 12.5496 15.5109 14.8585C10.896 17.1675 6.86285 20.5196 3.7207 24.658L5.4326 25.1704C8.37306 21.2977 12.1473 18.1607 16.466 16C20.7846 13.8393 25.5329 12.7123 30.3467 12.7054C35.1605 12.6984 39.9119 13.8119 44.2366 15.9602C48.5612 18.1085 52.3442 21.2347 55.2954 25.0989L57.0036 24.5816Z" fill="#485563"/> </svg> </span> <span data-value="curveReverse"> <svg width="54" height="25" viewBox="0 0 54 25" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M54.0007 1.3373C50.9302 5.23068 46.9944 8.38039 42.495 10.5449C37.9956 12.7094 33.0522 13.8312 28.0439 13.8242C23.0356 13.8173 18.0954 12.6818 13.6023 10.5048C9.10912 8.32778 5.18233 5.16714 2.12305 1.26525L3.78979 0.747006C6.65271 4.39845 10.3275 7.35622 14.5322 9.39348C18.737 11.4307 23.36 12.4934 28.0469 12.4999C32.7337 12.5064 37.3598 11.4566 41.5704 9.43103C45.781 7.40546 49.4642 4.45791 52.3376 0.814432L54.0007 1.3373Z" fill="#485563"/> <path d="M1.37302 16.3375L0 15.4074L8.98733 9.06152L10.4818 10.0739L7.66465 20.5998L6.29163 19.6696L8.69804 11.1241L8.63106 11.0787L1.37302 16.3375ZM3.91457 13.19L8.36853 16.2073L7.61922 17.2783L3.16527 14.2609L3.91457 13.19Z" fill="#485563"/> <path d="M15.9304 23.9401L18.0582 13.9146L21.7893 14.6814C22.5123 14.83 23.086 15.0705 23.5104 15.4029C23.9355 15.7321 24.2236 16.1199 24.3745 16.5665C24.5262 17.0097 24.5494 17.4794 24.4441 17.9754C24.3554 18.3932 24.2027 18.7296 23.9859 18.9848C23.7697 19.2367 23.5123 19.4222 23.2136 19.5413C22.9189 19.6578 22.6073 19.7232 22.279 19.7375L22.2582 19.8354C22.593 19.9212 22.9001 20.0967 23.1796 20.3619C23.4631 20.6245 23.6725 20.9588 23.8079 21.3646C23.9432 21.7705 23.9559 22.2329 23.8457 22.7518C23.737 23.2641 23.5166 23.6991 23.1846 24.0566C22.8566 24.4115 22.4136 24.6559 21.8556 24.7899C21.2983 24.9206 20.625 24.9048 19.8356 24.7426L15.9304 23.9401ZM17.7429 22.9587L19.9617 23.4147C20.698 23.566 21.2551 23.534 21.6331 23.3188C22.011 23.1036 22.2447 22.7855 22.334 22.3645C22.4012 22.0479 22.3816 21.7408 22.2752 21.443C22.1688 21.1453 21.9813 20.8871 21.7128 20.6684C21.4475 20.4504 21.1093 20.2992 20.698 20.2147L18.4245 19.7475L17.7429 22.9587ZM18.6749 18.5677L20.7345 18.991C21.0794 19.0618 21.4033 19.0603 21.7063 18.9863C22.0126 18.913 22.272 18.7756 22.4843 18.574C22.7007 18.3699 22.8432 18.1062 22.9118 17.7832C22.9998 17.3687 22.9259 16.9908 22.6903 16.6495C22.4547 16.3082 22.0318 16.0748 21.4215 15.9494L19.3222 15.518L18.6749 18.5677Z" fill="#485563"/> <path d="M39.1873 17.1784L37.6305 17.4749C37.5063 17.159 37.3382 16.8922 37.1263 16.6744C36.9144 16.4567 36.6732 16.2836 36.403 16.1551C36.1327 16.0266 35.8425 15.9461 35.5323 15.9134C35.2256 15.8802 34.9092 15.8946 34.5832 15.9567C33.9944 16.0688 33.4958 16.3148 33.0874 16.6948C32.6824 17.0742 32.4005 17.571 32.2418 18.1853C32.0864 18.799 32.0885 19.5117 32.2482 20.3235C32.4091 21.1417 32.678 21.807 33.0549 22.3194C33.4351 22.831 33.8863 23.1865 34.4087 23.3859C34.931 23.5852 35.4832 23.6295 36.0654 23.5186C36.388 23.4572 36.6857 23.3563 36.9583 23.2161C37.2337 23.072 37.4727 22.8923 37.6754 22.6772C37.8781 22.462 38.0368 22.2161 38.1515 21.9396C38.2689 21.6592 38.3277 21.3525 38.3278 21.0197L39.8855 20.7282C39.8995 21.2383 39.8277 21.724 39.67 22.1853C39.5149 22.6427 39.2807 23.0574 38.9674 23.4295C38.6567 23.7977 38.2797 24.1089 37.8362 24.3631C37.3927 24.6174 36.8899 24.798 36.3277 24.9051C35.4429 25.0736 34.614 25.0175 33.841 24.7369C33.0673 24.4529 32.4049 23.9627 31.8538 23.2663C31.3061 22.5692 30.9269 21.6855 30.7164 20.6152C30.5052 19.5416 30.5236 18.5822 30.7715 17.737C31.0187 16.8885 31.4477 16.1921 32.0585 15.648C32.6686 15.1005 33.4144 14.7428 34.2959 14.575C34.8381 14.4717 35.3589 14.4523 35.8581 14.5168C36.3601 14.5775 36.828 14.7193 37.2618 14.9423C37.695 15.162 38.0762 15.4595 38.4054 15.8349C38.7339 16.207 38.9946 16.6548 39.1873 17.1784Z" fill="#485563"/> <path d="M51.4414 18.6799L48.666 20.5601L42.7638 12.1242L45.6271 10.1845C46.4671 9.61549 47.3066 9.29566 48.1457 9.22507C48.9829 9.15173 49.782 9.32077 50.5429 9.7322C51.3046 10.139 51.992 10.7804 52.6049 11.6564C53.2197 12.5351 53.5848 13.4009 53.7002 14.2536C53.8183 15.1045 53.6896 15.9082 53.3139 16.6646C52.9362 17.4183 52.3121 18.0901 51.4414 18.6799ZM49.1814 18.5717L50.5921 17.616C51.2451 17.1736 51.7034 16.6851 51.9668 16.1504C52.2284 15.613 52.3052 15.0408 52.1973 14.4339C52.0875 13.8242 51.7992 13.1858 51.3323 12.5185C50.8693 11.8567 50.3689 11.3679 49.8313 11.0521C49.2964 10.7345 48.7347 10.5989 48.1461 10.6455C47.5576 10.6921 46.9508 10.9271 46.3256 11.3506L44.8354 12.3601L49.1814 18.5717Z" fill="#485563"/> </svg> </span> </div> <div class="fpd-tool-curved-text-radius fpd-input"> <span class="fpd-label" data-defaulttext="Radius">toolbar.radius</span> <fpd-range-slider class="fpd-progress" value="80" step="1" min="0" max="400" data-control="curveRadius"></fpd-range-slider> <input class="fpd-slider-number fpd-number" type="number" value="80" step="1" min="0" max="400" data-control="curveRadius"/> </div> </div> <div class="fpd-panel-transform fpd-padding"> <div class="fpd-tool-angle fpd-input"> <span class="fpd-label" data-defaulttext="Rotate">toolbar.rotate</span> <fpd-range-slider class="fpd-progress" value="1" step="1" min="0" max="359" data-control="angle"></fpd-range-slider> <input class="fpd-slider-number fpd-number" type="number" value="1" step="1" min="0" max="359" data-control="angle"/> </div> <div class="fpd-tool-scaleX fpd-tool-scale fpd-input"> <span class="fpd-label" data-defaulttext="Scale X">toolbar.scaleX</span> <fpd-range-slider class="fpd-progress" value="1" step="0.01" min="0" max="5" data-control="scaleX"></fpd-range-slider> <input class="fpd-slider-number fpd-number" type="number" value="1" step="0.01" min="0" max="5" data-control="scaleX"/> </div> <div class="fpd-tool-uniscaling-locker fpd-tool-scale fpd-toggle" data-control="lockUniScaling" data-enabled="true" data-disabled="false"> <span class="fpd-icon-unlocked"></span> </div> <div class="fpd-tool-scaleY fpd-tool-scale fpd-input"> <span class="fpd-label" data-defaulttext="Scale Y">toolbar.scaleY</span> <fpd-range-slider class="fpd-progress" value="1" step="0.01" min="0" max="5" data-control="scaleY"></fpd-range-slider> <input class="fpd-slider-number fpd-number" type="number" value="1" step="0.01" min="0" max="5" data-control="scaleY"/> </div> <div class="fpd-tool-flip fpd-tools-group"> <div data-do="flip-x"> <span class="fpd-icon-flip-horizontal"></span> <span data-defaulttext="Flip Horizontal">toolbar.flip_h</span> </div> <div data-do="flip-y"> <span class="fpd-icon-flip-vertical"></span> <span data-defaulttext="Flip Vertical">toolbar.flip_v</span> </div> </div> </div> <div class="fpd-panel-position"> <div class="fpd-panel-tabs"> <span data-tab="arrange" data-defaulttext="Arrange" class="fpd-active">toolbar.arrange</span> <span data-tab="align" data-defaulttext="Align" class="fpd-tool-text-stroke">toolbar.align</span> </div> <div class="fpd-panel-tabs-content fpd-scroll-area"> <div data-id="arrange"> <div class="fpd-tool-layer-depth fpd-tools-group"> <div data-do="layer-up"> <span class="fpd-icon-move-up"></span> <span data-defaulttext="Move Up">toolbar.move_up</span> </div> <div data-do="layer-down"> <span class="fpd-icon-move-down"></span> <span data-defaulttext="Move Down">toolbar.move_down</span> </div> </div> </div> <div data-id="align"> <div class="fpd-tool-position-align fpd-tools-group"> <div data-do="align-top"> <span class="fpd-icon-align-top"></span> <span data-defaulttext="Top">toolbar.align_top</span> </div> <div data-do="align-middle"> <span class="fpd-icon-align-horizontal-middle"></span> <span data-defaulttext="Middle">toolbar.center_h</span> </div> <div data-do="align-bottom"> <span class="fpd-icon-align-bottom"></span> <span data-defaulttext="Bottom">toolbar.align_bottom</span> </div> <div data-do="align-left"> <span class="fpd-icon-align-left"></span> <span data-defaulttext="Left">toolbar.align_left</span> </div> <div data-do="align-center"> <span class="fpd-icon-align-vertical-middle"></span> <span data-defaulttext="Center">toolbar.center_v</span> </div> <div data-do="align-right"> <span class="fpd-icon-align-right"></span> <span data-defaulttext="Right">toolbar.align_right</span> </div> </div> </div> </div> </div> <div class="fpd-panel-advanced-editing fpd-padding"> <div class="fpd-tool-filters fpd-grid fpd-scroll-area"> </div> </div> </div>'}}customElements.define("fpd-element-toolbar",la);const ca={none:{name:"None",preview:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAABGhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICAgICAgICAgIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIj4KICAgICAgICAgPHhtcE1NOkRlcml2ZWRGcm9tIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgPHN0UmVmOmluc3RhbmNlSUQ+eG1wLmlpZDozNDlGNUFEOERDNDhFNDExOThFMDgyRUM1NERENjU5QTwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+QzA2NTAzMzhGRDBGRjNDNTQ2NjQ5MTdERjU4RTZBOUY8L3N0UmVmOmRvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDx4bXBNTTpEb2N1bWVudElEPnhtcC5kaWQ6NDJBOTU5NjZBQTVFMTFFNDg3MTc5QzUzNEZBREI5NjI8L3htcE1NOkRvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6NDJBOTU5NjVBQTVFMTFFNDg3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"},grayscale:{name:"Grayscale",preview:"data:image/png;base64,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"},sepia:{name:"Sepia",preview:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAzCAYAAAA6oTAqAAAMp0lEQVRoQ92a2W9V1xXGP0+AR8wYMCEJJbQVQoQCVauqVZQqSH2IlLxFzVMk3tPHvucpf0AkIkWV0ladHlJVVRPRglRUokht0tLUruAy2uAJjI2vsTHgYVe/vffnu7HMUNvNQ490dM494/r2t9a31l7n1un/aKkDSwghPBTTvKRu6fqgVFcn3b8vzcxI8/Pcl+7ieGOjtGaN1NQkNTdL69ZJDeskrZHkbaOkprzWS+I3FrDPNlqz/OXxYHj2OWngQnoJYGZnExgDqa9/EMzatQlQ09oMBACLATVIYgWI1+XjSLY8lhkuuCIN9CQmYAVAgAFEuZoZwMAMW7HCjvcBBiOsBuPtlwJmUBo6I83NpRUwbEsguJldDRCsgFsAYkAlmBIQ7KxweTJmRqQbf5emp2uuBjMNDTVAxA3xAiNmpQEAjpGlmOHcKrHy5G52S6r+M8VKa2sa9TpG1YEbpNlp6c6ddI1jpt4sGAhbgwOEz6+QEd/+ZMxMSRrKo9guqblQIkChavcl3ZU0Iakqzd+X6q1eVrTFIuAB+dLAYOQNSTOSZjMbHmlAsTLK5cI9NyWNSEL1fB3b0vVgZoVyXL52aWYwuippTJoZk+7dS/GBCxEbLS1S/XpJLVml2rL0Lh7h25L6Jd3L1wKmdDWArSI7NTC8kNG8KU1WpampmmKhUoABCEuMiY0ZAMbBTKskQC1e5iQNSposco3ZMZhVApTAVEKoDiQAyK2TIgAAggwDALXi3IJaMdKAciaHLQxcamGgiCfiBveybDvnrIK7xUec/3UIuA55gRyCWwGKhWNluYIkc4zzgGvcmWOC2GDd/IhoHpOEmDAIBvS/AMNoM+qsLBhqtzIgJ0IAOUE2dEjamgOZex8FhgdbFEplM7MrVLXIzL9/HgJgXDwCgtIFN2NhCyAAtLUlVmAPNhsZ5aeyyiHb3EOcEEsPW27l65xnVpo4SQ3zWRi7fxoCTHjBWAMxGFjheHt72t69mwA2o2iwAyOMNhLueHjUSMMijCxncY0PFezzLIPp+VkIGAgjjhWXKlEgQmLB5YpFgt/sr4GR53PMkGMY6aWUbTmG+x6MRhGJy6Wq7ZnMzNlf1MAAiLhxWQ8Q1AzDzQ6uRvXMtTDVgKttL4pKZB6Aq7UABCUEhNm0+ll4QgZz4TcPTs5cEcOOzzjoHTOeAsAYc5foal05VnhB4bYPxXQtM4ikP6pqpkzCfZ2PAMf1rjxws7kM5twvEzN2KfY9+eIYvwHF2tlZ23dBCUNrYQKZxjDAIAKPATR2Mg1E8/58LdKNgZ1FGYQBZqUEbDCOGzNT+VUIKJVdyoZ7RM0UrkbQUzlTIcPcpk0JeMw5uBrKBhAXmUvRMi6pT5qelJoRDlYGAQauSeND0s2b0vPfysz5WRjOs0tmXLkT87yLpFkygHFeMZh95xxAA4YtCRa3c2XQQTWAUZ50wcymRWjOZ5dxXWfXYYsa3pMGT0vHjkkvvii9/HrOY1i4GAyPdg+BcovfSLOVzCoGABixINgFzSCAnHvMFLmqjdhpkeaYBsAYAC3buAtvtITHESzAYvCMNFmR3n1XevZZ6Yc/KhJxzifxDlzZAPOARDB/PZaYsdS6sESxOGNWDI7fgCb4Pd/nfpjq6EjH3CsgH7FsfSaPMMk0Gx2BlOqEC7Heln77fkrMC2CcW7w1GLuZZxN/eieE2E3JJQxgMNgg7IJxQLIL+pzbSouvBRDXXr8ubdggPXM4TwMIcLsL+wZWjnSQzp6UPv1UOvpjSRsKBrm3kOM4UtnVIjNnfhLCpUvSli0JEGwAyCBsKFu7n5ksGxm+1301mBodlQ4dktr3FnmC0SS50lPAAndweCg5Kvq0pOGcr4gvAPhaBiHXkMnI9Ow0BegOofe89MUXCQSJ0IZx3sAs15Zqx5dFwlMG7sVFAMI9Lx2RtK3IE9n1ovJhPBNBsrvdjLkRxSsGW5YREw8C11EyWZYB53Jm7rMQ6nnArFTpkT7/XNq2rVb+2+VcgFoM2BqIWYwS3ZjAXLki7dkjHXwpjzBM8OItxbxnIBuMJ5AYMRomMBggnlqzxUYExTNh5xquNZixk0nNOnekTH7nknT8eGJn/fqkajbcCdXC4Erb4sG1nJuYkPr6pNdek3YcyG6FbJMQMZJcw+iSbJkW5GIxguAaDGXuY+kFKOcYCMByHka5j+c4aYa+EKb6pPFxacfXJKE8F6WTH0vDw9JWKC96yqXKYbjrOK7xnGhkRJqclN58U2phkAhiwFwtShMMQcoxjO4PceHJGgYaIGwChmu5hkqBZ8ESAJlSNDtmLofACMwzteXZlCWgr0p9n0mnT6cyhrxiNQMQecWs2QUBgxwPDiYVe+MNqYnBoTpwL8A1Ve5Xx3fBAO8nBxH8uBUiASDPSrmPeOM+BoB4+0pmZsBgLoUQA5CbQIy62B9npOq/pI8+kqpVafPmVAGwooD8RrUMhlihl3D1qnTggPTqq1LTC9lImu+ef7AtGxkA4hjGupEOEDfYc1xEILAEaO7helinMWk1iyeoennBnXwRyAk6jg1LAxWppycB+e4PpPF+6YMPpJ07U8DDCkBo4xIvR45Ir7wi6Rt55K/nUcUYVp6PBawMJNU3gJwYPWMFHOLBPVFeMxsAAzDXt2UwU6dDaOGFGE5QEZCWQVhyiR6kynHp8mVp3z5p5yHp3F+kDz+UuroSQ7dvJ2C9vdLRo9K3X5b01Rz09NEwmpc7V2CgAQDKkst7PajYBXAXmNgGCB/L1XlkZuJUCO0oDkajNFDHxbgeN+aXDV+UTpxIsUD8ILu79kuDFem99xIQjlN8Dg1Jb70lff07kp7LQWoF89wEQBjk+owt7FCcItluBRPwZaUAY64E7H6tmZkbx0OglK9nXsFJ2AEt23xxdVA6dSq5EDJMDUZttmuX1LVPmhuRPvlEOns2uSLsvP22tJ3pNApJMCMAzif8dmx61ujmYKs0SwJHiBAOXAxAUVKzTc78ZosSjGPDH4fwFIpDlmY00Pf8+QIjpgekM2eS67gyQMmoFAC1fbvUhSsxqRtPDHV3J1fsJDh3Z1lFfnljztgLfWZLsM8BEhtwLydQfpuREpCFhFoSMLECAAS/0G62/dLM3ZQABzIY11xkeMAgBACCoY0bk7LFhiH5IMfE5IjUxjP35eDHjTEWGcbFXDU72N2iwjMIcK7xvl3e4DHeImBmBv+QZpoYhsEkPBedAMH/keGy9qJapjoALGyxEkueeQJq/UZpfDQl4+dQNdyIBAcgF46MvBXJLsjWs1XcEYZcVdvV8rx/QeE8Bbj6u9Q3wzCSIvL69NNp/9o16dy55Do2miB379m9A3dqSK4wBnAAk5sYjIMHpbpDWV5783TYbuWpMMLjZjr7gGDrfORPKpbz6FZ5MNzQIGbI2kgrRhDkrAQxCwmQc7ELwztaaz00mKQKwO38gRbQuB4Lz+DZDNTh7+f+GioJO/TW8Hne4yIUF4UNQJXTBLdw3ShxjjJ45mK8sP/3IWAUiz++wgqAaFwQ+JxHcmHAW7d0Yce9as57Ou2v0vymToO1A9+TtCcrE3kEuWZx+eI8hHCMZiadk4hr7ASkZ6nOWR2uACohnP9HMpjYYWRxNVyLEYUZ5iYEOMy5zC9np3ZRF56uov0FYWws3UtcHj6cXY5RpndWSjPHKFUQAr7Y+RMIzLnp4UmdKweOdxoM/9C4Lg38TervT+7k5jgAqZwBRMDDig1239ktqnIS5wYJrHD+1q3EDsJCvO3dK20moeK6SDbxgGu67mLreMFY2AAorsk5F6m4GynFSTNMhBAfxIkrUm8lqZebEbBy40YtUVoIFr718967idWyf+CeNDHF/IYBAQwyDkgmgC98M+ch3MYAcDXA4YaAKAGYKYAxEJ5tXjQz87kJa7pBPSTN9KdmHFJN4Vip1OYr/noGAwQ5ogBr8T8zDbX/CLiatuQj9RSmJFsr6O7d0v79Uh2J24mSWCCeYAeXMxPED/EEGIRkXBq7kHvfxF64EEJ8SPnXkLK1yij5szijlSvee1n1iC8AsWJ0uQ8rCAkuxnXMc2CZCR9uC3iuBzR9slgedUmbXJH4g+7iL9qAcY2XE2/kgtrMrdeoROXfRPyZ3GV3+TnBTMYRKRKbW0HuObtIdD5xcegmhbv7nkNZqf7LT+vRnJE/PtjRdAPDGT/Ggb9yOYGVX708gfI598Y8yXKjrgSfFXk1N/HxoydSzGC0PzpZjXys3gabmXK71L6ztIH5twH6d5nNMcLXLwNlBFP9c/r7nAH430plIMckZbdwGWIm7B6LXbD87LAUGF5e9poNZhlAuOU/WqnyRdHkdHMAAAAASUVORK5CYII="},vintage:{name:"Vintage",preview:"data:image/png;base64,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"},kodachrome:{name:"Kodachrome",preview:"data:image/png;base64,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"},technicolor:{name:"Technicolor",preview:"data:image/png;base64,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"},black_white:{name:"Black & White",preview:"data:image/png;base64,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"},cold:{name:"Cold",array:[1,0,0,0,0,0,1,0,0,0,-.2,.2,.1,.4,0,0,0,0,1,0],preview:"data:image/png;base64,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"},old:{name:"Old",array:[1,0,0,0,0,-.4,1.3,-.4,.2,-.1,0,0,1,0,0,0,0,0,1,0],preview:"data:image/png;base64,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"},milk:{name:"Milk",array:[0,1,0,0,0,0,1,0,0,0,0,.6,1,0,0,0,0,0,1,0],preview:"data:image/png;base64,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"},purple:{name:"Purple",array:[1,-.2,0,0,0,0,1,0,-.1,0,0,1.2,1,.1,0,0,0,1.7,1,0],preview:"data:image/png;base64,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"},yellow:{name:"Yellow",array:[1,0,0,0,0,-.2,1,.3,.1,0,-.1,0,1,0,0,0,0,0,1,0],preview:"data:image/png;base64,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"}};function da(e,t){ha(e,t),t.add(e)}function pa(e,t,n){ha(e,t),t.set(e,n)}function ha(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ua(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,fa(e,t,"get"))}function fa(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function ma(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var ga=new WeakMap,va=new WeakMap,ba=new WeakSet,ya=new WeakSet,wa=new WeakSet,Ca=new WeakSet,xa=new WeakSet,Ea=new WeakSet,Ia=new WeakSet,Aa=new WeakSet,Sa=new WeakSet,ka=new WeakSet,Oa=new WeakSet,Ta=new WeakSet,Da=new WeakSet,Pa=new WeakSet;class Ma extends EventTarget{constructor(e){var t,n,i;if(super(),da(this,Pa),da(this,Da),da(this,Ta),da(this,Oa),da(this,ka),da(this,Sa),da(this,Aa),da(this,Ia),da(this,Ea),da(this,xa),da(this,Ca),da(this,wa),da(this,ya),da(this,ba),t=this,i="",(n=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(n="currentPlacement"))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,pa(this,ga,{writable:!0,value:void 0}),pa(this,va,{writable:!0,value:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.navElem.querySelectorAll(".fpd-tools-nav > .fpd-tool-"+e);return m(n,["fpd-hidden"],!Boolean(t)),n}}),this.fpdInstance=e,this.container=document.createElement("fpd-element-toolbar"),ma(this,Ta,Wa).call(this),Object.keys(e.mainOptions.maxValues).forEach((t=>{const n=this.container.querySelector('[data-control="'+t+'"]');n&&n.setAttribute("max",e.mainOptions.maxValues[t])})),Array.isArray(e.mainOptions.fonts)&&e.mainOptions.fonts.length){const t=this.subPanel.querySelector(".fpd-fonts-list");e.mainOptions.fonts.forEach((n=>{let i="object"==typeof n?n.name:n;const a=document.createElement("span");a.className="fpd-item",a.dataset.value=i,a.innerText=i,a.style.fontFamily=i,t.append(a),p(a,"click",(n=>{f(Array.from(t.children),["fpd-active"]),u(a,["fpd-active"]),e.currentViewInstance.fabricCanvas.setElementOptions({fontFamily:i})}))})),p(this.subPanel.querySelector(".fpd-panel-font-family input"),"keyup",(e=>{const n=e.currentTarget.value;t.querySelectorAll(".fpd-item").forEach((e=>{0==n.length?e.classList.remove("fpd-hidden"):e.classList.toggle("fpd-hidden",!e.innerText.toLowerCase().includes(n.toLowerCase()))}))}))}else this.navElem.querySelector(".fpd-tool-font-family").style.display="none";const a=this.subPanel.querySelector(".fpd-tool-filters");for(const t in ca){const n=document.createElement("div"),i=ca[t];n.className="fpd-item",n.setAttribute("aria-label",i.name),n.style.backgroundImage=`url(${i.preview})`,a.append(n),p(n,"click",(n=>{e.currentViewInstance.fabricCanvas.setElementOptions({filter:i.array||t})}))}p(e,"elementSelect",(()=>{const t=e.currentElement;ma(this,Aa,za).call(this,t)?(ma(this,Sa,Ua).call(this,t),ma(this,ka,Va).call(this),"text"==t.getType()&&(t.off("changed",ma(this,ka,Va).bind(this)),t.on("changed",ma(this,ka,Va).bind(this)))):ma(this,Oa,Za).call(this,!1)})),p(e,"elementChange",(()=>{"smart"==this.currentPlacement&&ma(this,Oa,Za).call(this,!1)})),p(e,"elementModify",(e=>{const{options:t}=e.detail;void 0!==t.fontSize&&ma(this,Da,Ra).call(this,"fontSize",t.fontSize),void 0!==t.scaleX&&ma(this,Da,Ra).call(this,"scaleX",parseFloat(Number(t.scaleX).toFixed(2))),void 0!==t.scaleY&&ma(this,Da,Ra).call(this,"scaleY",parseFloat(Number(t.scaleY).toFixed(2))),void 0!==t.angle&&ma(this,Da,Ra).call(this,"angle",parseInt(t.angle)),void 0!==t.text&&ma(this,Da,Ra).call(this,"text",t.text)})),p(document.body,["mouseup","touchend"],(()=>{this.fpdInstance.currentElement&&ma(this,ka,Va).call(this)})),p(this.subPanel.querySelectorAll(".fpd-number"),"change",(t=>{const n=t.currentTarget;let i={};n.value>Number(n.max)&&(n.value=Number(n.max)),n.value<Number(n.min)&&(n.value=Number(n.min));let a=Number(n.value);n.classList.contains("fpd-slider-number")&&(n.previousElementSibling.setAttribute("value",a),"scaleX"===n.dataset.control&&e.currentElement&&e.currentElement.lockUniScaling&&(i.scaleY=a,ma(this,Da,Ra).call(this,"scaleY",a))),i[n.dataset.control]=a,e.currentViewInstance&&e.currentViewInstance.fabricCanvas.setElementOptions(i)})),p(this.subPanel.querySelectorAll("fpd-range-slider"),"onInput",(t=>{const n=t.currentTarget,i=t.detail;if(e.currentViewInstance&&e.currentElement){var a={},s=n.dataset.control;a[s]=i,"scaleX"===s&&e.currentElement&&e.currentElement.lockUniScaling&&(a.scaleY=i,ma(this,Da,Ra).call(this,"scaleY",i)),e.currentViewInstance.fabricCanvas.setElementOptions(a)}const o=t.currentTarget.nextElementSibling;o&&o.classList.contains("fpd-slider-number")&&(o.value=i)})),p(this.subPanel.querySelectorAll(".fpd-panel-tabs > span"),"click",(e=>{const t=e.currentTarget,n=t.parentNode,i=n.nextElementSibling;f(n.querySelectorAll("span"),["fpd-active"]),u(t,["fpd-active"]);const a=Array.from(i.children);f(a,["fpd-active"]),u(a.filter((e=>e.dataset.id==t.dataset.tab)),["fpd-active"])})),p(this.subPanel.querySelectorAll(".fpd-toggle"),"click",(t=>{const n=t.currentTarget;let i={};m(n,["fpd-enabled"],!n.classList.contains("fpd-enabled")),i[n.dataset.control]=n.classList.contains("fpd-enabled")?n.dataset.enabled:n.dataset.disabled,["true","false"].includes(i[n.dataset.control])&&(i[n.dataset.control]="true"===i[n.dataset.control]),n.classList.contains("fpd-tool-uniscaling-locker")&&ma(this,Ea,Ha).call(this,i[n.dataset.control]),e.currentViewInstance.fabricCanvas.setElementOptions(i)})),p(this.subPanel.querySelectorAll(".fpd-btn-options"),"click",(t=>{t.preventDefault();const n=t.currentTarget,i=JSON.parse(n.dataset.options),a=Object.keys(i),s=e.currentElement?e.currentElement[n.dataset.control]:a[0],o=a.indexOf(s)==a.length-1?a[0]:a[a.indexOf(s)+1],r={};r[n.dataset.control]=o,n.querySelector("span").className=i[o],e.currentViewInstance.fabricCanvas.setElementOptions(r)})),p(this.subPanel.querySelectorAll(".fpd-btn-group [data-option]"),"click",(t=>{t.preventDefault();const n=t.currentTarget,i=n.dataset.option;f(Array.from(n.parentNode.children),["fpd-active"]),u(n,["fpd-active"]);const a={};a[n.parentNode.dataset.control]=i,e.currentViewInstance.fabricCanvas.setElementOptions(a)})),p(this.subPanel.querySelectorAll(".fpd-tools-group > [data-do]"),"click",(t=>{const n=t.currentTarget.dataset.do;if("align-left"==n)e.currentElement.alignToPosition("left");else if("align-right"==n)e.currentElement.alignToPosition("right");else if("align-top"==n)e.currentElement.alignToPosition("top");else if("align-bottom"==n)e.currentElement.alignToPosition("bottom");else if("align-middle"==n)e.currentElement.centerElement(!1,!0);else if("align-center"==n)e.currentElement.centerElement(!0,!1);else if("layer-up"==n||"layer-down"==n){let t=e.currentElement.getZIndex();t="layer-up"==n?t+1:t-1,t=t<0?0:t,e.currentViewInstance.fabricCanvas.setElementOptions({z:t})}else if("flip-x"==n||"flip-y"==n){const t={};"flip-x"==n?t.flipX=!e.currentElement.flipX:t.flipY=!e.currentElement.flipY,e.currentViewInstance.fabricCanvas.setElementOptions(t)}})),p(this.subPanel.querySelector('textarea[data-control="text"]'),"keyup",(t=>{t.stopPropagation,t.preventDefault();var n=t.currentTarget.selectionStart,i=t.currentTarget.selectionEnd;e.currentViewInstance.fabricCanvas.setElementOptions({text:t.currentTarget.value}),t.currentTarget.selectionStart=n,t.currentTarget.selectionEnd=i})),p(this.subPanel.querySelectorAll(".fpd-curved-options > span"),"click",(t=>{const n=t.currentTarget;let i={};"normal"==n.dataset.value?i.curved=!1:(i.curved=!0,i.curveReverse="curveReverse"==n.dataset.value),e.currentViewInstance.fabricCanvas.setElementOptions(i),ma(this,Ia,qa).call(this,i)})),p(this.navElem.querySelector(".fpd-tool-reset"),"click",(t=>{let n=e.currentElement.originParams;delete n.clipPath,e.currentElement.boundingBox&&(e.currentElement.scaleX=1,n.boundingBox=e.currentElement.boundingBox),e.currentViewInstance.fabricCanvas.setElementOptions(e.currentElement.originParams),e.deselectElement()})),p(this.navElem.querySelector(".fpd-tool-duplicate"),"click",(t=>{e.currentViewInstance.fabricCanvas.duplicateElement(e.currentElement)})),p(this.navElem.querySelector(".fpd-tool-remove"),"click",(t=>{e.currentViewInstance.fabricCanvas.removeElement(e.currentElement)})),p(this.subPanel.querySelector(".fpd-panel-color .fpd-remove-shadow"),"click",(t=>{e.currentViewInstance.fabricCanvas.setElementOptions({shadowColor:null})})),p(Array.from(this.navElem.children),"click",(e=>{const t=e.currentTarget;if(t.dataset.panel){f(Array.from(this.navElem.children),["fpd-active"]),u(t,["fpd-active"]);const e=Array.from(this.subPanel.children),n=e.filter((e=>e.classList.contains("fpd-panel-"+t.dataset.panel)));f(e,["fpd-active"]),u(n,["fpd-active"]),"smart"==this.currentPlacement&&(u(this.container,["fpd-panel-visible"]),ma(this,ka,Va).call(this))}})),p(this.container.querySelector(".fpd-close"),"click",(t=>{ma(this,Oa,Za).call(this,!1),e.deselectElement()})),p(this.container.querySelector(".fpd-close-sub-panel"),"click",(e=>{f(Array.from(this.subPanel.children),["fpd-active"]),f(this.container,["fpd-panel-visible"])}))}}function Ba(e,t,n){n=Boolean(n);const i=this.subPanel.querySelector(".fpd-panel-"+e);return m(i.querySelectorAll(".fpd-tool-"+t),["fpd-hidden"],!n),e}function La(e,t,n){const i=this.subPanel.querySelector(".fpd-panel-"+e);m(i.querySelectorAll('.fpd-panel-tabs [data-tab="'+t+'"]'),["fpd-disabled"],!n)}function Fa(e,t){"png"!==e.isColorizable()&&e.changeColor(t)}function Na(e,t){this.navElem.querySelector(".fpd-current-fill").style.background=t,this.fpdInstance.currentViewInstance.fabricCanvas.setElementOptions({fill:t},e)}function ja(e,t,n){const i=e.changeObjectColor(t,n);this.fpdInstance.currentViewInstance.fabricCanvas.setElementOptions({fill:i},e)}function Ha(e){this.subPanel.querySelector(".fpd-tool-uniscaling-locker > span").className=e?"fpd-icon-locked":"fpd-icon-unlocked",m(this.subPanel.querySelector(".fpd-tool-scaleY"),["fpd-disabled"],e)}function qa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.subPanel.querySelector(".fpd-curved-options");f(t.querySelectorAll("[data-value]"),["fpd-active"]),e.curved?e.curveReverse?u(t.querySelectorAll('[data-value="curveReverse"]'),["fpd-active"]):u(t.querySelectorAll('[data-value="curved"]'),["fpd-active"]):u(t.querySelectorAll('[data-value="normal"]'),["fpd-active"]),m(this.subPanel.querySelector(".fpd-tool-curved-text-radius"),["fpd-hidden"],!e.curved)}function za(e){return e&&!e._ignore&&!e.uploadZone}function Ua(e){if(ma(this,Pa,Ya).call(this),f(this.container,["fpd-type-image"]),e.hasColorSelection()){let t,n=E(e,this.fpdInstance);if("group"===e.type&&e.getObjects().length>1){const i=Array.isArray(e.colors)&&e.colors.length>1;t=Rt({colors:n,colorNames:this.fpdInstance.mainOptions.hexNames,palette:e.colors,subPalette:i,enablePicker:!!this.fpdInstance.mainOptions.editorMode||!i,onChange:(t,n)=>{ma(this,xa,ja).call(this,e,n,t)},onMove:(t,n)=>{e.changeObjectColor(n,t)}})}else t=Yt(this.fpdInstance,{colors:n,patterns:Array.isArray(e.patterns)&&(e.isSVG()||"text"===e.getType())?e.patterns:null,onMove:t=>{ma(this,wa,Fa).call(this,e,t)},onChange:t=>{ma(this,Ca,Na).call(this,e,t)},onPatternChange:t=>{this.navElem.querySelector(".fpd-current-fill").style.background=`url("${t}")`,this.fpdInstance.currentViewInstance.fabricCanvas.setElementOptions({pattern:t},e)}});t&&ua(this,ga).append(t);const i=this.subPanel.querySelector(".fpd-stroke-color-wrapper");i.innerHTML="";const a=Zt({initialColor:tinycolor(e.stroke).isValid()?e.stroke:"#000",colorNames:this.fpdInstance.mainOptions.hexNames,palette:this.fpdInstance.mainOptions.colorPickerPalette,onMove:t=>{this.fpdInstance.currentViewInstance.fabricCanvas.setElementOptions({stroke:t},e)},onChange:t=>{this.fpdInstance.currentViewInstance.fabricCanvas.setElementOptions({stroke:t},e)}});i.append(a);const s=this.subPanel.querySelector(".fpd-shadow-color-wrapper");s.innerHTML="";const o=Zt({initialColor:tinycolor(e.shadowColor).isValid()?e.shadowColor:"#000000",colorNames:this.fpdInstance.mainOptions.hexNames,palette:this.fpdInstance.mainOptions.colorPickerPalette,onMove:t=>{this.fpdInstance.currentViewInstance.fabricCanvas.setElementOptions({shadowColor:t},e)},onChange:t=>{this.fpdInstance.currentViewInstance.fabricCanvas.setElementOptions({shadowColor:t},e)}});s.append(o),ua(this,va).call(this,"color"),ma(this,ya,La).call(this,"color","fill",!0)}(e.isSVG()||"text"===e.getType())&&e.patterns&&e.patterns.length&&(ua(this,va).call(this,"color"),ma(this,ya,La).call(this,"color","fill",!0));let t=Boolean(e.resizable&&"image"===e.getType()||e.uniScalingUnlockable||e.__editorMode);(t||e.rotatable)&&(ua(this,va).call(this,"transform"),ma(this,ba,Ba).call(this,"transform","scale",t),ma(this,Ea,Ha).call(this,e.lockUniScaling),ma(this,ba,Ba).call(this,"transform","uniscaling-locker",Boolean(e.uniScalingUnlockable||e.__editorMode)),ma(this,ba,Ba).call(this,"transform","angle",Boolean(e.rotatable||e.__editorMode)),ma(this,ba,Ba).call(this,"transform","flip",Boolean(t||e.__editorMode))),(e.draggable||e.zChangeable||e.__editorMode)&&(ua(this,va).call(this,"position"),ma(this,ya,La).call(this,"position","arrange",Boolean(e.zChangeable||e.__editorMode)),ma(this,ya,La).call(this,"position","align",Boolean(e.draggable||e.__editorMode))),"text"===e.getType()&&(e.editable||e.__editorMode)?(ua(this,va).call(this,"edit-text"),ua(this,va).call(this,"text-size",e.resizable),ua(this,va).call(this,"font-family"),ua(this,va).call(this,"text-format"),ma(this,ya,La).call(this,"color","stroke",!0),ma(this,ya,La).call(this,"color","shadow",!0),e.curvable&&(ua(this,va).call(this,"curved-text"),ma(this,Ia,qa).call(this,e)),this.subPanel.querySelector('textarea[data-control="text"]').value=e.text,ua(this,va).call(this,"edit-text",!e.textPlaceholder&&!e.numberPlaceholder)):u(this.container,["fpd-type-image"]),e.advancedEditing&&e.source&&x(e.source)&&ua(this,va).call(this,"advanced-editing"),ma(this,ba,Ba).call(this,"text-size","text-line-spacing",!e.curved),ua(this,va).call(this,"reset"),ua(this,va).call(this,"duplicate",e.copyable||e.__editorMode),ua(this,va).call(this,"remove",e.removable||e.__editorMode),this.subPanel.querySelectorAll(".fpd-panel-tabs").forEach((e=>{const t=e.querySelectorAll("[data-tab]:not(.fpd-disabled)");m(e,["fpd-hidden"],t.length<=1),t.item(0)&&t.item(0).click()})),this.container.querySelectorAll("[data-control]").forEach((t=>{const n=t.dataset.control;if(t.classList.contains("fpd-number")){if(void 0!==e[n]){var i=t.step&&t.step.length>1?parseFloat(e[n]).toFixed(2):parseInt(e[n]);if(t.value=i,t.classList.contains("fpd-slider-number")){const a=t.previousElementSibling;"fontSize"==n?(a.setAttribute("min",e.minFontSize),a.setAttribute("max",e.maxFontSize)):"scaleX"!=n&&"scaleY"!=n||a.setAttribute("min",e.minScaleLimit),a.setAttribute("value",i)}}}else if(t.classList.contains("fpd-toggle"))m(t,["fpd-enabled"],e[n]===t.dataset.enabled);else if(t.classList.contains("fpd-btn-options")){const i=JSON.parse(t.dataset.options);t.querySelector("span").className=i[e[n]]}else if(t.classList.contains("fpd-btn-group")){f(Array.from(t.children),["fpd-active"]);const n=t.dataset.control;u(t.querySelector('[data-option="'+e[n]+'"]'),["fpd-active"])}else"fontFamily"==n&&void 0!==e[n]&&(f(this.subPanel.querySelectorAll(".fpd-fonts-list .fpd-item"),["fpd-active"]),u(this.subPanel.querySelector('.fpd-fonts-list .fpd-item[data-value="'+e[n]+'"]'),["fpd-active"]));const a=I(e);a&&(this.navElem.querySelector(".fpd-current-fill").style.background=a)})),"mainbar"==this.currentPlacement&&this.navElem.querySelector("[data-panel]:not(.fpd-hidden)").click(),ma(this,Oa,Za).call(this),this.container.querySelectorAll(".fpd-scroll-area").forEach((e=>{e.scrollLeft=e.scrollTop=0}))}function Va(){if("smart"===this.currentPlacement&&ma(this,Aa,za).call(this,this.fpdInstance.currentElement)&&(ma(this,Oa,Za).call(this,Boolean(this.fpdInstance.currentElement)),this.fpdInstance.currentElement)){const e=this.fpdInstance.currentElement,t=e.getBoundingRect(),n=t.top+t.height+e.controls.mtr.offsetY+e.cornerSize;let i=this.fpdInstance.productStage.getBoundingClientRect().top+n;i>window.innerHeight-this.container.clientHeight&&(i=window.innerHeight-this.container.clientHeight);const a=e.oCoords,s=this.container.offsetWidth/2;let o=this.fpdInstance.currentViewInstance.fabricCanvas.wrapperEl.getBoundingClientRect().left+a.mt.x;o=o<s?s:o,o=o>window.innerWidth-s?window.innerWidth-s:o,this.container.style.top=i+"px",this.container.style.left=o+"px"}}function Za(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];m(this.container,["fpd-show"],e),m(document.body,["fpd-toolbar-visible"],e)}function Wa(){const e=this.fpdInstance.container.dataset.layout;var t,n,i;this.container.className="fpd-layout-"+e,this.fpdInstance.container.classList.contains("fpd-sidebar")||(this.fpdInstance.mainOptions.toolbarPlacement="smart"),"smart"==this.fpdInstance.mainOptions.toolbarPlacement||this.fpdInstance.container.classList.contains("fpd-layout-small")?("smart"!=this.currentPlacement&&("body"==this.fpdInstance.mainOptions.toolbarDynamicContext?document.body.appendChild(this.container):document.querySelector(this.fpdInstance.mainOptions.toolbarDynamicContext).appendChild(this.container)),this.currentPlacement="smart",this.container.className+=" fpd-container fpd-smart"):("mainbar"!=this.currentPlacement&&this.fpdInstance.mainBar.container.appendChild(this.container),this.currentPlacement="mainbar"),this.navElem=this.container.querySelector(".fpd-tools-nav"),this.subPanel=this.container.querySelector(".fpd-sub-panel"),t=this,n=ga,i=this.subPanel.querySelector(".fpd-color-wrapper"),function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(t,fa(t,n,"set"),i)}function Ra(e,t){this.subPanel.querySelectorAll('[data-control="'+e+'"]').forEach((e=>{e.value=t,e.setAttribute("value",t)}))}function Ya(){ua(this,ga).innerHTML="",f(this.container,["fpd-panel-visible"]),u(Array.from(this.navElem.children),["fpd-hidden"]),f(Array.from(this.navElem.children),["fpd-active"]),f(Array.from(this.subPanel.children),["fpd-active"]),u(this.subPanel.querySelectorAll(".fpd-panel-tabs > span"),["fpd-disabled"]),f(this.subPanel.querySelectorAll(".fpd-panel-tabs > span"),["fpd-hidden"]),f(this.subPanel.querySelectorAll(".fpd-panel-tabs-content > *, .fpd-panel-tabs > *"),["fpd-active"])}class Ga{constructor(e){this.fpdInstance=e}start(){if(this.fpdInstance.mainOptions.guidedTour&&Object.keys(this.fpdInstance.mainOptions.guidedTour).length){const e=Object.keys(this.fpdInstance.mainOptions.guidedTour)[0];this.selectStep(e)}}selectStep=e=>{const t=document.body.querySelector(".fpd-gt-step");t&&t.remove();let n=Object.keys(this.fpdInstance.mainOptions.guidedTour).indexOf(e),i=e.split(":"),a=null;if("module"===i[0]?a=this.fpdInstance.mainBar.container.querySelector('.fpd-navigation > [data-module="'+i[1]+'"]'):"action"===i[0]?a=document.body.querySelector('.fpd-btn[data-action="'+i[1]+'"]'):1===i.length&&(a=document.body.querySelector(i[0])),a){if(0===a.length)return void(Object.keys(this.fpdInstance.mainOptions.guidedTour)[n+1]&&this.selectStep(Object.keys(this.fpdInstance.mainOptions.guidedTour)[n+1]));const t=document.createElement("div");t.className="fpd-container fpd-gt-step",t.innerHTML=`<div class="fpd-gt-pointer">\n                <span class="fpd-icon-arrow-dropdown"></span>\n            </div>\n            <div class="fpd-gt-close">\n                <span class="fpd-icon-close"></span>\n            </div>\n            <div class="fpd-gt-text">${this.fpdInstance.mainOptions.guidedTour[e]}</div>\n            <div class="fpd-gt-actions">\n                <div class="fpd-gt-next fpd-btn fpd-primary">${this.fpdInstance.translator.getTranslation("misc","guided_tour_next","Next")}</div>\n                <div class="fpd-gt-back fpd-btn fpd-primary">${this.fpdInstance.translator.getTranslation("misc","guided_tour_back","Back")}</div>\n                <span class="fpd-gt-counter">${String(n+1)+"/"+Object.keys(this.fpdInstance.mainOptions.guidedTour).length}</span>\n            </div>`,document.body.append(t);let i=a.getBoundingClientRect(),s=.5*i.width,o=i.left+s,r=i.top+i.height;o<24&&(o=24),t.style.left=o+"px",t.style.top=r+"px";const l=t.getBoundingClientRect();l.width+l.left>window.innerWidth&&(s=window.innerWidth-(l.width+o),t.style.left=o+s+"px",t.querySelector(".fpd-gt-pointer").style.marginLeft=Math.abs(s)+"px");const c=t.querySelector(".fpd-gt-back"),d=Object.keys(this.fpdInstance.mainOptions.guidedTour)[n-1];d?p(c,"click",(e=>{this.selectStep(d)})):u(c,["fpd-hidden"]);const h=t.querySelector(".fpd-gt-next"),f=Object.keys(this.fpdInstance.mainOptions.guidedTour)[n+1];f?p(h,"click",(e=>{this.selectStep(f)})):u(h,["fpd-hidden"]),p(t.querySelector(".fpd-gt-close"),"click",(e=>{v()&&window.localStorage.setItem("fpd-gt-closed","yes"),t.remove()}))}}}function Ja(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function Xa(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var Qa=new WeakSet,Ka=new WeakSet;class _a extends EventTarget{constructor(e){if(super(),Ja(this,Ka),Ja(this,Qa),t=this,i=!1,(n=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(n="enabled"))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.fpdInstance=e,this.variations=e.mainOptions.bulkVariations,e.mainOptions.bulkVariationsPlacement&&"object"==typeof this.variations&&(this.container=document.querySelector(e.mainOptions.bulkVariationsPlacement),this.container)){this.enabled=!0;const t=document.createElement("div");t.className="fpd-head",this.container.append(t);const n=document.createElement("div");n.className="fpd-headline",n.innerText=e.translator.getTranslation("misc","bulk_add_variations_title","Bulk Order"),t.append(n);const i=document.createElement("span");i.className="fpd-btn",i.innerText=e.translator.getTranslation("misc","bulk_add_variations_add","Add"),t.append(i),p(i,"click",(e=>{Xa(this,Qa,$a).call(this)})),this.listElem=document.createElement("div"),this.listElem.className="fpd-variations-list",this.container.append(this.listElem),u(this.container,["fpd-bulk-variations","fpd-container"]),Xa(this,Qa,$a).call(this),p(e,"getOrder",(()=>{e._order.bulkVariations=this.getOrderVariations()}))}var t,n,i}getOrderVariations(){if(!this.listElem)return!1;let e=[];return this.listElem.querySelectorAll(".fpd-row").forEach((t=>{var n={};t.querySelectorAll("select").forEach((t=>{g(t.value)&&(e=!1,u(t,["fpd-error"])),n[t.name]=t.value})),!1!==e?e.push({variation:n,quantity:parseInt(t.querySelector(".fpd-quantity").value)}):i(this.fpdInstance.translator.getTranslation("misc","bulk_add_variations_term"))})),e}setup(e){Array.isArray(e)&&(this.listElem.innerHTML="",e.forEach((e=>{Xa(this,Qa,$a).call(this,e)}))),Xa(this,Ka,es).call(this)}}function $a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=document.createElement("div");t.className="fpd-row",this.listElem.append(t);const n=e.variation||{};for(const e in this.variations){const i=document.createElement("select");i.name=e,i.innerHTML=`<option value='' disabled selected>${e}</option>`,t.append(i),this.variations[e].forEach((t=>{const a=document.createElement("option");a.value=t,a.innerText=t,n[e]==t&&(a.selected=!0),i.append(a)})),p(i,["change"],(e=>{f(i,["fpd-error"])}))}const i=document.createElement("input");i.className="fpd-quantity",i.type="number",i.min=1,i.step=1,i.value=e.quantity||1,t.append(i),p(i,"change",(e=>{i.value<Number(i.min)&&(i.value=Number(i.min)),""==i.inputElem&&(i.value=1),Xa(this,Ka,es).call(this)}));const a=document.createElement("span");a.className="fpd-icon-close",t.append(a),p(a,"click",(e=>{t.remove(),Xa(this,Ka,es).call(this)})),Xa(this,Ka,es).call(this)}function es(){let e=0;this.listElem.querySelectorAll(".fpd-quantity").forEach((t=>{e+=parseInt(t.value)})),this.fpdInstance.setOrderQuantity(parseInt(e))}function ts(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function ns(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var is=new WeakSet,as=new WeakSet,ss=new WeakSet,os=new WeakSet,rs=new WeakSet;class ls extends EventTarget{constructor(e){super(),ts(this,rs),ts(this,os),ts(this,ss),ts(this,as),ts(this,is),this.fpdInstance=e,g(e.mainOptions.colorSelectionPlacement)||(this.container=document.querySelector(e.mainOptions.colorSelectionPlacement),this.container&&(u(this.container,["fpd-color-selection","fpd-container"]),p(e,"productCreate",ns(this,is,cs).bind(this)))),p(e,"elementRemove",(e=>{const{element:t}=e.detail;if(t&&t.showInColorSelection){const e=this.container.querySelector('.fpd-cs-item[data-id="'+t.id+'"]');e&&e.remove()}}))}}function cs(){this.container.innerHTML="";const e=this.fpdInstance.getElements(0).filter((e=>e.showInColorSelection));m(this.container,["fpd-hidden"],0==e.length),e.forEach((e=>{ns(this,as,ds).call(this,e)}))}function ds(e){if(e.hasColorSelection()){const t=document.createElement("div");t.className="fpd-cs-item",t.dataset.id=e.id,t.innerHTML=`<div class="fpd-title">${e.title}</div>`,this.container.append(t);let n,i=E(e,this.fpdInstance);if("group"===e.type&&e.getObjects().length>1){const t=Array.isArray(e.colors)&&e.colors.length>1;n=Rt({colors:i,colorNames:this.fpdInstance.mainOptions.hexNames,palette:e.colors,subPalette:t,enablePicker:!t,onChange:(t,n)=>{ns(this,ss,ps).call(this,e,n,t)},onMove:(t,n)=>{e.changeObjectColor(n,t)}})}else n=Yt(this.fpdInstance,{colors:i,patterns:Array.isArray(e.patterns)&&(e.isSVG()||"text"===e.getType())?e.patterns:null,onMove:t=>{ns(this,os,hs).call(this,e,t)},onChange:t=>{ns(this,rs,us).call(this,e,t)},onPatternChange:t=>{this.fpdInstance.currentViewInstance.fabricCanvas.setElementOptions({pattern:t},e)}});n&&t.append(n)}}function ps(e,t,n){const i=e.changeObjectColor(t,n);this.fpdInstance.currentViewInstance.fabricCanvas.setElementOptions({fill:i},e)}function hs(e,t){"png"!==e.isColorizable()&&e.changeColor(t)}function us(e,t){this.fpdInstance.currentViewInstance.fabricCanvas.setElementOptions({fill:t},e)}function fs(e,t){ms(e,t),t.add(e)}function ms(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function gs(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,vs(e,t,"get"))}function vs(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function bs(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var ys=new WeakMap,ws=new WeakSet,Cs=new WeakSet,xs=new WeakSet;class Es extends EventTarget{constructor(e){var t,n;super(),fs(this,xs),fs(this,Cs),fs(this,ws),n={writable:!0,value:0},ms(this,t=ys),t.set(this,n),function(e,t,n){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"currentLayout",""),this.fpdInstance=e}init(){if(this.fpdInstance.mainOptions.modalMode){this.fpdInstance.mainOptions.maxCanvasHeight=.85,this.fpdInstance.mainOptions.fabricCanvasOptions.allowTouchScrolling=!1;let e=!1;u(document.body,["fpd-modal-mode-active"]),f(this.fpdInstance.container,["fpd-off-canvas","fpd-topbar"]),u(this.fpdInstance.container,["fpd-sidebar"]);const t=document.createElement("div");t.className="fpd-modal-product-designer fpd-modal-overlay fpd-fullscreen",document.body.append(t),this.fpdInstance.modalWrapper=t;const n=document.createElement("div");n.className="fpd-modal-inner",n.append(this.fpdInstance.container),t.append(n);const i=document.querySelector(this.fpdInstance.mainOptions.modalMode);p(i,"click",(n=>{n.preventDefault(),u(document.body,["fpd-overflow-hidden","fpd-modal-designer-visible"]),u(t,["fpd-show"]),this.fpdInstance.selectView(0),this.fpdInstance.currentViewInstance&&(this.fpdInstance.currentViewInstance.fabricCanvas.resetZoom(),e||this.fpdInstance.doAutoSelect()),e=!0,this.fpdInstance.dispatchEvent(new CustomEvent("modalDesignerOpen"))})),p(this.fpdInstance,"modalDesignerClose",(()=>{f(document.body,["fpd-overflow-hidden","fpd-modal-designer-visible"])})),p(this.fpdInstance,"priceChange",(()=>{t.querySelector("fpd-actions-bar .fpd-total-price").innerHTML=this.fpdInstance.formatPrice(this.fpdInstance.currentPrice)}))}this.fpdInstance.container.classList.add("fpd-container"),this.fpdInstance.container.classList.add("fpd-wrapper");const e=document.createElement("div");e.innerHTML='<div class="fpd-loader-wrapper"> <div class="fpd-loader"> <div class="fpd-loader-circle"></div> <span class="fpd-loader-text" data-defaulttext="Initializing Product Designer">misc.initializing</span> </div> </div>',this.fpdInstance.container.appendChild(e.firstChild.cloneNode(!0)),this.fpdInstance.mainLoader=this.fpdInstance.container.querySelector(".fpd-loader-wrapper"),this.fpdInstance.actionsBar=new Zi(this.fpdInstance),this.fpdInstance.mainBar=new Di(this.fpdInstance),this.fpdInstance.mainWrapper=new Hi(this.fpdInstance),this.fpdInstance.productStage=this.fpdInstance.mainWrapper.container.querySelector(".fpd-product-stage"),this.fpdInstance.viewsNav=new Ji(this.fpdInstance),this.fpdInstance.viewsGrid=new ia(this.fpdInstance),this.fpdInstance.bulkVariations=new _a(this.fpdInstance),new ls(this.fpdInstance),this.fpdInstance.guidedTour=new Ga(this.fpdInstance),this.fpdInstance.translator.translateArea(this.fpdInstance.container),this.dispatchEvent(new CustomEvent("ready")),window.addEventListener("resize",bs(this,ws,Is).bind(this)),bs(this,ws,Is).call(this),bs(this,Cs,As).call(this),bs(this,xs,Ss).call(this)}updateToolbarWrapper(){const e=document.querySelector("fpd-element-toolbar");e&&e.remove(),this.fpdInstance.toolbar=new Ma(this.fpdInstance),this.fpdInstance.translator.translateArea(this.fpdInstance.toolbar.container)}}function Is(){const e=this.fpdInstance.mainOptions.responsiveBreakpoints;let t;var n,i,a;n=this,i=ys,a=window.innerWidth,function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(n,vs(n,i,"set"),a),gs(this,ys)<e.small?(this.fpdInstance.container.classList.remove("fpd-layout-medium"),this.fpdInstance.container.classList.remove("fpd-layout-large"),this.fpdInstance.container.classList.add("fpd-layout-small"),t="small"):gs(this,ys)<e.medium?(this.fpdInstance.container.classList.remove("fpd-layout-small"),this.fpdInstance.container.classList.remove("fpd-layout-large"),this.fpdInstance.container.classList.add("fpd-layout-medium"),t="medium"):(this.fpdInstance.container.classList.remove("fpd-layout-medium"),this.fpdInstance.container.classList.remove("fpd-layout-small"),this.fpdInstance.container.classList.add("fpd-layout-large"),t="large"),this.fpdInstance.container.dataset.layout=t,t!=this.currentLayout&&(this.currentLayout=t,this.updateToolbarWrapper(),this.fpdInstance.dispatchEvent(new CustomEvent("uiLayoutChange",{detail:{layout:t}})))}function As(){const e=document.body;let t;t=document.createElement("div"),t.className="fpd-thumbnail-preview fpd-shadow-1 fpd-hidden",t.innerHTML="<picture></picture>";const n=document.createElement("div");n.className="fpd-preview-title",t.append(n),e.append(t),p(e,["mouseover","mouseout","mousemove","click"],(e=>{if(this.fpdInstance.draggedPlaceholder)return void t.classList.add("fpd-hidden");const i=e.target;if(i.classList.contains("fpd-hover-thumbnail")&&t.classList.contains("fpd-hidden")&&"mouseover"===e.type&&i.dataset.source){t.querySelector(".fpd-price")&&t.querySelector(".fpd-price").remove(),t.querySelector(".fpd-image-quality-ratings")&&t.querySelector(".fpd-image-quality-ratings").remove(),t.querySelector("picture").style.backgroundImage=`url("${i.dataset.source}")`,i.dataset.title&&(n.innerText=i.dataset.title),m(n,["fpd-hidden"],!i.dataset.title),m(t,["fpd-title-enabled"],i.dataset.title);const e=i.querySelector(".fpd-price");e&&t.append(e.cloneNode(!0));const a=i.querySelector(".fpd-image-quality-ratings");if(a){const e=a.cloneNode(!0),n=document.createElement("span");n.className="fpd-image-quality-rating-label",n.innerText=a.dataset.qualityLabel,e.prepend(n),t.append(e)}t.classList.remove("fpd-hidden")}if(t.classList.contains("fpd-hidden")||"mousemove"!==e.type&&"mouseover"!==e.type)"mouseout"!==e.type&&"click"!=e.type||t.classList.add("fpd-hidden");else{const n=e.pageX+10+t.offsetWidth>window.innerWidth?window.innerWidth-t.offsetWidth:e.pageX+10;t.style.left=n+"px",t.style.top=e.pageY+10+"px"}}))}function Ss(){const e=document.body,t=document.createElement("div");t.className="fpd-main-tooltip",e.append(t),this.fpdInstance.mainTooltip=t,e.addEventListener("mouseover",(e=>{const n=e.target;if(n.classList.contains("fpd-tooltip")){const e=n.getAttribute("aria-label");t.innerHTML=e;const i=5,{x:a,y:s,width:o,height:r}=n.getBoundingClientRect();let l=Math.floor(s-t.clientHeight-i),c=Math.floor(a+o/2-t.clientWidth/2);l<0&&(l=Math.floor(s+r+i)),c<0?c=0:c>window.outerWidth-t.clientWidth&&(c=window.outerWidth-t.clientWidth-i),t.style.left=`${c}px`,t.style.top=`${l}px`,t.classList.add("fpd-show")}else t.classList.remove("fpd-show")})),e.addEventListener("touchstart",(e=>{t.classList.remove("fpd-show")}))}class ks{constructor(e){const t=document.querySelector(e.mainOptions.editorMode);t&&(u(t,["fpd-editor-box-wrapper","fpd-container"]),this.titleElem=document.createElement("div"),this.titleElem.className="fpd-eb-title",t.append(this.titleElem),this.gridElem=document.createElement("div"),this.gridElem.className="fpd-eb-grid",t.append(this.gridElem),e.mainOptions.editorBoxParameters.forEach((e=>{const t=document.createElement("div");t.innerHTML="<span>"+e+'</span><input type="text" readonly data-prop="'+e+'" />',this.gridElem.append(t)}))),p(e,["elementSelect","elementChange"],(n=>{t&&(e.currentElement?(this.titleElem.innerText=e.currentElement.title,e.mainOptions.editorBoxParameters.forEach((t=>{let n=e.currentElement[t];if(void 0!==n){n="number"==typeof n?n.toFixed(2):n,n="object"==typeof n&&n.source?n.source.src:n,"fill"===t&&"group"===e.currentElement.type&&(n=e.currentElement.svgFill);const i=this.gridElem.querySelector('input[data-prop="'+t+'"]');i&&(i.value=n)}}))):this.titleElem.innerText="",m(this.gridElem,["fpd-hidden"],!e.currentElement))}))}}function Os(e,t){Ds(e,t),t.add(e)}function Ts(e,t,n){Ds(e,t),t.set(e,n)}function Ds(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ps(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ms(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Ls(e,t,"get"))}function Bs(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Ls(e,t,"set"),n),n}function Ls(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function Fs(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var Ns=new WeakMap,js=new WeakMap,Hs=new WeakSet,qs=new WeakSet,zs=new WeakSet,Us=new WeakSet,Vs=new WeakSet,Zs=new WeakSet,Ws=new WeakSet,Rs=new WeakSet,Ys=new WeakSet,Gs=new WeakSet;class Js extends EventTarget{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(super(),Os(this,Gs),Os(this,Ys),Os(this,Rs),Os(this,Ws),Os(this,Zs),Os(this,Vs),Os(this,Us),Os(this,zs),Os(this,qs),Os(this,Hs),Ps(this,"container",null),Ps(this,"mainOptions",{}),Ps(this,"currentViewInstance",null),Ps(this,"currentViewIndex",0),Ps(this,"products",[]),Ps(this,"designs",[]),Ps(this,"modalContainer",document.body),Ps(this,"currentCategoryIndex",0),Ps(this,"currentProductIndex",0),Ps(this,"viewInstances",[]),Ps(this,"productViews",null),Ps(this,"currentElement",null),Ps(this,"productCreated",!1),Ps(this,"colorLinkGroups",{}),Ps(this,"globalCustomElements",[]),Ps(this,"doUnsavedAlert",!1),Ps(this,"currentPrice",0),Ps(this,"singleProductPrice",0),Ps(this,"pricingRulesPrice",0),Ps(this,"watermarkImg",null),Ps(this,"currentLayouts",[]),Ps(this,"orderQuantity",1),Ps(this,"bulkVariations",null),Ps(this,"loadingCustomImage",!1),Ps(this,"lazyBackgroundObserver",null),Ps(this,"draggedPlaceholder",null),Ps(this,"mouseOverCanvas",!1),Ps(this,"firstProductCreated",!1),Ts(this,Ns,{writable:!0,value:0}),Ts(this,js,{writable:!0,value:0}),Ps(this,"inTextField",!1),Ps(this,"_order",{}),!e)return void console.log("No DOM element found for FPD.");this.lazyBackgroundObserver=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e){e.classList.add("fpd-on-loading");var n=new Image;n.src=t||e.dataset.img,n.onload=function(){e.dataset.originwidth=this.width,e.dataset.originheight=this.height,e.classList.remove("fpd-on-loading"),e.style.backgroundImage='url("'+this.src+'")'},n.onerror=function(){e.parentNode.remove()}}}(e.target),this.lazyBackgroundObserver.unobserve(e.target))}))})),this.container=e,this.container.instance=this,this.mainOptions=T.merge(T.defaults,t);let n={};Object.keys(this.mainOptions.hexNames).forEach((e=>{n[e.toLowerCase()]=this.mainOptions.hexNames[e]})),this.mainOptions.hexNames=n,(e.classList.contains("fpd-off-canvas")||e.classList.contains("fpd-topbar"))&&(this.mainOptions.toolbarPlacement="smart"),Array.isArray(this.mainOptions.pricingRules)&&this.mainOptions.pricingRules.length&&(this.pricingRulesInstance=new F(this)),this.translator=new _,this.translator.loadLangJSON(this.mainOptions.langJSON,Fs(this,Hs,Xs).bind(this))}setupProducts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.products=[],e.forEach((e=>{e.hasOwnProperty("category")?e.products.forEach((t=>{this.addProduct(t,e.category)})):this.addProduct(e)})),this.mainOptions.loadFirstProductInStage&&e.length>0?this.selectProduct(0):this.toggleSpinner(!1),h(this,"productsSet",{})}setupDesigns(e){this.designs=e,h(this,"designsSet",{})}addProduct(e,t){var n=Fs(this,Us,_s).call(this,t);void 0===t?this.products.push(e):(!1===n&&(n=this.products.length,this.products[n]={category:t,products:[]}),this.products[n].products.push(e)),h(this,"productAdd",{views:e,category:t,catIndex:n})}selectProduct(e,t){let n;this.currentCategoryIndex=void 0===t?this.currentCategoryIndex:t,n=this.products&&this.products.length&&this.products[0].category?this.products[this.currentCategoryIndex].products:this.products,this.currentProductIndex=e,e<0?this.currentProductIndex=0:e>n.length-1&&(this.currentProductIndex=n.length-1);const i=n[this.currentProductIndex];this.loadProduct(i,this.mainOptions.replaceInitialElements)}loadProduct(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&(h(this,"productSelect",{product:e}),this.toggleSpinner(!0),this.productCreated=!1,this.colorLinkGroups={},this.globalCustomElements=[],t?this.globalCustomElements=this.getCustomElements():this.doUnsavedAlert=!1,this.fixedElements=this.getFixedElements(),this.reset(),e.forEach(((e,t)=>{n&&(e.options=T.merge(this.mainOptions,e.options));const i={};a(e.options)&&J.relevantOptions.forEach((t=>{void 0!==e.options[t]&&(i[t]=e.options[t])})),e.options=i})),this.productViews=e,Bs(this,Ns,Bs(this,js,0)),e.forEach(((e,t)=>{Bs(this,Ns,Ms(this,Ns)+e.elements.length)})),p(this,"viewCreate",Fs(this,Vs,$s)),e&&this.addView(e[0]))}addView(e){let t={};J.relevantOptions.forEach((e=>{let n=this.mainOptions[e];t[e]=a(n)?{...n}:n})),e.options=a(e.options)?o(t,e.options):t;let n=new J(this.productStage,e,Fs(this,Rs,no).bind(this),this.mainOptions.fabricCanvasOptions);n.fabricCanvas.on({"mouse:move":e=>{this.mouseOverCanvas=!e.target||e.target},"mouse:out":e=>{this.mouseOverCanvas=!1},beforeElementAdd:e=>{if(this.mainBar&&this.uiManager&&"small"==this.uiManager.currentLayout&&this.mainBar.toggleContentDisplay(!1),!this.productCreated){var t;Bs(this,js,(t=Ms(this,js),++t));const n=e.title+"<br>"+String(Ms(this,js))+"/"+Ms(this,Ns);this.mainLoader.querySelector(".fpd-loader-text").innerHTML=n}h(this,"beforeElementAdd",{element:e})},elementAdd:e=>{let{element:t}=e;if(t){if(this.productCreated&&"image"==t.getType()&&t.isCustom&&this.toggleSpinner(!1),t.replace&&t.replaceInAllViews&&this.viewInstances.forEach(((e,n)=>{this.currentViewIndex!=n&&e.fabricCanvas.getElementByReplace(t.replace)&&!t._replaceAdded&&e.fabricCanvas.addElement(t.getType(),t.source,t.title,{...t.originParams,_replaceAdded:!0})})),t.colorLinkGroup&&t.colorLinkGroup.length>0&&!this.mainOptions.editorMode){var i=this.getViewIndexByWrapper(n.fabricCanvas.wrapperEl);if(this.colorLinkGroups.hasOwnProperty(t.colorLinkGroup))if(this.colorLinkGroups[t.colorLinkGroup].elements.push({id:t.id,viewIndex:i}),"object"==typeof t.colors){const e=this.mainOptions.replaceColorsInColorGroup?t.colors:this.colorLinkGroups[t.colorLinkGroup].colors.concat(t.colors);this.colorLinkGroups[t.colorLinkGroup].colors=c(e)}else 1!==t.colors&&!0!==t.colors||(this.colorLinkGroups[t.colorLinkGroup].colors=["#000"]);else this.colorLinkGroups[t.colorLinkGroup]={elements:[{id:t.id,viewIndex:i}],colors:[]},"object"==typeof t.colors?this.colorLinkGroups[t.colorLinkGroup].colors=t.colors:1!==t.colors&&!0!==t.colors||(this.colorLinkGroups[t.colorLinkGroup].colors=["#000"])}this.productCreated&&this.mainOptions.hideDialogOnAdd&&this.mainBar&&this.mainBar.toggleContentDisplay(!1),h(this,"elementAdd",{element:t}),h(this,"viewCanvasUpdate",{viewInstance:n})}else this.toggleSpinner(!1)},elementRemove:e=>{let{element:t}=e;const i=this.fixedElements.findIndex((e=>e.element.title==t.title));-1!=i&&this.fixedElements.splice(i,1),h(this,"elementRemove",{element:t}),h(this,"viewCanvasUpdate",{viewInstance:n})},elementSelect:e=>{let{element:t}=e;if(this.currentElement=t,Fs(this,Ys,io).call(this),t&&!t._ignore&&this.currentViewInstance){if(t.uploadZone&&!this.mainOptions.editorMode){let e=o(this.currentViewInstance.options.customAdds,t.customAdds||{});return void setTimeout((()=>{this.currentViewInstance.currentUploadZone=t.title,this.mainBar.toggleUploadZonePanel(!0,e)}),100)}this.currentViewInstance.currentUploadZone&&this.mainBar.toggleUploadZonePanel(!1)}h(this,"elementSelect",{}),this.mainOptions.openTextInputOnSelect&&t&&"text"===t.getType()&&t.editable&&this.toolbar&&this.toolbar.container.querySelector(".fpd-tool-edit-text").click()},elementCheckContainemt:e=>{let{target:t,boundingBoxMode:n}=e;"inside"===n&&Fs(this,Ys,io).call(this)},elementFillChange:e=>{let{element:t,colorLinking:i}=e;if(this.productCreated&&i&&t.colorLinkGroup&&t.colorLinkGroup.length>0){const e=this.colorLinkGroups[t.colorLinkGroup];e&&e.elements&&e.elements.forEach((e=>{if(t.id,e.id){const n=this.viewInstances[e.viewIndex].fabricCanvas.getElementByID(e.id);n&&n.changeColor(t.fill,!1)}}))}h(this,"elementFillChange",{element:t,colorLinking:i}),h(this,"viewCanvasUpdate",{viewInstance:n})},elementChange:e=>{let{element:t,type:n}=e;Fs(this,Ys,io).call(this),h(this,"elementChange",{type:n,element:t})},elementModify:e=>{let{element:t,options:i}=e;this.applyTextLinkGroup(t,i),h(this,"elementModify",{options:i,element:t}),h(this,"viewCanvasUpdate",{viewInstance:n})},"text:changed":e=>{let{target:t}=e;this.applyTextLinkGroup(t,{text:t.text})},"history:append":()=>{Fs(this,Zs,eo).call(this,"append")},"history:clear":()=>{Fs(this,Zs,eo).call(this,"clear")},"history:undo":()=>{Fs(this,Zs,eo).call(this,"undo")},"history:redo":()=>{Fs(this,Zs,eo).call(this,"redo")}}),p(n,"priceChange",(e=>{this.calculatePrice()})),n.init()}doAutoSelect(){let e=null;this.currentViewInstance.fabricCanvas.getObjects().forEach((t=>{t.autoSelect&&!t.hasUploadZone&&(e=t)})),e&&setTimeout((()=>{this.currentViewInstance.fabricCanvas.setActiveObject(e).renderAll()}),500)}applyTextLinkGroup(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&!g(e.textLinkGroup)){const n=this.mainOptions.textLinkGroupProps||[];this.viewInstances.forEach((i=>{i.fabricCanvas.getObjects().forEach((a=>{a!==e&&"text"===a.getType()&&a.textLinkGroup===e.textLinkGroup&&(t.text&&(a.set("text",e.text),h(this,"textLinkApply",{element:a,options:{text:e.text}})),Object.keys(t).filter((e=>n.includes(e))).forEach((t=>{a.set(t,e[t]),h(this,"textLinkApply",{element:a,options:{[t]:e[t]}})})),i.fabricCanvas.renderAll())}))}))}}getViewIndexByWrapper(e){return Array.from(this.productStage.querySelectorAll(".fpd-view-stage")).indexOf(e)}toggleSpinner(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return!!this.mainLoader&&(this.mainLoader.querySelector(".fpd-loader-text").innerText=t,this.mainLoader.classList.toggle("fpd-hidden",!e),this.mainLoader)}selectView(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.viewInstances.length<=0)return;this.currentViewInstance&&this.currentViewInstance.fabricCanvas&&this.currentViewInstance.fabricCanvas.resetZoom(),this.currentViewIndex=e,e<0?this.currentViewIndex=0:e>this.viewInstances.length-1&&(this.currentViewIndex=this.viewInstances.length-1),this.currentViewInstance&&this.currentViewInstance.fabricCanvas&&this.currentViewInstance.fabricCanvas.clearHistory(),this.currentViewInstance=this.viewInstances[this.currentViewIndex],this.deselectElement();const t=this.productStage.querySelectorAll(".fpd-view-stage");u(t,["fpd-hidden"]),f(t.item(this.currentViewIndex),["fpd-hidden"]),m(document.body.querySelectorAll('.fpd-btn[data-action="previous-view"], .fpd-btn[data-action="next-view"], fpd-views-nav'),["fpd-hidden"],this.viewInstances.length<=1),m(document.body.querySelectorAll('.fpd-btn[data-action="previous-view"], .fpd-view-prev'),["fpd-disabled"],0==this.currentViewIndex),m(document.body.querySelectorAll('.fpd-btn[data-action="next-view"], .fpd-view-next'),["fpd-disabled"],this.currentViewIndex===this.viewInstances.length-1),Fs(this,Ws,to).call(this),this.currentViewInstance.fabricCanvas.snapToGrid=!1,this.currentViewInstance.fabricCanvas.enableRuler=!1,this.currentViewInstance.fabricCanvas.resetSize(),h(this,"viewSelect")}getElements(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e=void 0===e||isNaN(e)?-1:e,n&&this.deselectElement();let i=[];if(-1===e)for(var a=0;a<this.viewInstances.length;++a)i=i.concat(this.viewInstances[a].fabricCanvas.getElements(t,n));else{if(!this.viewInstances[e])return[];i=this.viewInstances[e].fabricCanvas.getElements(t,n)}return i}getCustomElements(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=[];return this.getElements(t,e,n).forEach((e=>{if(e.isCustom){const t=this.getViewIndexByWrapper(e.canvas.wrapperEl);i.push({element:e,viewIndex:t})}})),i}getFixedElements(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=[];return this.getElements(t,e,n).forEach((e=>{if(e.fixed){const t=this.getViewIndexByWrapper(e.canvas.wrapperEl);i.push({element:e,viewIndex:t})}})),i}reset(){null!==this.productViews&&(this.removeEventListener("viewCreate",Fs(this,Vs,$s)),this.deselectElement(),this.currentViewInstance&&this.currentViewInstance.fabricCanvas.resetZoom(),this.currentViewIndex=this.currentPrice=this.singleProductPrice=this.pricingRulesPrice=0,this.currentViewInstance=this.productViews=this.currentElement=null,this.viewInstances.forEach((e=>{e.fabricCanvas.dispose()})),this.productStage.innerHTML="",this.viewInstances=[],h(this,"clear"),h(this,"priceChange"))}deselectElement(){this.currentViewInstance&&this.currentViewInstance.fabricCanvas&&(this.currentViewInstance.fabricCanvas.deselectElement(),this.currentElement=null)}addCustomImage(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;a=void 0===a?this.currentViewIndex:a;const s=new Image;s.crossOrigin="anonymous",s.src=e,this.toggleSpinner(!0,this.translator.getTranslation("misc","loading_image")),u(this.viewsNav.container,["fpd-disabled"]),s.onload=()=>{this.loadingCustomImage=!1;let i=s.height,r=s.width,l=this.currentViewInstance.options.customImageParameters;if(!w(this,r,i))return this.toggleSpinner(!1),!1;let c={isCustom:!0};s.src.includes(".svg")&&!l.colors&&(c.colors=!0);let d=o(l,c);d=o(d,n),this.viewInstances[a].fabricCanvas.addElement("image",e,t,d,a),f(this.viewsNav.container,["fpd-disabled"])},s.onerror=()=>{f(this.viewsNav.container,["fpd-disabled"]),i("Image could not be loaded!")}}_addGridItemToCanvas(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!this.currentViewInstance)return;n=void 0===n?this.currentViewIndex:n;const a=o({_addToUZ:this.currentViewInstance.currentUploadZone},t);this.productCreated&&this.mainOptions.hideDialogOnAdd&&this.mainBar&&this.mainBar.toggleContentDisplay(!1),this._addCanvasImage(e.dataset.source,e.dataset.title,a,n,i)}_addCanvasImage(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];this.currentViewInstance&&(i=void 0===i?this.currentViewIndex:i,Js.uploadsToServer&&a?this._downloadRemoteImage(e,t,n):(this.loadingCustomImage=!0,this.addCustomImage(e,t,n,i)))}_downloadRemoteImage(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.mainOptions.fileServerURL)return void alert("You need to set the fileServerURL in the option, otherwise file uploading does not work!");this.loadingCustomImage=!0,this.toggleSpinner(!0,this.translator.getTranslation("misc","loading_image")),u(this.viewsNav.container,["fpd-disabled"]);const a=new FormData;a.append("url",e);const s=e=>{f(this.viewsNav.container,["fpd-disabled"]),this.toggleSpinner(!1),i(e)};(e=>{let t=e.url,n={Accept:"application/json"};!e.body instanceof FormData&&(n["Content-Type"]="application/json"),fetch(t,{method:"POST",redirect:"follow",headers:n,body:e.body instanceof FormData?e.body:JSON.stringify(e.body)}).then((e=>e.json())).then((t=>{e.onSuccess&&e.onSuccess(t)})).catch((t=>{e.onError&&e.onError(t)}))})({url:this.mainOptions.fileServerURL,body:a,onSuccess:e=>{e&&e.image_src?this.addCustomImage(e.image_src,e.filename?e.filename:t,n):s(e.error)},onError:s})}addCanvasDesign(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;this.currentViewInstance&&(this.toggleSpinner(!0,this.translator.getTranslation("misc","loading_image")),n=o(this.currentViewInstance.options.customImageParameters,n),n.isCustom=!0,this.currentViewInstance.currentUploadZone&&(n._addToUZ=this.currentViewInstance.currentUploadZone),this.productCreated&&this.mainOptions.hideDialogOnAdd&&this.mainBar&&this.mainBar.toggleContentDisplay(!1),this.currentViewInstance.fabricCanvas.addElement("image",e,t,n,i))}toggleResponsive(e){return e=void 0===e?this.container.classList.contains("fpd-not-responsive"):e,m(this.container,["fpd-not-responsive"],!e),this.viewInstances.forEach(((t,n)=>{t.options.responsive=e,n==this.currentViewIndex&&t.fabricCanvas.resetSize()})),e}getProduct(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1,a="all"==this.mainOptions.customizationRequiredRule?"every":"some";if(n=this.viewInstances[a]((e=>e.fabricCanvas.isCustomized)),t&&!n)return i(this.translator.getTranslation("misc","customization_required_info")),!1;this.deselectElement(),this.currentViewInstance.fabricCanvas.resetZoom(),this.doUnsavedAlert=!1;let s=[];return this.getElements().forEach((e=>{e.isOut&&"inside"===e.boundingBoxMode&&!e.__editorMode&&(i(e.title+": "+this.translator.getTranslation("misc","out_of_bounding_box")),s=!1)})),!1!==s&&(this.viewInstances.forEach(((t,n)=>{const i={title:t.title,thumbnail:t.thumbnail,elements:t.fabricCanvas.getElementsJSON(e),options:t.options,names_numbers:t.names_numbers,mask:t.mask,locked:t.locked};0==n&&this.productViews[0].hasOwnProperty("productTitle")&&(i.productTitle=this.productViews[0].productTitle),s.push(i)})),s)}getProductDataURL(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(t.onlyExportable=void 0!==t.onlyExportable&&t.onlyExportable,t.enableRetinaScaling=void 0!==t.enableRetinaScaling&&t.enableRetinaScaling,t.watermarkImg=this.watermarkImg,0===this.viewInstances.length)return void e("");this.currentViewInstance.fabricCanvas.resetZoom();const i=document.createElement("canvas");let a=fabric.devicePixelRatio,s=new fabric.Canvas(i,{containerClass:"fpd-hidden fpd-hidden-canvas",enableRetinaScaling:!1}),o=0,r=t.multiplier?t.multiplier:1,l=2==n.length?this.viewInstances.slice(n[0],n[1]):this.viewInstances;const c=n=>{fabric.devicePixelRatio=1,n.toDataURL((i=>{fabric.Image.fromURL(i,(i=>{s.add(i),o>0&&(i.set("top",s.getHeight()),s.setDimensions({height:s.getHeight()+n.options.stageHeight*r})),o++,o<l.length?c(l[o]):(delete t.multiplier,setTimeout((function(){e(s.toDataURL(t)),fabric.devicePixelRatio=a,s.dispose(),this.currentViewInstance&&this.currentViewInstance.fabricCanvas.resetSize()}),100))}),{crossOrigin:"anonymous"})}),t),n.options.stageWidth*r>s.getWidth()&&s.setDimensions({width:n.options.stageWidth*r})},d=l[0];s.setDimensions({width:d.options.stageWidth*r,height:d.options.stageHeight*r}),c(d)}getViewsDataURL(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.watermarkImg=this.watermarkImg;let n=[];this.currentViewInstance.fabricCanvas.resetZoom();for(var i=0;i<this.viewInstances.length;++i)this.viewInstances[i].toDataURL((t=>{n.push(t),n.length===this.viewInstances.length&&e(n)}),t)}print(){this.getViewsDataURL((e=>{let t=[],n=0;for(var i=0;i<e.length;++i){let a=new Image;a.src=e[i],a.onload=()=>{if(t.push(a),n++,n==e.length){const n=window.open("","","width="+t[0].width+",height="+t[0].height*e.length+",location=no,menubar=no,scrollbars=yes,status=no,toolbar=no");A(n,this.translator.getTranslation("misc","popup_blocker_alert")),n.document.title="Print Image";for(var i=0;i<t.length;++i)n.document.body.append(t[i]);setTimeout((()=>{n.print()}),1e3)}}}}))}getUsedFonts(){let e=[],t=[];return this.getElements(-1,"all",!1).forEach((n=>{if("text"===n.getType()&&-1===e.indexOf(n.fontFamily)){var i={name:n.fontFamily},a=this.mainOptions.fonts.find((e=>e.name==n.fontFamily));a&&(a.url&&(i.url=a.url),a.variants&&Object.keys(a.variants).forEach((i=>{var s=n.fontFamily;"n7"==i?s+=" Bold":"i4"==i?s+=" Italic":"i7"==i&&(s+=" Bold Italic"),e.push(s),t.push({name:s,url:a.variants[i]})}))),e.push(n.fontFamily),t.push(i)}})),t}getViewsSVG(e){let t=[];for(var n=0;n<this.viewInstances.length;++n)t.push(this.viewInstances[n].toSVG(e,this.getUsedFonts()));return t}getUsedColors(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;var t=[];return this.getElements(e,"all",!1).forEach((e=>{const n=e.isColorizable();n&&("svg"===n&&"group"===e.type?e.getObjects().forEach((e=>{tinycolor(e.fill).isValid()&&t.push(e.fill)})):tinycolor(e.fill).isValid()&&t.push(e.fill))})),c(t)}removeView(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.viewInstances[e].fabricCanvas.wrapperEl.remove(),this.viewInstances.splice(e,1),this.viewInstances.length>0&&(e==this.currentViewIndex?this.selectView(0):this.selectView(e)),h(this,"viewRemove",{viewIndex:e}),this.calculatePrice()}setOrderQuantity(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;e=""==e||e<0?1:e,this.orderQuantity=e,this.calculatePrice()}getOrder(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._order.product=this.getProduct(e.onlyEditableElements,e.customizationRequired),this._order.usedFonts=this.getUsedFonts(),this._order.usedColors=[],this.getUsedColors().forEach((e=>{let t=this.mainOptions.hexNames[e.replace("#","").toLowerCase()],n={hex:e};t&&(n.name=t),this._order.usedColors.push(n)})),h(this,"getOrder",{}),this._order}getPrintOrderData(){let e={used_fonts:this.getUsedFonts(),svg_data:[],custom_images:[]};return this.viewInstances.forEach((t=>{e.svg_data.push({svg:t.toSVG({respectPrintingBox:!0}),output:t.options.output})})),this.getCustomElements("image").forEach((t=>{e.custom_images.includes(t.element.source)||e.custom_images.push(t.element.source)})),e}calculatePrice(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Fs(this,Gs,ao).call(this);let t=this.singleProductPrice;return this.currentPrice=t,t+=this.pricingRulesPrice,e&&(t*=this.orderQuantity),t%1!=0&&(t=Number(t.toFixed(2))),this.currentPrice=t,h(this,"priceChange",{}),this.currentPrice}formatPrice(e){return O(e,this.mainOptions.priceFormat)}}function Xs(){V(this,(e=>{this.mainOptions.fonts=e,setTimeout((()=>{this.uiManager=new Es(this),this.uiManager.addEventListener("ready",Fs(this,qs,Qs).bind(this)),this.uiManager.init()}),1)}))}function Qs(){h(this,"ready",{}),this.mainOptions.productsJSON&&("object"==typeof this.mainOptions.productsJSON?this.setupProducts(this.mainOptions.productsJSON):K({url:this.mainOptions.productsJSON,onSuccess:e=>{this.setupProducts(e)},onError:()=>{alert("Products JSON could not be loaded. Please check that your URL is correct! URL: "+this.mainOptions.productsJSON)}})),this.mainOptions.designsJSON&&("object"==typeof this.mainOptions.productsJSON?this.setupDesigns(this.mainOptions.designsJSON):K({url:this.mainOptions.designsJSON,onSuccess:e=>{this.setupDesigns(e)},onError:()=>{alert("Design JSON could not be loaded. Please check that your URL is correct! URL: "+this.mainOptions.designsJSON)}})),this.mainOptions.keyboardControl&&p(document,"keydown",(e=>{if(this.currentViewInstance&&this.currentViewInstance.fabricCanvas){const t=this.currentViewInstance,n=e.target.nodeName,i=t.fabricCanvas.getActiveObject();if(i&&!["TEXTAREA","INPUT"].includes(n)){switch(e.which){case 8:i.removable&&t.fabricCanvas.removeElement(i);break;case 37:i.draggable&&t.fabricCanvas.setElementParameters({left:i.left-1});break;case 38:i.draggable&&t.fabricCanvas.setElementParameters({top:i.top-1});break;case 39:i.draggable&&t.fabricCanvas.setElementParameters({left:i.left+1});break;case 40:i.draggable&&t.fabricCanvas.setElementParameters({top:i.top+1});break;default:return}e.preventDefault()}}})),this.mainOptions.watermark&&fabric.Image.fromURL(this.mainOptions.watermark,((e,t)=>{t||(this.watermarkImg=e)}),{crossOrigin:"anonymous"}),this.mainOptions.unsavedProductAlert&&(window.onbeforeunload=()=>{if(this.doUnsavedAlert)return""});let e=0;if(window.addEventListener("resize",(t=>{window.innerWidth===e||this.inTextField||(e=window.innerWidth,this.currentElement&&!["INPUT","TEXTAREA"].includes(document.activeElement)&&this.deselectElement(),this.currentViewInstance&&setTimeout((()=>{this.currentViewInstance.fabricCanvas.resetSize()}),100))})),p(this,["productCreate","layoutElementsAdded"],Fs(this,zs,Ks).bind(this)),p(this,["productCreate","modalDesignerOpen"],(e=>{(!this.firstProductCreated&&!this.mainOptions.modalMode||!this.firstProductCreated&&"modalDesignerOpen"===e.type)&&(this.mainOptions.autoOpenInfo&&this.actionsBar&&this.actionsBar.doAction("info"),this.guidedTour&&(v()?"yes"!==window.localStorage.getItem("fpd-gt-closed")&&this.guidedTour.start():this.guidedTour.start())),this.firstProductCreated=this.mainOptions.modalMode&&"modalDesignerOpen"===e.type})),p(document.body,["focusin","blur"],(e=>{["TEXTAREA","INPUT"].includes(e.target.nodeName)&&(this.inTextField="focusin"==e.type)}),!0),p(document.body,["mouseup","touchend"],(e=>{let t=Array.from(document.querySelectorAll(".fpd-container"));!Boolean(t.find((t=>t.contains(e.target))))&&this.mainOptions.deselectActiveOnOutside&&this.deselectElement()}),!0),this.mainOptions.dragDropImagesToUploadZones){let e=null;p(document.body,["mousedown","touchstart"],(t=>{if(1==t.which){const n=t.target;n.classList.contains("fpd-draggable")&&(e=n,this.draggedPlaceholder=document.createElement("div"),this.draggedPlaceholder.className="fpd-dragged-image fpd-shadow-1 fpd-hidden",this.draggedPlaceholder.style.backgroundImage=`url("${n.querySelector("picture").dataset.img}")`,document.body.append(this.draggedPlaceholder))}})),p(document.body,["mousemove"],(t=>{this.draggedPlaceholder&&(this.draggedPlaceholder.style.left=t.pageX-.5*e.offsetWidth+"px",this.draggedPlaceholder.style.top=t.pageY-.5*e.offsetHeight+"px",f(this.draggedPlaceholder,["fpd-hidden"]),setTimeout((()=>{this.draggedPlaceholder&&u(this.draggedPlaceholder,["fpd-animate"])}),1),t.stopPropagation(),t.preventDefault())})),p(document.body,["mouseup"],(t=>{this.draggedPlaceholder&&(this.draggedPlaceholder.remove(),this.draggedPlaceholder=null),!this.loadingCustomImage&&e&&this.mouseOverCanvas&&this._addGridItemToCanvas(e,this.mouseOverCanvas.uploadZone?{_addToUZ:this.mouseOverCanvas.title}:{}),e=null,this.mouseOverCanvas=!1}))}"string"==typeof this.mainOptions.editorMode&&new ks(this)}function Ks(){const e=this.globalCustomElements.concat(this.fixedElements);if(!e.length)return;let t=0;const n=e=>{const t=this.viewInstances[e.viewIndex];if(t){const n=e.element;if(!t.fabricCanvas.getElementByTitle(n.title)){let e=Object.keys(this.mainOptions.elementParameters);e="text"===n.getType()?e.concat(Object.keys(this.mainOptions.textParameters)):e.concat(Object.keys(this.mainOptions.imageParameters));let i=n.getElementJSON(!1,e);i._printingBox&&delete i.boundingBox,t.fabricCanvas.addElement(n.getType(),n.source,n.title,i)}}else i()},i=()=>{t++,t<e.length?n(e[t]):this.removeEventListener("elementAdd",i)};p(this,"elementAdd",i),e[0]&&n(e[0])}function _s(e){var t=this.products.findIndex((t=>t.category===e));return-1!==t&&t}function $s(){if(this.viewInstances.length<this.productViews.length)this.addView(this.productViews[this.viewInstances.length]);else{this.removeEventListener("viewCreate",Fs(this,Vs,$s)),this.toggleSpinner(!1),this.selectView(0),!this.mainOptions.editorMode&&this.currentViewInstance&&this.currentViewInstance.fabricCanvas.wrapperEl.offsetParent&&this.doAutoSelect(),this.productCreated=!0;const e=this.productViews[0].options.layouts;"string"==typeof e?K({url:e,onSuccess:e=>{this.currentLayouts=e,h(this,"layoutsSet",{})},onError:()=>{alert("Layouts JSON could not be loaded. Please check that your URL is correct! URL: "+this.mainOptions.layouts)}}):Array.isArray(e)&&(this.currentLayouts=e,h(this,"layoutsSet",{})),h(this,"productCreate")}}function eo(e){["undo","redo"].includes(e)&&this.currentViewInstance.fabricCanvas._renderPrintingBox(),h(this,"historyAction",{type:e}),Fs(this,Ws,to).call(this)}function to(){if(this.currentViewInstance){const e=this.currentViewInstance.fabricCanvas.historyUndo,t=this.currentViewInstance.fabricCanvas.historyRedo;e.length&&(this.doUnsavedAlert=!0),e&&(m(document.body.querySelectorAll('.fpd-btn[data-action="undo"]'),["fpd-disabled"],0==e.length),m(document.body.querySelectorAll('.fpd-btn[data-action="redo"]'),["fpd-disabled"],0==t.length))}}function no(e){e.fabricCanvas.wrapperEl.parentNode&&(this.viewInstances.push(e),e.fabricCanvas.on("sizeUpdate",(e=>{let{canvasHeight:t}=e,n=t+"px";this.productStage.style.height=n,this.container.classList.contains("fpd-sidebar")&&(this.mainBar.container.style.height=n,t!=this.mainWrapper.container.offsetHeight&&(this.mainBar.container.style.height=this.mainWrapper.container.offsetHeight+"px"))})),h(this,"viewCreate",{viewInstance:e}),e.fabricCanvas.onHistory(),e.fabricCanvas.clearHistory())}function io(){if(!this.mainTooltip)return;const e=this.currentElement;if(this.productCreated&&e&&!e.uploadZone&&!e.__editorMode){if(e.isOut&&"inside"===e.boundingBoxMode){const e=this.translator.getTranslation("misc","out_of_bounding_box","Move element inside the boundary!");this.mainTooltip.innerHTML=e,this.mainTooltip.classList.add("fpd-show")}else this.mainOptions.imageSizeTooltip&&"image"===e.getType()?(this.mainTooltip.innerText=parseInt(e.width*e.scaleX)+" x "+parseInt(e.height*e.scaleY),this.mainTooltip.classList.add("fpd-show")):this.mainTooltip.classList.remove("fpd-show");if(this.mainTooltip.classList.contains("fpd-show")){const t=e.oCoords,n=this.currentViewInstance.fabricCanvas.wrapperEl.getBoundingClientRect();this.mainTooltip.style.left=n.left+t.mt.x-this.mainTooltip.clientWidth/2+"px",this.mainTooltip.style.top=n.top+t.mt.y-this.mainTooltip.clientHeight-20+"px"}}else this.mainTooltip.classList.remove("fpd-show")}function ao(){this.currentPrice=this.singleProductPrice=0,this.viewInstances.forEach((e=>{e.locked||(this.singleProductPrice+=e.truePrice)}))}Ps(Js,"version","6.0.2"),Ps(Js,"forbiddenTextChars",/<|>/g),Ps(Js,"proxyFileServer",""),Ps(Js,"uploadsToServer",!0),Ps(Js,"additionalModules",{}),window.FancyProductDesigner=Js,window.FPDEmojisRegex=/(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F/g})()})();