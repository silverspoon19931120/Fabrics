!function(t,n){"use strict";"object"==typeof exports?module.exports=n():"function"==typeof define&&define.amd?define(function(t){return n()}):t.AreaSortable=n()}("undefined"!=typeof self?self:this,function(t){"use strict";var it="$areaSortable",rt="rect",at="scroll",lt="style",st="margin",pt="padding",ct="left",ut="right",dt="width",ft="top",mt="bottom",ht="height",vt="nextElementSibling",gt="previousElementSibling",xt="scrollTop",bt="scrollLeft",wt=1,yt=2,Et=wt+yt,It=Math,St=String,w=parseInt,o=Object.prototype.hasOwnProperty,n=Object.prototype.toString,e=/^\s+|\s+$/g,zt=/mousedown|pointerdown/,s=St.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(e,"")},i=null;function Lt(t,n){return t<0?-1:0<t?1:n||0}function y(t){return"function"==typeof t}function E(t){return"[object String]"===n.call(t)}function p(){var n=!1,t={};try{Object.defineProperty(t,"passive",{get:function(){return!(n=!0)}}),window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){n=!1}return n}function I(t,n,e,o){null==i&&(i=p()),t.attachEvent?t.attachEvent("on"+n,e):t.addEventListener(n,e,i?o:"object"==typeof o?!!o.capture:!!o)}function l(t,n,e,o){null==i&&(i=p()),t.detachEvent?t.detachEvent("on"+n,e):t.removeEventListener(n,e,i?o:"object"==typeof o?!!o.capture:!!o)}function S(t,n){return t.classList?t.classList.contains(n):-1!==(" "+t.className+" ").indexOf(" "+n+" ")}function Nt(t,n){t.classList?t.classList.add(n):S(t,n)||(t.className=""===t.className?n:t.className+" "+n)}function Ct(t,n){t.classList?t.classList.remove(n):t.className=s((" "+t.className+" ").replace(" "+n+" "," "))}function jt(t,n){return 0!==t[n]||(t[n]=1)===t[n]&&(t[n]=0,1)}function At(t){return(y(window.getComputedStyle)?window.getComputedStyle(t,null):t.currentStyle)||{}}function Bt(t,n,e){return t.elementsFromPoint(n,e)}function Rt(e,t){return t.reduce(function(t,n){return t[n]=e[lt].getPropertyValue(n),t},{})}function Tt(n,t,e){e=e||n[it][lt],t.forEach(function(t){o.call(e,t)&&""!==e[t]?n[lt][t]=e[t]:n[lt].removeProperty(t)})}function $t(n,t,e){var o,i,r,a;0<t&&(n[it]&&n[it].animation&&n[it].animation.stop(),o="transform "+St(t)+"ms",i="translate3d(0,0,0)",r=null,a=function t(){r&&clearTimeout(r),r=null,n[it]&&n[it].animation&&t===n[it].animation.stop&&(n[it].animation=null),n[lt].transform===i&&n[lt].transition===o&&(n[lt].transition="none",n[lt].transform="none")},n[lt].transition="none",n[lt].transform="translate3d("+St(-(e[ct]||0))+"px,"+St(-(e[ft]||0))+"px,0)",n.offsetWidth,n[lt].transform=i,n[lt].transition=o,r=setTimeout(a,t),n[it].animation={stop:a})}function Pt(t,n,e,o,i){t=t[it].r,n=n[it][rt];return It.max(0,It.min(1,It.max(0,It.min(t[o]+t[i],n[o]-e[o]+n[i])-It.max(t[o],n[o]-e[o]))/It.min(t[i],n[i])))}function Ot(t,n,e,o,i){var t=t[it].r,n=n[it][rt],r=It.max(0,It.min(t[ct]+t[dt],n[ct]-e[ct]+n[dt])-It.max(t[ct],n[ct]-e[ct])),e=It.max(0,It.min(t[ft]+t[ht],n[ft]-e[ft]+n[ht])-It.max(t[ft],n[ft]-e[ft]));return It.max(0,It.min(1,r*e/(It.min(t[dt],n[dt])*It.min(t[ht],n[ht]))))}function r(L,N){function z(t,n,e){e<0?(P===n&&(P=t),A===t&&(A=j[gt]),O.insertBefore(t,n)):0<e&&(P===t&&(P=t[vt]),n[vt]?O.insertBefore(t,n[vt]):(O.appendChild(t),A=t)),t[it].index=n[it].index,O.insertBefore(j,t),y(L.options.onChange)&&L.options.onChange(t)}function t(t){if(c&&!h&&L.options.container&&(!zt.test(t.type)||0===t.button))if(f(),(o=t.target)&&S(o,L.options.handle||"dnd-sortable-handle"))if(C=function(t,n){if(t.closest)return t.closest("."+n);for(;t;){if(S(t,n))return t;t=t.parentNode}}(o,L.options.item||"dnd-sortable-item"))if(!(O=C.parentNode)||E(L.options.container)&&O.id!==L.options.container||!E(L.options.container)&&O!==L.options.container)f();else if(y(L.options.onStart)&&L.options.onStart(C),y(L.options.itemFilter)&&!(C=L.options.itemFilter(C)))f();else{h=!0,J=C.ownerDocument||document,t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),u=t.touches&&t.touches.length;var n,i=0,r=0,a=ct,l=dt,s=ut,e=(O.tagName||"").toLowerCase();if(T=(n=J).scrollingElement||n.documentElement||n.body,$=null,L.options.autoscroll)for($=O;$&&!(T===$||yt!==N&&$.scrollHeight>$.clientHeight&&jt($,xt)||wt!==N&&$.scrollWidth>$.clientWidth&&jt($,bt));)$=$.parentNode;O[it]={rect:O.getBoundingClientRect(),scroll:{top:O[xt]||0,left:O[bt]||0,width:O.scrollWidth,height:O.scrollHeight,top0:O[xt]||0,left0:O[bt]||0},$:At(O),style:Rt(O,["width","height","max-width","max-height","box-sizing","padding-left","padding-top","padding-right","padding-bottom"])},O[it][pt]={left:w(O[it].$.paddingLeft)||0,right:w(O[it].$.paddingRight)||0},$&&$!==O&&($[it]={rect:$.getBoundingClientRect(),scroll:{top:$[xt]||0,left:$[bt]||0,width:$.scrollWidth,height:$.scrollHeight,top0:$[xt]||0,left0:$[bt]||0}}),(p=[].map.call(O.children,function(t,n){var e=t.getBoundingClientRect(),o=At(t);return t[it]={index:n,line:0,prev:{},rect:{top:e[ft],left:e[ct],width:e[dt],height:e[ht]},r:{top:e[ft],left:e[ct],width:e[dt],height:e[ht]},margin:{top:w(o.marginTop)||0,right:w(o.marginRight)||0,bottom:w(o.marginBottom)||0,left:w(o.marginLeft)||0},$:o,style:Rt(t,["position","box-sizing","overflow","top","left","width","height","transform","transition"]),animation:null},n=t[it][st][a]+t[it][rt][l]+t[it][st][s],0<r&&O[it][pt][a]+r+n+O[it][pt][s]>O[it][rt][l]&&(i++,r=0),t[it].line=i,r+=n,t})).length&&(P=p[0],A=p[p.length-1]),a=ft,l=ht,s=mt,R=new Array(p.length),p.forEach(function(t){var n=t[it].line,t=t[it][rt][a]-t[it][st][a]-O[it][rt][a]+O[it][at][a];R[n]=null==R[n]?t:It.min(t,R[n])}),Nt(O,L.options.activeArea||"dnd-sortable-area"),O[lt].boxSizing="border-box",O[lt][dt]=St(O[it][rt][dt])+"px",O[lt][ht]=St(O[it][rt][ht])+"px",O[lt].maxWidth=St(O[it][rt][dt])+"px",O[lt].maxHeight=St(O[it][rt][ht])+"px",C.draggable=!1,Nt(C,L.options.activeItem||"dnd-sortable-dragged"),nt=!0,p.forEach(function(t){var n=p[0];t[lt].position="absolute",t[lt].boxSizing="border-box",t[lt].overflow="hidden",t[lt][ft]=St(t[it][rt][ft]-O[it][rt][ft]+O[it][at][ft]-t[it][st][ft])+"px",t[lt][ct]=St(t[it][rt][ct]-O[it][rt][ct]+O[it][at][ct]-t[it][st][ct])+"px",t[lt][dt]=St(t[it][rt][dt])+"px",t[lt][ht]=St(t[it][rt][ht])+"px",t[it][rt][dt]===n[it][rt][dt]&&t[it][rt][ht]===n[it][rt][ht]&&t[it][st][ft]===n[it][st][ft]&&t[it][st][mt]===n[it][st][mt]&&t[it][st][ct]===n[it][st][ct]&&t[it][st][ut]===n[it][st][ut]||(nt=!1)}),Nt(j=J.createElement("ul"===e||"ol"===e?"li":"tr"===e?"td":"tbody"===e||"thead"===e||"tfoot"===e||"table"===e?"tr":"span"),L.options.placeholder||"dnd-sortable-placeholder"),j[lt].position="absolute",j[lt].display="block",j[lt].boxSizing="border-box",j[lt].margin="0",O===$&&(O[lt].paddingLeft=St(O[it][at][dt]-O[it][rt][dt])+"px",O[lt].paddingTop=St(O[it][at][ht]-O[it][rt][ht])+"px",O[lt].paddingRight="0px",O[lt].paddingBottom="0px",O[bt]=O[it][at][ct],O[xt]=O[it][at][ft]),u?(I(J,"touchmove",x,!1),I(J,"touchend",m,!1),I(J,"touchcancel",m,!1)):(I(J,"mousemove",x,!1),I(J,"mouseup",m,!1)),v=setInterval(b,g),Z=k=(u?t.touches[0]:t).clientX,_=D=(u?t.touches[0]:t).clientY,W=k,H=D,X=V=M=F=0,O.insertBefore(j,C),j[lt][dt]=St(C[it][rt][dt])+"px",j[lt][ht]=St(C[it][rt][ht])+"px",j[lt][ft]=St(C[it][rt][ft]-O[it][rt][ft]+O[it][at][ft])+"px",j[lt][ct]=St(C[it][rt][ct]-O[it][rt][ct]+O[it][at][ct])+"px",yt!==N&&(C[lt][ft]=St(D-H+C[it][rt][ft]-O[it][rt][ft]+O[it][at][ft]-C[it][st][ft])+"px"),wt!==N&&(C[lt][ct]=St(k-W+C[it][rt][ct]-O[it][rt][ct]+O[it][at][ct]-C[it][st][ct])+"px")}else f();else f()}var j,C,o,B,P,A,p,R,T,$,O,W,H,k,D,F,M,V,X,Z,_,Y,q,G,tt,J,e,i,r,n=!1,c=!1,h=!1,u=!1,v=null,K=null,g=60,nt=!1,Q=yt===N?dt:ht,U=yt===N?ct:ft,d=ct===U?ut:mt,f=function(){J=R=p=O=$=T=A=P=B=o=C=j=null,tt=!1,G=0},a=function(){h&&(K&&(clearInterval(K),K=null),u?(l(J,"touchmove",x,!1),l(J,"touchend",m,!1),l(J,"touchcancel",m,!1)):(l(J,"mousemove",x,!1),l(J,"mouseup",m,!1)),v&&(clearInterval(v),v=null),j&&j.parentNode&&(j.parentNode.removeChild(j),j[it]=null),Ct(O,L.options.activeArea||"dnd-sortable-area"),Tt(O,["width","height","max-width","max-height","box-sizing","padding-left","padding-top","padding-right","padding-bottom"],O[it].style),B&&Ct(B,L.options.closestItem||"dnd-sortable-closest"),Ct(C,L.options.activeItem||"dnd-sortable-dragged"),p.forEach(function(t){Tt(t,["position","box-sizing","overflow","top","left","width","height","transform","transition"]),t[it]=null}),O[it]=null,$&&($[it]=null),h=!1)},et=Et===N?function(t,n,e,o){var i,r=n;if(nt){if(e<0){for(a=t[vt],z(t,n,e),t[it].prev.line=t[it].line,t[it].prev[ft]=t[it][rt][ft],t[it].prev[ct]=t[it][rt][ct],t[it].line=n[it].line,t[it][rt][ft]=n[it][rt][ft],t[it][rt][ct]=n[it][rt][ct],j[lt][ft]=St(t[it][rt][ft]-O[it][rt][ft]+O[it][at][ft])+"px",j[lt][ct]=St(t[it][rt][ct]-O[it][rt][ct]+O[it][at][ct])+"px";(i=n[vt])&&i!==a;)n[it].animation&&n[it].animation.stop(),n[it].index++,n[it].prev.line=n[it].line,n[it].prev[ft]=n[it][rt][ft],n[it].prev[ct]=n[it][rt][ct],n[it].line=i[it].line,n[it][rt][ft]=i[it][rt][ft],n[it][rt][ct]=i[it][rt][ct],n[lt][ft]=St(n[it][rt][ft]-O[it][rt][ft]+O[it][at][ft]-n[it][st][ft])+"px",n[lt][ct]=St(n[it][rt][ct]-O[it][rt][ct]+O[it][at][ct]-n[it][st][ct])+"px",n=i;n[it].animation&&n[it].animation.stop(),n[it].index++,n[it].prev.line=n[it].line,n[it].prev[ft]=n[it][rt][ft],n[it].prev[ct]=n[it][rt][ct],n[it].line=t[it].prev.line,n[it][rt][ft]=t[it].prev[ft],n[it][rt][ct]=t[it].prev[ct],n[lt][ft]=St(n[it][rt][ft]-O[it][rt][ft]+O[it][at][ft]-n[it][st][ft])+"px",n[lt][ct]=St(n[it][rt][ct]-O[it][rt][ct]+O[it][at][ct]-n[it][st][ct])+"px"}else if(0<e){for(a=t[vt],z(t,n,e),n=a,(i=t)[it].prev.line=i[it].line,i[it].prev[ft]=i[it][rt][ft],i[it].prev[ct]=i[it][rt][ct];n[it].animation&&n[it].animation.stop(),n[it].index--,n[it].prev.line=n[it].line,n[it].prev[ft]=n[it][rt][ft],n[it].prev[ct]=n[it][rt][ct],n[it].line=i[it].prev.line,n[it][rt][ft]=i[it].prev[ft],n[it][rt][ct]=i[it].prev[ct],n[lt][ft]=St(n[it][rt][ft]-O[it][rt][ft]+O[it][at][ft]-n[it][st][ft])+"px",n[lt][ct]=St(n[it][rt][ct]-O[it][rt][ct]+O[it][at][ct]-n[it][st][ct])+"px",(n=(i=n)[vt])&&n!==j;);t[it].line=i[it].prev.line,t[it][rt][ft]=i[it].prev[ft],t[it][rt][ct]=i[it].prev[ct],j[lt][ft]=St(t[it][rt][ft]-O[it][rt][ft]+O[it][at][ft])+"px",j[lt][ct]=St(t[it][rt][ct]-O[it][rt][ct]+O[it][at][ct])+"px"}}else{e<0?(i=j[gt],a=n[gt]||n,z(t,n,e)):0<e&&(i=t[vt],a=j[gt]||t[vt],z(t,n,e)),function(t,n,e,o){for(t=t[e<0?vt:gt];t;){if(t!==o&&(t[it].index+=e<0?1:-1),t===n)return;t=t[e<0?vt:gt]}}(t,i,e,j);for(var a,l,s=a=function(t,n){for(var e;(e=t[gt])&&e[it]&&e[it].line>=n;)t=e;return t}(a,e=a[it].line),p=e,c=O,u=t,d=j,f=ct,m=dt,h=ut,v=0;s;)s!==d&&(s[it]&&s[it].animation&&s[it].animation.stop(),l=s[it][st][f]+s[it][rt][m]+s[it][st][h],0<v&&c[it][pt][f]+v+l+c[it][pt][h]>c[it][rt][m]&&(p++,v=0),s[it].line=p,s[it].prev[f]=s[it][rt][f],s[it][rt][f]=c[it][rt][f]-c[it][at][f]+c[it][pt][f]+v+s[it][st][f],(s===u?d:s)[lt][f]=St(s[it][rt][f]-c[it][rt][f]+c[it][at][f]-(s===u?0:s[it][st][f]))+"px",v+=l),s=s[vt];for(var g,x,b,w=a,y=R,E=O,I=t,S=j,L=ft,N=ht,C=mt,e=w,B=w[it].line,P=0;w;)w!==S&&(g=w[it].line,b=w[it][st][L]+w[it][rt][N]+w[it][st][C],P=g===B?It.max(P,b):(y[g]=y[B]+P,B=g,b)),w=w[vt];for(0<P&&(y[B+1]=y[B]+P),w=e;w;)w!==S&&(x=y[g=w[it].line],w[it].prev[L]=w[it][rt][L],"bottom"===w[it].$.verticalAlign?w[it][rt][L]=E[it][rt][L]-E[it][at][L]+y[g+1]-w[it][rt][N]-w[it][st][C]:w[it][rt][L]=E[it][rt][L]-E[it][at][L]+x+w[it][st][L],(w===I?S:w)[lt][L]=St(w[it][rt][L]-(w===I?0:w[it][st][L])-E[it][rt][L]+E[it][at][L])+"px"),w=w[vt]}$t(r,o,{top:r[it][rt][ft]-r[it].prev[ft],left:r[it][rt][ct]-r[it].prev[ct]})}:function(t,n,e,o){var i,r,a=n,l=0,s=0;if(e<0){for(r=t[vt],z(t,n,e),t[it].prev[U]=t[it][rt][U],s=t[it][st][U]-n[it][st][U],t[it][rt][U]=n[it][rt][U]+s,j[lt][U]=St(t[it][rt][U]-O[it][rt][U]+O[it][at][U])+"px",l=t[it][rt][Q]-n[it][rt][Q],s+=t[it][st][d]-n[it][st][d];(i=n[vt])&&i!==r;)n[it].animation&&n[it].animation.stop(),n[it].index++,n[it].prev[U]=n[it][rt][U],s+=n[it][st][U]-i[it][st][U],n[it][rt][U]=i[it][rt][U]+l+s,s+=n[it][st][d]-i[it][st][d],n[lt][U]=St(n[it][rt][U]-O[it][rt][U]+O[it][at][U]-n[it][st][U])+"px",l+=n[it][rt][Q]-i[it][rt][Q],n=i;n[it].animation&&n[it].animation.stop(),n[it].index++,n[it].prev[U]=n[it][rt][U],n[it][rt][U]=t[it].prev[U]+l+s-t[it][st][U]+n[it][st][U],n[lt][U]=St(n[it][rt][U]-O[it][rt][U]+O[it][at][U]-n[it][st][U])+"px"}else if(0<e){for(r=t[vt],z(t,n,e),n=r,l=s=0,(i=t)[it].prev[U]=i[it][rt][U];n[it].animation&&n[it].animation.stop(),n[it].index--,n[it].prev[U]=n[it][rt][U],s+=n[it][st][U]-i[it][st][U],n[it][rt][U]=i[it].prev[U]+l+s,n[lt][U]=St(n[it][rt][U]-O[it][rt][U]+O[it][at][U]-n[it][st][U])+"px",l+=-(i[it][rt][Q]-n[it][rt][Q]),s+=n[it][st][d]-i[it][st][d],(n=(i=n)[vt])&&n!==j;);t[it][rt][U]=i[it].prev[U]+l+s-i[it][st][U]+t[it][st][U],j[lt][U]=St(t[it][rt][U]-O[it][rt][U]+O[it][at][U])+"px"}(e={})[U]=a[it][rt][U]-a[it].prev[U],$t(a,o,e)},ot=Et===N?Ot:Pt,x=(i=g,r=!(e=function(t){Z=(u?t.touches[0]:t).clientX,_=(u?t.touches[0]:t).clientY}),function(){r||(e.apply(this,arguments),r=!0,setTimeout(function(){r=!1},i))}),b=function(){var t,n,e,o,i,r,a,l,s,p,c,u,d,f,m,h,v=0,g=ft,x=ht,b=ct,w=dt,y=0,E=0,I=!1,S=!1;wt===N&&(b=ft,w=ht),e=(n=Z)-k,o=(t=_)-D,F=0===F?e:F,M=0===M?o:M,V=0!=e?Lt(e):0!==F?Lt(F):V,X=0!=o?Lt(o):0!==M?Lt(M):X,k=n,D=t,Y=(l=$)?{top:l[xt]-l[it][at].top0||0,left:l[bt]-l[it][at].left0||0}:{top:0,left:0},yt!==N&&(C[it].r[ft]=D-H+C[it][rt][ft],C[lt][ft]=St(C[it].r[ft]-O[it][rt][ft]+O[it][at][ft]-C[it][st][ft]+Y[ft])+"px",S=o*M<0),wt!==N&&(C[it].r[ct]=k-W+C[it][rt][ct],C[lt][ct]=St(C[it].r[ct]-O[it][rt][ct]+O[it][at][ct]-C[it][st][ct]+Y[ct])+"px",I=e*F<0),L.options.autoscroll&&$&&(!K||I||S)&&(K&&(clearInterval(K),K=null),I=l=T===$?(s=$[it][rt][dt],r=$[it][rt][ht],a=i=0,1.5):(s=$[it][rt][ut],i=$[it][rt][ct],r=$[it][rt][mt],a=$[it][rt][ft],1.2),wt!==N&&(0<V&&$[bt]+$[it][rt][dt]<$[it][at][dt]&&C[it].r[ct]+C[it].r[dt]>=s||V<0&&0<$[bt]&&C[it].r[ct]<=i)&&(y=It.round(V*l*C[it].r[dt])),yt!==N&&(0<X&&$[xt]+$[it][rt][ht]<$[it][at][ht]&&C[it].r[ft]+C[it].r[ht]>=r||X<0&&0<$[xt]&&C[it].r[ft]<=a)&&(E=It.round(X*I*C[it].r[ht])),y||E)&&(S=It.abs(y)>It.abs(E)?y:0,s=It.abs(E)>=It.abs(y)?E:0,p=L.options.scrollAnimationMs||0,c=1e3/60,u=$[xt]||0,d=$[bt]||0,f=0,m=S/(p||c),h=s/(p||c),K=setInterval(function(){f+=c,u+=h*c,d+=m*c,$[xt]=It.min(It.max(0,u),$[it][at][ht]-$[it][rt][ht]),$[bt]=It.min(It.max(0,d),$[it][at][dt]-$[it][rt][dt]),K&&p<=f&&(clearInterval(K),K=null)},c)),F=e,M=o,i=C[it].r[ct]+C[it].r[dt]/2,l=C[it].r[ft]+C[it].r[ht]/2,r=C[it].r[b],a=function(t){for(var n=1,e=arguments,o=e.length;n<o;++n)t.push.apply(t,e[n]);return t}(Bt(J,n,t),wt===N?[]:Bt(J,C[it].r[ct]+2,l),wt===N?[]:Bt(J,C[it].r[ct]+C[it].r[dt]-2,l),yt===N?[]:Bt(J,i,C[it].r[ft]+2),yt===N?[]:Bt(J,i,C[it].r[ft]+C[it].r[ht]-2)).reduce(function(t,n){var e;return n!==C&&n!==j&&n.parentNode===O&&(e=ot(C,n,Y,U,Q),v<e)&&(v=e,t=n),t},null),I=Et===N?(a=!(a=!a&&C!==P&&0<=P[it][rt][b]-Y[b]-(r+C[it][rt][w])&&P[it][rt][b]-Y[b]-(r+C[it][rt][w])<25&&.7<(v=Pt(C,P,Y,g,x))?P:a)&&C!==A&&0<=r-(A[it][rt][b]-Y[b]+A[it][rt][w])&&r-(A[it][rt][b]-Y[b]+A[it][rt][w])<25&&.7<(v=Pt(C,A,Y,g,x))?A:a)?a[it].index-C[it].index:It.abs(X)>=It.abs(V)?X:V:(!(a=!a&&C!==P&&P[it][rt][b]-Y[b]>r+C[it][rt][w]?P:a)&&C!==A&&r>A[it][rt][b]-Y[b]+A[it][rt][w]&&(a=A),yt===N?V:X),B&&(q<0&&0<I&&G<.5||0<q&&I<0&&G<.5||a&&B!==a&&G<v||!ot(C,B,Y,U,Q))&&(Ct(B,L.options.closestItem||"dnd-sortable-closest"),G=0,B=null),!B&&a&&v&&(B=a,q=0<I?1:-1,G=v,tt=!1),B&&((v=v||ot(C,B,Y,U,Q))?.2<(G=v)?(Nt(B,L.options.closestItem||"dnd-sortable-closest"),.5<v&&!tt&&(W-=C[it][rt][ct],H-=C[it][rt][ft],tt=!0,et(C,B,q,L.options.animationMs||0),W+=C[it][rt][ct],H+=C[it][rt][ft])):Ct(B,L.options.closestItem||"dnd-sortable-closest"):(Ct(B,L.options.closestItem||"dnd-sortable-closest"),G=0,B=null))},m=function(t){var n=C;a(),f(),y(L.options.onEnd)&&L.options.onEnd(n)};L.start=L.options.callable?function(){c||(c=!(n=!1),L.handle=t)}:function(){c||(c=!0,n)||(n=!0,I(document,"touchstart",t,{capture:!0,passive:!1}),I(document,"mousedown",t,{capture:!0,passive:!1}))},L.stop=function(){L.handle=null,c=!1,n&&(l(document,"touchstart",t,{capture:!0,passive:!1}),l(document,"mousedown",t,{capture:!0,passive:!1}),n=!1),a(),f()}}function a(t,n){var e=this;if(!(e instanceof a))return new a(t,n);switch(e.options=n||{},(t=St(t)).toLowerCase()){case"unrestricted":r(e,Et);break;case"horizontal":r(e,yt);break;case"vertical":r(e,wt);break;default:throw new TypeError("AreaSortable invalid sort mode:"+t)}e.start()}return window.Element&&!o.call(window.Element.prototype,it)&&(window.Element.prototype[it]=null),a.VERSION="1.2.2",a.prototype={constructor:a,options:null,start:null,handle:null,stop:null,dispose:function(){var t=this;return t.stop&&t.stop(),t.options=null,t.start=null,t.handle=null,t.stop=null,t}},a});
function _toConsumableArray(r){if(Array.isArray(r)){for(var a=0,n=Array(r.length);a<r.length;a++)n[a]=r[a];return n}return Array.from(r)}function createPngDataTable(){for(var r=new Int32Array(256),a=0;a<256;a++){for(var n=a,e=0;e<8;e++)n=1&n?3988292384^n>>>1:n>>>1;r[a]=n}return r}function calcCrc(r){var a=-1;pngDataTable=pngDataTable||createPngDataTable();for(var n=0;n<r.length;n++)a=pngDataTable[255&(a^r[n])]^a>>>8;return-1^a}var pngDataTable=void 0,PNG="image/png",JPEG="image/jpeg",b64PhysSignature1="AAlwSFlz",b64PhysSignature2="AAAJcEhZ",b64PhysSignature3="AAAACXBI",_P="p".charCodeAt(0),_H="H".charCodeAt(0),_Y="Y".charCodeAt(0),_S="s".charCodeAt(0);function changeDpiBlob(t,i){var a=t.slice(0,33);return new Promise(function(n,r){var e=new FileReader;e.onload=function(){var r=new Uint8Array(e.result),a=t.slice(33),r=changeDpiOnArray(r,i,t.type);n(new Blob([r,a],{type:t.type}))},e.readAsArrayBuffer(a)})}function changeDpiDataUrl(r,a){for(var r=r.split(","),n=r[0],r=r[1],e=void 0,t=void 0,i=!1,o=(-1!==n.indexOf(PNG)&&(e=PNG,0<=(o=detectPhysChunkFromDataUrl(r))?(t=4*Math.ceil((o+28)/3),i=!0):t=44),-1!==n.indexOf(JPEG)&&(e=JPEG,t=24),r.substring(0,t)),r=r.substring(t),c=atob(o),h=new Uint8Array(c.length),u=0;u<h.length;u++)h[u]=c.charCodeAt(u);t=changeDpiOnArray(h,a,e,i);return[n,",",btoa(String.fromCharCode.apply(String,_toConsumableArray(t))),r].join("")}function detectPhysChunkFromDataUrl(r){var a=r.indexOf(b64PhysSignature1);return a=-1===(a=-1===a?r.indexOf(b64PhysSignature2):a)?r.indexOf(b64PhysSignature3):a}function searchStartOfPhys(r){for(var a=r.length-1;4<=a;a--)if(9===r[a-4]&&r[a-3]===_P&&r[a-2]===_H&&r[a-1]===_Y&&r[a]===_S)return a-3}function changeDpiOnArray(r,a,n,e){var t;return n===JPEG?(r[13]=1,r[14]=a>>8,r[15]=255&a,r[16]=a>>8,r[17]=255&a,r):n===PNG?(a*=39.3701,(n=new Uint8Array(13))[0]=_P,n[1]=_H,n[2]=_Y,n[3]=_S,n[4]=a>>>24,n[5]=a>>>16,n[6]=a>>>8,n[7]=255&a,n[8]=n[4],n[9]=n[5],n[10]=n[6],n[11]=n[7],n[12]=1,a=calcCrc(n),(t=new Uint8Array(4))[0]=a>>>24,t[1]=a>>>16,t[2]=a>>>8,t[3]=255&a,e?(a=searchStartOfPhys(r),r.set(n,a),r.set(t,a+13),r):((e=new Uint8Array(4))[0]=0,e[1]=0,e[2]=0,e[3]=9,(a=new Uint8Array(54)).set(r,0),a.set(e,33),a.set(n,37),a.set(t,50),a)):void 0}
!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.download=t()}(this,function(){return function t(e,n,o){function a(e){return String(e)}var i=window,r="application/octet-stream",d=o||r,o=!n&&!o&&e,c=document.createElement("a"),l=i.Blob||i.MozBlob||i.WebKitBlob||a,s=n||"download",l=l.call?l.bind(i):Blob;if("true"===String(this)&&(d=(e=[e,d])[0],e=e[1]),o&&o.length<2048){var u,s=o.split("/").pop().split("?")[0];if(c.href=o,-1!==c.href.indexOf(o))return(u=new XMLHttpRequest).open("GET",o,!0),u.responseType="blob",u.onload=function(e){t(e.target.response,s,r)},setTimeout(function(){u.send()},0),u}if(/^data\:[\w+\-]+\/[\w+\-]+[,;]/.test(e)){if(!(2096103.424<e.length&&l!==a))return navigator.msSaveBlob?navigator.msSaveBlob(f(e),s):p(e);d=(e=f(e)).type||r}function f(e){for(var e=e.split(/[:;,]/),t=e[1],n=("base64"==e[2]?atob:decodeURIComponent)(e.pop()),o=n.length,a=0,i=new Uint8Array(o);a<o;++a)i[a]=n.charCodeAt(a);return new l([i],{type:t})}function p(e,t){var n;return"download"in c?(c.href=e,c.setAttribute("download",s),c.className="download-js-link",c.innerHTML="downloading...",c.style.display="none",document.body.appendChild(c),setTimeout(function(){c.click(),document.body.removeChild(c),!0===t&&setTimeout(function(){i.URL.revokeObjectURL(c.href)},250)},66),!0):/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent)?(e=e.replace(/^data:([\w\/\-\+]+)/,r),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0):(n=document.createElement("iframe"),document.body.appendChild(n),t||(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,r)),n.src=e,void setTimeout(function(){document.body.removeChild(n)},333))}if(n=e instanceof l?e:new l([e],{type:d}),navigator.msSaveBlob)return navigator.msSaveBlob(n,s);if(i.URL)p(i.URL.createObjectURL(n),!0);else{if("string"==typeof n||n.constructor===a)try{return p("data:"+d+";base64,"+i.btoa(n))}catch(e){return p("data:"+d+","+encodeURIComponent(n))}(o=new FileReader).onload=function(e){p(this.result)},o.readAsDataURL(n)}return!0}});
if(this.JpegMeta)throw Error("Library included multiple times");var JpegMeta={stringIsClean:function(e){for(var t=0;t<e.length;t++)if(e.charCodeAt(t)<32)return!1;return!0},parseNum:function(e,t,i,a){var r,n,o=">"===e;for(void 0===i&&(i=0),void 0===a&&(a=t.length-i),r=o?i:i+a-1;o?r<i+a:i<=r;o?r++:r--)n=(n<<=8)+t.charCodeAt(r);return n},parseSnum:function(e,t,i,a){var r,n,o,s=">"===e;for(void 0===i&&(i=0),void 0===a&&(a=t.length-i),r=s?i:i+a-1;s?r<i+a:i<=r;s?r++:r--)n=(n<<=8)+((o=void 0===o?128==(128&t.charCodeAt(r)):o)?255&~t.charCodeAt(r):t.charCodeAt(r));return n=o?-1*(n+1):n},Rational:function(e,t){return this.num=e,this.den=t||1,this}};JpegMeta.Rational.prototype.toString=function(){return 0===this.num||1===this.den?""+this.num:1===this.num?this.num+" / "+this.den:this.num/this.den},JpegMeta.Rational.prototype.asFloat=function(){return this.num/this.den},JpegMeta.MetaGroup=function(e,t){return this.fieldName=e,this.description=t,this.metaProps={},this},JpegMeta.MetaGroup.prototype._addProperty=function(e,t,i){e=new JpegMeta.MetaProp(e,t,i);this[e.fieldName]=e,this.metaProps[e.fieldName]=e},JpegMeta.MetaGroup.prototype.toString=function(){return"[MetaGroup "+this.description+"]"},JpegMeta.MetaProp=function(e,t,i){return this.fieldName=e,this.description=t,this.value=i,this},JpegMeta.MetaProp.prototype.toString=function(){return""+this.value},this.JpegMeta.JpegFile=function(e,t){var i,a,r,n=this._SOS,o=(this.metaGroups={},this._binary_data=e,this.filename=t,0);if(this._binary_data.slice(0,2)!==this._SOI_MARKER)throw new Error("Doesn't look like a JPEG file. First two bytes are "+this._binary_data.charCodeAt(0)+","+this._binary_data.charCodeAt(1)+".");for(o+=2;o<this._binary_data.length&&(r=this._binary_data.charCodeAt(o++),a=this._binary_data.charCodeAt(o++),i=o,r==this._DELIM)&&a!==n;){for(o+=JpegMeta.parseNum(">",this._binary_data,o,2);o<this._binary_data.length;)if(this._binary_data.charCodeAt(o++)==this._DELIM&&0!=this._binary_data.charCodeAt(o++)){o-=2;break}(r=this._markers[a]?(this._markers[a][0],this._markers[a][1]):void 0)&&this[r](a,i+2,o-i-2)}if(void 0===this.general)throw Error("Invalid JPEG file.");return this},this.JpegMeta.JpegFile.prototype.toString=function(){return"[JpegFile "+this.filename+" "+this.general.type+" "+this.general.pixelWidth+"x"+this.general.pixelHeight+" Depth: "+this.general.depth+"]"},this.JpegMeta.JpegFile.prototype._SOI_MARKER="ÿØ",this.JpegMeta.JpegFile.prototype._DELIM=255,this.JpegMeta.JpegFile.prototype._EOI=217,this.JpegMeta.JpegFile.prototype._SOS=218,this.JpegMeta.JpegFile.prototype._sofHandler=function(e,t){if(void 0!==this.general)throw Error("Unexpected multiple-frame image");this._addMetaGroup("general","General"),this.general._addProperty("depth","Depth",JpegMeta.parseNum(">",this._binary_data,t,1)),this.general._addProperty("pixelHeight","Pixel Height",JpegMeta.parseNum(">",this._binary_data,t+1,2)),this.general._addProperty("pixelWidth","Pixel Width",JpegMeta.parseNum(">",this._binary_data,t+3,2)),this.general._addProperty("type","Type",this._markers[e][2])},this.JpegMeta.JpegFile.prototype._commentHandler=function(e,t,i){var a,r;for(i--,a=++t,r="";a<t+i;)r+=String.fromCharCode(this._binary_data.charCodeAt(a)),a++;this._addMetaGroup("comment","Comment"),this.comment._addProperty("comment","Comment",r)},this.JpegMeta.JpegFile.prototype._JFIF_IDENT="JFIF\0",this.JpegMeta.JpegFile.prototype._JFXX_IDENT="JFXX\0",this.JpegMeta.JpegFile.prototype._EXIF_IDENT="Exif\0",this.JpegMeta.JpegFile.prototype._types={1:["BYTE",1],2:["ASCII",1],3:["SHORT",2],4:["LONG",4],5:["RATIONAL",8],6:["SBYTE",1],7:["UNDEFINED",1],8:["SSHORT",2],9:["SLONG",4],10:["SRATIONAL",8],11:["FLOAT",4],12:["DOUBLE",8]},this.JpegMeta.JpegFile.prototype._tifftags={256:["Image width","ImageWidth"],257:["Image height","ImageLength"],258:["Number of bits per component","BitsPerSample"],259:["Compression scheme","Compression",{1:"uncompressed",6:"JPEG compression"}],262:["Pixel composition","PhotmetricInerpretation",{2:"RGB",6:"YCbCr"}],274:["Orientation of image","Orientation",{1:"Normal",2:"Reverse?",3:"Upside-down",4:"Upside-down Reverse",5:"90 degree CW",6:"90 degree CW reverse",7:"90 degree CCW",8:"90 degree CCW reverse"}],277:["Number of components","SamplesPerPixel"],284:["Image data arrangement","PlanarConfiguration",{1:"chunky format",2:"planar format"}],530:["Subsampling ratio of Y to C","YCbCrSubSampling"],531:["Y and C positioning","YCbCrPositioning",{1:"centered",2:"co-sited"}],282:["X Resolution","XResolution"],283:["Y Resolution","YResolution"],296:["Resolution Unit","ResolutionUnit",{2:"inches",3:"centimeters"}],273:["Image data location","StripOffsets"],278:["Number of rows per strip","RowsPerStrip"],279:["Bytes per compressed strip","StripByteCounts"],513:["Offset to JPEG SOI","JPEGInterchangeFormat"],514:["Bytes of JPEG Data","JPEGInterchangeFormatLength"],301:["Transfer function","TransferFunction"],318:["White point chromaticity","WhitePoint"],319:["Chromaticities of primaries","PrimaryChromaticities"],529:["Color space transformation matrix coefficients","YCbCrCoefficients"],532:["Pair of black and white reference values","ReferenceBlackWhite"],306:["Date and time","DateTime"],270:["Image title","ImageDescription"],271:["Make","Make"],272:["Model","Model"],305:["Software","Software"],315:["Person who created the image","Artist"],316:["Host Computer","HostComputer"],33432:["Copyright holder","Copyright"],34665:["Exif tag","ExifIfdPointer"],34853:["GPS tag","GPSInfoIfdPointer"]},this.JpegMeta.JpegFile.prototype._exiftags={36864:["Exif Version","ExifVersion"],40960:["FlashPix Version","FlashpixVersion"],40961:["Color Space","ColorSpace"],37121:["Meaning of each component","ComponentsConfiguration"],37122:["Compressed Bits Per Pixel","CompressedBitsPerPixel"],40962:["Pixel X Dimension","PixelXDimension"],40963:["Pixel Y Dimension","PixelYDimension"],37500:["Manufacturer notes","MakerNote"],37510:["User comments","UserComment"],40964:["Related audio file","RelatedSoundFile"],36867:["Date Time Original","DateTimeOriginal"],36868:["Date Time Digitized","DateTimeDigitized"],37520:["DateTime subseconds","SubSecTime"],37521:["DateTimeOriginal subseconds","SubSecTimeOriginal"],37522:["DateTimeDigitized subseconds","SubSecTimeDigitized"],33434:["Exposure time","ExposureTime"],33437:["FNumber","FNumber"],34850:["Exposure program","ExposureProgram"],34852:["Spectral sensitivity","SpectralSensitivity"],34855:["ISO Speed Ratings","ISOSpeedRatings"],34856:["Optoelectric coefficient","OECF"],37377:["Shutter Speed","ShutterSpeedValue"],37378:["Aperture Value","ApertureValue"],37379:["Brightness","BrightnessValue"],37380:["Exposure Bias Value","ExposureBiasValue"],37381:["Max Aperture Value","MaxApertureValue"],37382:["Subject Distance","SubjectDistance"],37383:["Metering Mode","MeteringMode"],37384:["Light Source","LightSource"],37385:["Flash","Flash"],37386:["Focal Length","FocalLength"],37396:["Subject Area","SubjectArea"],41483:["Flash Energy","FlashEnergy"],41484:["Spatial Frequency Response","SpatialFrequencyResponse"],41486:["Focal Plane X Resolution","FocalPlaneXResolution"],41487:["Focal Plane Y Resolution","FocalPlaneYResolution"],41488:["Focal Plane Resolution Unit","FocalPlaneResolutionUnit"],41492:["Subject Location","SubjectLocation"],41493:["Exposure Index","ExposureIndex"],41495:["Sensing Method","SensingMethod"],41728:["File Source","FileSource"],41729:["Scene Type","SceneType"],41730:["CFA Pattern","CFAPattern"],41985:["Custom Rendered","CustomRendered"],41986:["Exposure Mode","Exposure Mode"],41987:["White Balance","WhiteBalance"],41988:["Digital Zoom Ratio","DigitalZoomRatio"],41989:["Focal length in 35 mm film","FocalLengthIn35mmFilm"],41990:["Scene Capture Type","SceneCaptureType"],41991:["Gain Control","GainControl"],41992:["Contrast","Contrast"],41993:["Saturation","Saturation"],41994:["Sharpness","Sharpness"],41995:["Device settings description","DeviceSettingDescription"],41996:["Subject distance range","SubjectDistanceRange"],42016:["Unique image ID","ImageUniqueID"],40965:["Interoperability tag","InteroperabilityIFDPointer"]},this.JpegMeta.JpegFile.prototype._gpstags={0:["GPS tag version","GPSVersionID"],1:["North or South Latitude","GPSLatitudeRef"],2:["Latitude","GPSLatitude"],3:["East or West Longitude","GPSLongitudeRef"],4:["Longitude","GPSLongitude"],5:["Altitude reference","GPSAltitudeRef"],6:["Altitude","GPSAltitude"],7:["GPS time (atomic clock)","GPSTimeStamp"],8:["GPS satellites usedd for measurement","GPSSatellites"],9:["GPS receiver status","GPSStatus"],10:["GPS mesaurement mode","GPSMeasureMode"],11:["Measurement precision","GPSDOP"],12:["Speed unit","GPSSpeedRef"],13:["Speed of GPS receiver","GPSSpeed"],14:["Reference for direction of movement","GPSTrackRef"],15:["Direction of movement","GPSTrack"],16:["Reference for direction of image","GPSImgDirectionRef"],17:["Direction of image","GPSImgDirection"],18:["Geodetic survey data used","GPSMapDatum"],19:["Reference for latitude of destination","GPSDestLatitudeRef"],20:["Latitude of destination","GPSDestLatitude"],21:["Reference for longitude of destination","GPSDestLongitudeRef"],22:["Longitude of destination","GPSDestLongitude"],23:["Reference for bearing of destination","GPSDestBearingRef"],24:["Bearing of destination","GPSDestBearing"],25:["Reference for distance to destination","GPSDestDistanceRef"],26:["Distance to destination","GPSDestDistance"],27:["Name of GPS processing method","GPSProcessingMethod"],28:["Name of GPS area","GPSAreaInformation"],29:["GPS Date","GPSDateStamp"],30:["GPS differential correction","GPSDifferential"]},this.JpegMeta.JpegFile.prototype._iptctags={0:["Record Version","recordVersion"],3:["Object Type Reference","objectType"],4:["Object Attribute Reference","objectAttribute"],5:["Object Name","objectName"],7:["Edit Status","editStatus"],8:["Editorial Update","editorialUpdate"],10:["Urgency","urgency"],12:["Subject Reference","subjectRef"],15:["Category","category"],20:["Supplemental Category","supplCategory"],22:["Fixture Identifier","fixtureID"],25:["Keywords","keywords"],26:["Content Location Code","contentLocCode"],27:["Content Location Name","contentLocName"],30:["Release Date","releaseDate"],35:["Release Time","releaseTime"],37:["Expiration Date","expirationDate"],38:["Expiration Time","expirationTime"],40:["Special Instructions","specialInstructions"],42:["Action Advised","actionAdvised"],45:["Reference Service","refService"],47:["Reference Date","refDate"],50:["Reference Number","refNumber"],55:["Date Created","dateCreated"],60:["Time Created","timeCreated"],62:["Digital Creation Date","digitalCreationDate"],63:["Digital Creation Time","digitalCreationTime"],65:["Originating Program","originatingProgram"],70:["Program Version","programVersion"],75:["Object Cycle","objectCycle"],80:["By-line","byline"],85:["By-line Title","bylineTitle"],90:["City","city"],92:["Sub-location","sublocation"],95:["Province/State","state"],100:["Country Code","countryCode"],101:["Country Name","countryName"],103:["Original Transmission Reference","origTransRef"],105:["Headline","headline"],110:["Credit","credit"],115:["Source","source"],116:["Copyright Notice","copyrightNotice"],118:["Contact","contact"],120:["Caption/Abstract","caption"],122:["Writer/Editor","writerEditor"],125:["Rasterized Caption","rasterizedCaption"],130:["Image Type","imageType"],131:["Image Orientation","imageOrientation"],135:["Language Identifier","languageID"],150:["Audio Type","audioType"],151:["Audio Sampling Rate","audioSamplingRate"],152:["Audio Sampling Resolution","audioSamplingRes"],153:["Audio Duration","audioDuration"],154:["Audio Outcue","audioOutcue"],200:["Preview File Format","previewFileFormat"],201:["Preview File Format Version","previewFileFormatVer"],202:["Preview Data","previewData"]},this.JpegMeta.JpegFile.prototype._markers={192:["SOF0","_sofHandler","Baseline DCT"],193:["SOF1","_sofHandler","Extended sequential DCT"],194:["SOF2","_sofHandler","Progressive DCT"],195:["SOF3","_sofHandler","Lossless (sequential)"],197:["SOF5","_sofHandler","Differential sequential DCT"],198:["SOF6","_sofHandler","Differential progressive DCT"],199:["SOF7","_sofHandler","Differential lossless (sequential)"],200:["JPG",null,"Reserved for JPEG extensions"],201:["SOF9","_sofHandler","Extended sequential DCT"],202:["SOF10","_sofHandler","Progressive DCT"],203:["SOF11","_sofHandler","Lossless (sequential)"],205:["SOF13","_sofHandler","Differential sequential DCT"],206:["SOF14","_sofHandler","Differential progressive DCT"],207:["SOF15","_sofHandler","Differential lossless (sequential)"],196:["DHT",null,"Define Huffman table(s)"],204:["DAC",null,"Define arithmetic coding conditioning(s)"],208:["RST0",null,"Restart with modulo 8 count �0�"],209:["RST1",null,"Restart with modulo 8 count �1�"],210:["RST2",null,"Restart with modulo 8 count �2�"],211:["RST3",null,"Restart with modulo 8 count �3�"],212:["RST4",null,"Restart with modulo 8 count �4�"],213:["RST5",null,"Restart with modulo 8 count �5�"],214:["RST6",null,"Restart with modulo 8 count �6�"],215:["RST7",null,"Restart with modulo 8 count �7�"],216:["SOI",null,"Start of image"],217:["EOI",null,"End of image"],218:["SOS",null,"Start of scan"],219:["DQT",null,"Define quantization table(s)"],220:["DNL",null,"Define number of lines"],221:["DRI",null,"Define restart interval"],222:["DHP",null,"Define hierarchical progression"],223:["EXP",null,"Expand reference component(s)"],224:["APP0","_app0Handler","Reserved for application segments"],225:["APP1","_app1Handler"],226:["APP2",null],227:["APP3",null],228:["APP4",null],229:["APP5",null],230:["APP6",null],231:["APP7",null],232:["APP8",null],233:["APP9",null],234:["APP10",null],235:["APP11",null],236:["APP12",null],237:["IPTC","_iptcHandler","IPTC Photo Metadata"],238:["APP14",null],239:["APP15",null],240:["JPG0",null],241:["JPG1",null],242:["JPG2",null],243:["JPG3",null],244:["JPG4",null],245:["JPG5",null],246:["JPG6",null],247:["JPG7",null],248:["JPG8",null],249:["JPG9",null],250:["JPG10",null],251:["JPG11",null],252:["JPG12",null],253:["JPG13",null],254:["COM","_commentHandler","Comment"],1:["JPG13",null]},this.JpegMeta.JpegFile.prototype._addMetaGroup=function(e,t){e=new JpegMeta.MetaGroup(e,t);return this[e.fieldName]=e,this.metaGroups[e.fieldName]=e},this.JpegMeta.JpegFile.prototype._parseIfd=function(e,t,i,a,r,n,o){for(var s,l,p,d,u,g,h,f,c,m=JpegMeta.parseNum(e,t,i+a,2),S=this._addMetaGroup(n,o),P=0;P<m;P++)if(l=JpegMeta.parseNum(e,t,s=i+a+2+12*P,2),d=JpegMeta.parseNum(e,t,s+2,2),g=JpegMeta.parseNum(e,t,s+4,4),h=JpegMeta.parseNum(e,t,s+8,4),void 0!==this._types[d]){if(p=this._types[d][0],h=(u=this._types[d][1])*g<=4?s+8:i+h,"UNDEFINED"==p)_=void 0;else if("ASCII"==p)_=(_=t.slice(h,h+g)).split("\0")[0],JpegMeta.stringIsClean(_)||(_="");else{for(var _=new Array,y=0;y<g;y++,h+=u)"BYTE"!=p&&"SHORT"!=p&&"LONG"!=p||_.push(JpegMeta.parseNum(e,t,h,u)),"SBYTE"!=p&&"SSHORT"!=p&&"SLONG"!=p||_.push(JpegMeta.parseSnum(e,t,h,u)),"RATIONAL"==p&&(f=JpegMeta.parseNum(e,t,h,4),c=JpegMeta.parseNum(e,t,h+4,4),_.push(new JpegMeta.Rational(f,c))),"SRATIONAL"==p&&(f=JpegMeta.parseSnum(e,t,h,4),c=JpegMeta.parseSnum(e,t,h+4,4),_.push(new JpegMeta.Rational(f,c))),_.push();1===g&&(_=_[0])}r.hasOwnProperty(l)?S._addProperty(r[l][1],r[l][0],_):console.log("WARNING(jpegmeta.js): Unknown tag: ",l)}},this.JpegMeta.JpegFile.prototype._jfifHandler=function(e,t){if(void 0!==this.jfif)throw Error("Multiple JFIF segments found");this._addMetaGroup("jfif","JFIF"),this.jfif._addProperty("version_major","Version Major",this._binary_data.charCodeAt(t+5)),this.jfif._addProperty("version_minor","Version Minor",this._binary_data.charCodeAt(t+6)),this.jfif._addProperty("version","JFIF Version",this.jfif.version_major.value+"."+this.jfif.version_minor.value),this.jfif._addProperty("units","Density Unit",this._binary_data.charCodeAt(t+7)),this.jfif._addProperty("Xdensity","X density",JpegMeta.parseNum(">",this._binary_data,t+8,2)),this.jfif._addProperty("Ydensity","Y Density",JpegMeta.parseNum(">",this._binary_data,t+10,2)),this.jfif._addProperty("Xthumbnail","X Thumbnail",JpegMeta.parseNum(">",this._binary_data,t+12,1)),this.jfif._addProperty("Ythumbnail","Y Thumbnail",JpegMeta.parseNum(">",this._binary_data,t+13,1))},this.JpegMeta.JpegFile.prototype._app0Handler=function(e,t){var i=this._binary_data.slice(t,t+5);i==this._JFIF_IDENT?this._jfifHandler(e,t):this._JFXX_IDENT},this.JpegMeta.JpegFile.prototype._app1Handler=function(e,t){this._binary_data.slice(t,t+5)==this._EXIF_IDENT&&this._exifHandler(e,t+6)},JpegMeta.JpegFile.prototype._exifHandler=function(e,t){if(void 0!==this.exif)throw new Error("Multiple JFIF segments found");var i,a=this._binary_data.slice(t,t+2);if("II"===a)i="<";else{if("MM"!==a)throw new Error("Malformed TIFF meta-data. Unknown endianess: "+a);i=">"}if(42!==(a=JpegMeta.parseNum(i,this._binary_data,t+2,2)))throw new Error("Malformed TIFF meta-data. Bad magic: "+a);a=JpegMeta.parseNum(i,this._binary_data,t+4,4),this._parseIfd(i,this._binary_data,t,a,this._tifftags,"tiff","TIFF"),this.tiff.ExifIfdPointer&&this._parseIfd(i,this._binary_data,t,this.tiff.ExifIfdPointer.value,this._exiftags,"exif","Exif"),this.tiff.GPSInfoIfdPointer&&(this._parseIfd(i,this._binary_data,t,this.tiff.GPSInfoIfdPointer.value,this._gpstags,"gps","GPS"),this.gps.GPSLatitude&&(a=this.gps.GPSLatitude.value[0].asFloat()+1/60*this.gps.GPSLatitude.value[1].asFloat()+1/3600*this.gps.GPSLatitude.value[2].asFloat(),"S"===this.gps.GPSLatitudeRef.value&&(a=-a),this.gps._addProperty("latitude","Dec. Latitude",a)),this.gps.GPSLongitude)&&(i=this.gps.GPSLongitude.value[0].asFloat()+1/60*this.gps.GPSLongitude.value[1].asFloat()+1/3600*this.gps.GPSLongitude.value[2].asFloat(),"W"===this.gps.GPSLongitudeRef.value&&(i=-i),this.gps._addProperty("longitude","Dec. Longitude",i))},this.JpegMeta.JpegFile.prototype._iptcHandler=function(e,t,i){this._addMetaGroup("iptc","IPTC");for(var a,r,n,o=JpegMeta.parseNum("<",this._binary_data,t+4,1),s=0;s<i;s++)if(2==JpegMeta.parseNum("<",this._binary_data,r=t+s,1)&&(n=JpegMeta.parseNum("<",this._binary_data,r+1,1),tag_desc=this._iptctags[n])){for(o=0,a=2;a<i&&28!=JpegMeta.parseNum("<",this._binary_data,r+a,1)&&2!=JpegMeta.parseNum("<",this._binary_data,r+a+1,1);)a++,o++;o&&(n=(n=this._binary_data.slice(t+s+2,t+s+2+o)).replace("\0","").trim(),this.iptc._addProperty(tag_desc[1],tag_desc[0],n),s+=o-1)}};
var QRCode;!function(){function e(t){this.mode=n.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var o=[],i=this.data.charCodeAt(e);65536<i?(o[0]=240|(1835008&i)>>>18,o[1]=128|(258048&i)>>>12,o[2]=128|(4032&i)>>>6,o[3]=128|63&i):2048<i?(o[0]=224|(61440&i)>>>12,o[1]=128|(4032&i)>>>6,o[2]=128|63&i):128<i?(o[0]=192|(1984&i)>>>6,o[1]=128|63&i):o[0]=i,this.parsedData.push(o)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function h(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function m(t,e){if(null==t.length)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&0==t[r];)r++;this.num=new Array(t.length-r+e);for(var o=0;o<t.length-r;o++)this.num[o]=t[o+r]}function u(t,e){this.totalCount=t,this.dataCount=e}function l(){this.buffer=[],this.length=0}function o(){var t=!1,e=navigator.userAgent;return t=/android/i.test(e)&&(t=!0,e=e.toString().match(/android ([0-9]\.[0-9])/i))&&e[1]?parseFloat(e[1]):t}function r(t,e){for(var r,o=1,i=(t=t,(r=encodeURI(t).toString().replace(/\%[0-9a-fA-F]{2}/g,"a")).length+(r.length!=t?3:0)),n=0,a=w.length;n<=a;n++){var s=0;switch(e){case g.L:s=w[n][0];break;case g.M:s=w[n][1];break;case g.Q:s=w[n][2];break;case g.H:s=w[n][3]}if(i<=s)break;o++}if(w.length<o)throw new Error("Too long data");return o}e.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}},h.prototype={addData:function(t){t=new e(t);this.dataList.push(t),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++)this.modules[r][o]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),7<=this.typeNumber&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=h.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var o=-1;o<=7;o++)e+o<=-1||this.moduleCount<=e+o||(this.modules[t+r][e+o]=0<=r&&r<=6&&(0==o||6==o)||0<=o&&o<=6&&(0==r||6==r)||2<=r&&r<=4&&2<=o&&o<=4)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var o=v.getLostPoint(this);(0==r||o<t)&&(t=o,e=r)}return e},createMovieClip:function(t,e,r){var o=t.createEmptyMovieClip(e,r);this.make();for(var i=0;i<this.modules.length;i++)for(var n=+i,a=0;a<this.modules[i].length;a++){var s=+a;this.modules[i][a]&&(o.beginFill(0,100),o.moveTo(s,n),o.lineTo(1+s,n),o.lineTo(1+s,1+n),o.lineTo(s,1+n),o.endFill())}return o},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=v.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var o=t[e],i=t[r];if(null==this.modules[o][i])for(var n=-2;n<=2;n++)for(var a=-2;a<=2;a++)this.modules[o+n][i+a]=-2==n||2==n||-2==a||2==a||0==n&&0==a}},setupTypeNumber:function(t){for(var e=v.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var o=!t&&1==(e>>r&1);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=o}for(r=0;r<18;r++){o=!t&&1==(e>>r&1);this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=o}},setupTypeInfo:function(t,e){for(var e=this.errorCorrectLevel<<3|e,r=v.getBCHTypeInfo(e),o=0;o<15;o++){var i=!t&&1==(r>>o&1);o<6?this.modules[o][8]=i:o<8?this.modules[o+1][8]=i:this.modules[this.moduleCount-15+o][8]=i}for(o=0;o<15;o++){i=!t&&1==(r>>o&1);o<8?this.modules[8][this.moduleCount-o-1]=i:o<9?this.modules[8][15-o-1+1]=i:this.modules[8][15-o-1]=i}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,o=this.moduleCount-1,i=7,n=0,a=this.moduleCount-1;0<a;a-=2)for(6==a&&a--;;){for(var s,h,l=0;l<2;l++)null==this.modules[o][a-l]&&(s=!1,n<t.length&&(s=1==(t[n]>>>i&1)),h=v.getMask(e,o,a-l),this.modules[o][a-l]=s=h?!s:s,-1==--i)&&(n++,i=7);if((o+=r)<0||this.moduleCount<=o){o-=r,r=-r;break}}}},h.PAD0=236,h.PAD1=17,h.createData=function(t,e,r){for(var o=u.getRSBlocks(t,e),i=new l,n=0;n<r.length;n++){var a=r[n];i.put(a.mode,4),i.put(a.getLength(),v.getLengthInBits(a.mode,t)),a.write(i)}for(var s=0,n=0;n<o.length;n++)s+=o[n].dataCount;if(i.getLengthInBits()>8*s)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+8*s+")");for(i.getLengthInBits()+4<=8*s&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=8*s)&&(i.put(h.PAD0,8),!(i.getLengthInBits()>=8*s));)i.put(h.PAD1,8);return h.createBytes(i,o)},h.createBytes=function(t,e){for(var r=0,o=0,i=0,n=new Array(e.length),a=new Array(e.length),s=0;s<e.length;s++){var h=e[s].dataCount,l=e[s].totalCount-h,o=Math.max(o,h),i=Math.max(i,l);n[s]=new Array(h);for(var u=0;u<n[s].length;u++)n[s][u]=255&t.buffer[u+r];r+=h;var h=v.getErrorCorrectPolynomial(l),g=new m(n[s],h.getLength()-1).mod(h);a[s]=new Array(h.getLength()-1);for(u=0;u<a[s].length;u++){var f=u+g.getLength()-a[s].length;a[s][u]=0<=f?g.get(f):0}}for(var d=0,u=0;u<e.length;u++)d+=e[u].totalCount;for(var c=new Array(d),p=0,u=0;u<o;u++)for(s=0;s<e.length;s++)u<n[s].length&&(c[p++]=n[s][u]);for(u=0;u<i;u++)for(s=0;s<e.length;s++)u<a[s].length&&(c[p++]=a[s][u]);return c};for(var n={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},g={L:1,M:0,Q:3,H:2},i=0,a=1,s=2,f=3,d=4,c=5,p=6,_=7,v={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;0<=v.getBCHDigit(e)-v.getBCHDigit(v.G15);)e^=v.G15<<v.getBCHDigit(e)-v.getBCHDigit(v.G15);return(t<<10|e)^v.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;0<=v.getBCHDigit(e)-v.getBCHDigit(v.G18);)e^=v.G18<<v.getBCHDigit(e)-v.getBCHDigit(v.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return v.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case i:return(e+r)%2==0;case a:return e%2==0;case s:return r%3==0;case f:return(e+r)%3==0;case d:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case c:return e*r%2+e*r%3==0;case p:return(e*r%2+e*r%3)%2==0;case _:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new m([1],0),r=0;r<t;r++)e=e.multiply(new m([1,C.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:case n.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,o=0;o<e;o++)for(var i=0;i<e;i++){for(var n=0,a=t.isDark(o,i),s=-1;s<=1;s++)if(!(o+s<0||e<=o+s))for(var h=-1;h<=1;h++)i+h<0||e<=i+h||0==s&&0==h||a!=t.isDark(o+s,i+h)||n++;5<n&&(r+=3+n-5)}for(o=0;o<e-1;o++)for(i=0;i<e-1;i++){var l=0;t.isDark(o,i)&&l++,t.isDark(o+1,i)&&l++,t.isDark(o,i+1)&&l++,t.isDark(o+1,i+1)&&l++,0!=l&&4!=l||(r+=3)}for(o=0;o<e;o++)for(i=0;i<e-6;i++)t.isDark(o,i)&&!t.isDark(o,i+1)&&t.isDark(o,i+2)&&t.isDark(o,i+3)&&t.isDark(o,i+4)&&!t.isDark(o,i+5)&&t.isDark(o,i+6)&&(r+=40);for(i=0;i<e;i++)for(o=0;o<e-6;o++)t.isDark(o,i)&&!t.isDark(o+1,i)&&t.isDark(o+2,i)&&t.isDark(o+3,i)&&t.isDark(o+4,i)&&!t.isDark(o+5,i)&&t.isDark(o+6,i)&&(r+=40);for(var u=0,i=0;i<e;i++)for(o=0;o<e;o++)t.isDark(o,i)&&u++;return r+10*(Math.abs(100*u/e/e-50)/5)}},C={glog:function(t){if(t<1)throw new Error("glog("+t+")");return C.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;256<=t;)t-=255;return C.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},t=0;t<8;t++)C.EXP_TABLE[t]=1<<t;for(t=8;t<256;t++)C.EXP_TABLE[t]=C.EXP_TABLE[t-4]^C.EXP_TABLE[t-5]^C.EXP_TABLE[t-6]^C.EXP_TABLE[t-8];for(t=0;t<255;t++)C.LOG_TABLE[C.EXP_TABLE[t]]=t;m.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var o=0;o<t.getLength();o++)e[r+o]^=C.gexp(C.glog(this.get(r))+C.glog(t.get(o)));return new m(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=C.glog(this.get(0))-C.glog(t.get(0)),r=new Array(this.getLength()),o=0;o<this.getLength();o++)r[o]=this.get(o);for(o=0;o<t.getLength();o++)r[o]^=C.gexp(C.glog(t.get(o))+e);return new m(r,0).mod(t)}},u.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],u.getRSBlocks=function(t,e){var r=u.getRsBlockTable(t,e);if(null==r)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var o=r.length/3,i=[],n=0;n<o;n++)for(var a=r[3*n+0],s=r[3*n+1],h=r[3*n+2],l=0;l<a;l++)i.push(new u(s,h));return i},u.getRsBlockTable=function(t,e){switch(e){case g.L:return u.RS_BLOCK_TABLE[4*(t-1)+0];case g.M:return u.RS_BLOCK_TABLE[4*(t-1)+1];case g.Q:return u.RS_BLOCK_TABLE[4*(t-1)+2];case g.H:return u.RS_BLOCK_TABLE[4*(t-1)+3];default:return}},l.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var r=0;r<e;r++)this.putBit(1==(t>>>e-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var w=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],D=(E.prototype.draw=function(t){function e(t,e){var r,o=document.createElementNS("http://www.w3.org/2000/svg",t);for(r in e)e.hasOwnProperty(r)&&o.setAttribute(r,e[r]);return o}var r=this._htOption,o=this._el,i=t.getModuleCount(),n=(Math.floor(r.width/i),Math.floor(r.height/i),this.clear(),e("svg",{viewBox:"0 0 "+String(i)+" "+String(i),width:"100%",height:"100%",fill:r.colorLight}));n.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),o.appendChild(n),n.appendChild(e("rect",{fill:r.colorLight,width:"100%",height:"100%"})),n.appendChild(e("rect",{fill:r.colorDark,width:"1",height:"1",id:"template"}));for(var a,s=0;s<i;s++)for(var h=0;h<i;h++)t.isDark(s,h)&&((a=e("use",{x:String(h),y:String(s)})).setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),n.appendChild(a))},E.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},E),A="svg"===document.documentElement.tagName.toLowerCase()?D:"undefined"!=typeof CanvasRenderingContext2D?function(){function t(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}function e(t,e){this._bIsPainted=!1,this._android=o(),this._htOption=e,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=e.width,this._elCanvas.height=e.height,t.appendChild(this._elCanvas),this._el=t,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null}var u,g;this._android&&this._android<=2.1&&(u=1/window.devicePixelRatio,g=CanvasRenderingContext2D.prototype.drawImage,CanvasRenderingContext2D.prototype.drawImage=function(t,e,r,o,i,n,a,s,h){if("nodeName"in t&&/img/i.test(t.nodeName))for(var l=arguments.length-1;1<=l;l--)arguments[l]=arguments[l]*u;else void 0===s&&(arguments[1]*=u,arguments[2]*=u,arguments[3]*=u,arguments[4]*=u);g.apply(this,arguments)});return e.prototype.draw=function(t){var e=this._elImage,r=this._oContext,o=this._htOption,i=t.getModuleCount(),n=o.width/i,a=o.height/i,s=Math.round(n),h=Math.round(a);e.style.display="none",this.clear();for(var l=0;l<i;l++)for(var u=0;u<i;u++){var g=t.isDark(l,u),f=u*n,d=l*a;r.strokeStyle=g?o.colorDark:o.colorLight,r.lineWidth=1,r.fillStyle=g?o.colorDark:o.colorLight,r.fillRect(f,d,n,a),r.strokeRect(Math.floor(f)+.5,Math.floor(d)+.5,s,h),r.strokeRect(Math.ceil(f)-.5,Math.ceil(d)-.5,s,h)}this._bIsPainted=!0},e.prototype.makeImage=function(){this._bIsPainted&&function(t,e){var r=this;r._fFail=e,r._fSuccess=t,null===r._bSupportDataURI?((e=document.createElement("img")).onabort=t=function(){r._bSupportDataURI=!1,r._fFail&&r._fFail.call(r)},e.onerror=t,e.onload=function(){r._bSupportDataURI=!0,r._fSuccess&&r._fSuccess.call(r)},e.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg=="):!0===r._bSupportDataURI&&r._fSuccess?r._fSuccess.call(r):!1===r._bSupportDataURI&&r._fFail&&r._fFail.call(r)}.call(this,t)},e.prototype.isPainted=function(){return this._bIsPainted},e.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},e.prototype.round=function(t){return t&&Math.floor(1e3*t)/1e3},e}():(L.prototype.draw=function(t){for(var e=this._htOption,r=this._el,o=t.getModuleCount(),i=Math.floor(e.width/o),n=Math.floor(e.height/o),a=['<table style="border:0;border-collapse:collapse;">'],s=0;s<o;s++){a.push("<tr>");for(var h=0;h<o;h++)a.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+i+"px;height:"+n+"px;background-color:"+(t.isDark(s,h)?e.colorDark:e.colorLight)+';"></td>');a.push("</tr>")}a.push("</table>"),r.innerHTML=a.join("");var r=r.childNodes[0],l=(e.width-r.offsetWidth)/2,u=(e.height-r.offsetHeight)/2;0<l&&0<u&&(r.style.margin=u+"px "+l+"px")},L.prototype.clear=function(){this._el.innerHTML=""},L);function L(t,e){this._el=t,this._htOption=e}function E(t,e){this._el=t,this._htOption=e}(QRCode=function(t,e){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:g.H},e="string"==typeof e?{text:e}:e)for(var r in e)this._htOption[r]=e[r];"string"==typeof t&&(t=document.getElementById(t)),this._htOption.useSVG&&(A=D),this._android=o(),this._el=t,this._oQRCode=null,this._oDrawing=new A(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)}).prototype.makeCode=function(t){this._oQRCode=new h(r(t,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(t),this._oQRCode.make(),this._el.title=t,this._oDrawing.draw(this._oQRCode),this.makeImage()},QRCode.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||3<=this._android)&&this._oDrawing.makeImage()},QRCode.prototype.clear=function(){this._oDrawing.clear()},QRCode.CorrectLevel=g}();
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).tinycolor=e()}(this,function(){"use strict";function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var y=/^\s+/,M=/\s+$/;function v(t,e){var r,a,n,i,o,h,s,f,u,l,c,d,g,b,m;return e=e||{},(t=t||"")instanceof v?t:this instanceof v?(c={r:0,g:0,b:0},g=null,m=b=!(d=1),d=A(d="object"==_(r="string"==typeof(r=t)?function(t){t=t.replace(y,"").replace(M,"").toLowerCase();var e,r=!1;if(x[t])t=x[t],r=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(e=T.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=T.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=T.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=T.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=T.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=T.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=T.hex8.exec(t))?{r:w(e[1]),g:w(e[2]),b:w(e[3]),a:F(e[4]),format:r?"name":"hex8"}:(e=T.hex6.exec(t))?{r:w(e[1]),g:w(e[2]),b:w(e[3]),format:r?"name":"hex"}:(e=T.hex4.exec(t))?{r:w(e[1]+""+e[1]),g:w(e[2]+""+e[2]),b:w(e[3]+""+e[3]),a:F(e[4]+""+e[4]),format:r?"name":"hex8"}:!!(e=T.hex3.exec(t))&&{r:w(e[1]+""+e[1]),g:w(e[2]+""+e[2]),b:w(e[3]+""+e[3]),format:r?"name":"hex"}}(r):r)&&(E(r.r)&&E(r.g)&&E(r.b)?(f=r.r,u=r.g,l=r.b,c={r:255*k(f,255),g:255*k(u,255),b:255*k(l,255)},b=!0,m="%"===String(r.r).substr(-1)?"prgb":"rgb"):E(r.h)&&E(r.s)&&E(r.v)?(g=H(r.s),f=H(r.v),u=r.h,l=g,f=f,u=6*k(u,360),l=k(l,100),f=k(f,100),o=Math.floor(u),c={r:255*[f,s=f*(1-(u-=o)*l),h=f*(1-l),h,u=f*(1-(1-u)*l),f][l=o%6],g:255*[u,f,f,s,h,h][l],b:255*[h,h,u,f,f,s][l]},b=!0,m="hsv"):E(r.h)&&E(r.s)&&E(r.l)&&(g=H(r.s),o=H(r.l),h=r.h,u=g,f=o,h=k(h,360),u=k(u,100),f=k(f,100),0===u?a=n=i=f:(a=p(u=2*f-(f=f<.5?f*(1+u):f+u-f*u),f,h+1/3),n=p(u,f,h),i=p(u,f,h-1/3)),c={r:255*a,g:255*n,b:255*i},b=!0,m="hsl"),r.hasOwnProperty("a"))?r.a:d),s={ok:b,format:r.format||m,r:Math.min(255,Math.max(c.r,0)),g:Math.min(255,Math.max(c.g,0)),b:Math.min(255,Math.max(c.b,0)),a:d},this._originalInput=t,this._r=s.r,this._g=s.g,this._b=s.b,this._a=s.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||s.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),void(this._ok=s.ok)):new v(t,e);function p(t,e,r){return r<0&&(r+=1),1<r&&--r,r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}}function a(t,e,r){t=k(t,255),e=k(e,255),r=k(r,255);var a,n=Math.max(t,e,r),i=Math.min(t,e,r),o=(n+i)/2;if(n==i)a=s=0;else{var h=n-i,s=.5<o?h/(2-n-i):h/(n+i);switch(n){case t:a=(e-r)/h+(e<r?6:0);break;case e:a=(r-t)/h+2;break;case r:a=(t-e)/h+4}a/=6}return{h:a,s:s,l:o}}function n(t,e,r){t=k(t,255),e=k(e,255),r=k(r,255);var a,n=Math.max(t,e,r),i=Math.min(t,e,r),o=n,h=n-i,s=0===n?0:h/n;if(n==i)a=0;else{switch(n){case t:a=(e-r)/h+(e<r?6:0);break;case e:a=(r-t)/h+2;break;case r:a=(t-e)/h+4}a/=6}return{h:a,s:s,v:o}}function e(t,e,r,a){t=[S(Math.round(t).toString(16)),S(Math.round(e).toString(16)),S(Math.round(r).toString(16))];return a&&t[0].charAt(0)==t[0].charAt(1)&&t[1].charAt(0)==t[1].charAt(1)&&t[2].charAt(0)==t[2].charAt(1)?t[0].charAt(0)+t[1].charAt(0)+t[2].charAt(0):t.join("")}function i(t,e,r,a){return[S(R(a)),S(Math.round(t).toString(16)),S(Math.round(e).toString(16)),S(Math.round(r).toString(16))].join("")}function t(t,e){e=0===e?0:e||10;t=v(t).toHsl();return t.s-=e/100,t.s=p(t.s),v(t)}function r(t,e){e=0===e?0:e||10;t=v(t).toHsl();return t.s+=e/100,t.s=p(t.s),v(t)}function o(t){return v(t).desaturate(100)}function h(t,e){e=0===e?0:e||10;t=v(t).toHsl();return t.l+=e/100,t.l=p(t.l),v(t)}function s(t,e){e=0===e?0:e||10;t=v(t).toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(-e/100*255))),t.g=Math.max(0,Math.min(255,t.g-Math.round(-e/100*255))),t.b=Math.max(0,Math.min(255,t.b-Math.round(-e/100*255))),v(t)}function f(t,e){e=0===e?0:e||10;t=v(t).toHsl();return t.l-=e/100,t.l=p(t.l),v(t)}function u(t,e){t=v(t).toHsl(),e=(t.h+e)%360;return t.h=e<0?360+e:e,v(t)}function l(t){t=v(t).toHsl();return t.h=(t.h+180)%360,v(t)}function c(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var r=v(t).toHsl(),a=[v(t)],n=360/e,i=1;i<e;i++)a.push(v({h:(r.h+i*n)%360,s:r.s,l:r.l}));return a}function d(t){var e=v(t).toHsl(),r=e.h;return[v(t),v({h:(r+72)%360,s:e.s,l:e.l}),v({h:(r+216)%360,s:e.s,l:e.l})]}function g(t,e,r){e=e||6,r=r||30;var a=v(t).toHsl(),n=360/r,i=[v(t)];for(a.h=(a.h-(n*e>>1)+720)%360;--e;)a.h=(a.h+n)%360,i.push(v(a));return i}function b(t,e){e=e||6;for(var t=v(t).toHsv(),r=t.h,a=t.s,n=t.v,i=[],o=1/e;e--;)i.push(v({h:r,s:a,v:n})),n=(n+o)%1;return i}v.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t=this.toRgb(),e=t.r/255,r=t.g/255,t=t.b/255;return.2126*(e<=.03928?e/12.92:Math.pow((.055+e)/1.055,2.4))+.7152*(r<=.03928?r/12.92:Math.pow((.055+r)/1.055,2.4))+.0722*(t<=.03928?t/12.92:Math.pow((.055+t)/1.055,2.4))},setAlpha:function(t){return this._a=A(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=n(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=n(this._r,this._g,this._b),e=Math.round(360*t.h),r=Math.round(100*t.s),t=Math.round(100*t.v);return 1==this._a?"hsv("+e+", "+r+"%, "+t+"%)":"hsva("+e+", "+r+"%, "+t+"%, "+this._roundA+")"},toHsl:function(){var t=a(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=a(this._r,this._g,this._b),e=Math.round(360*t.h),r=Math.round(100*t.s),t=Math.round(100*t.l);return 1==this._a?"hsl("+e+", "+r+"%, "+t+"%)":"hsla("+e+", "+r+"%, "+t+"%, "+this._roundA+")"},toHex:function(t){return e(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){var e=this._r,r=this._g,a=this._b,n=this._a;return e=[S(Math.round(e).toString(16)),S(Math.round(r).toString(16)),S(Math.round(a).toString(16)),S(R(n))],t&&e[0].charAt(0)==e[0].charAt(1)&&e[1].charAt(0)==e[1].charAt(1)&&e[2].charAt(0)==e[2].charAt(1)&&e[3].charAt(0)==e[3].charAt(1)?e[0].charAt(0)+e[1].charAt(0)+e[2].charAt(0)+e[3].charAt(0):e.join("")},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*k(this._r,255))+"%",g:Math.round(100*k(this._g,255))+"%",b:Math.round(100*k(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*k(this._r,255))+"%, "+Math.round(100*k(this._g,255))+"%, "+Math.round(100*k(this._b,255))+"%)":"rgba("+Math.round(100*k(this._r,255))+"%, "+Math.round(100*k(this._g,255))+"%, "+Math.round(100*k(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(m[e(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+i(this._r,this._g,this._b,this._a),r=e;return"progid:DXImageTransform.Microsoft.gradient("+(this._gradientType?"GradientType = 1, ":"")+"startColorstr="+e+",endColorstr="+(r=t?"#"+i((e=v(t))._r,e._g,e._b,e._a):r)+")"},toString:function(t){var e=!!t,r=(t=t||this._format,!1),a=this._a<1&&0<=this._a;return e||!a||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(r=this.toRgbString()),"prgb"===t&&(r=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(r=this.toHexString()),"hex3"===t&&(r=this.toHexString(!0)),"hex4"===t&&(r=this.toHex8String(!0)),"hex8"===t&&(r=this.toHex8String()),"name"===t&&(r=this.toName()),"hsl"===t&&(r=this.toHslString()),(r="hsv"===t?this.toHsvString():r)||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return v(this.toString())},_applyModification:function(t,e){t=t.apply(null,[this].concat([].slice.call(e)));return this._r=t._r,this._g=t._g,this._b=t._b,this.setAlpha(t._a),this},lighten:function(){return this._applyModification(h,arguments)},brighten:function(){return this._applyModification(s,arguments)},darken:function(){return this._applyModification(f,arguments)},desaturate:function(){return this._applyModification(t,arguments)},saturate:function(){return this._applyModification(r,arguments)},greyscale:function(){return this._applyModification(o,arguments)},spin:function(){return this._applyModification(u,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(g,arguments)},complement:function(){return this._applyCombination(l,arguments)},monochromatic:function(){return this._applyCombination(b,arguments)},splitcomplement:function(){return this._applyCombination(d,arguments)},triad:function(){return this._applyCombination(c,[3])},tetrad:function(){return this._applyCombination(c,[4])}},v.fromRatio=function(t,e){if("object"==_(t)){var r,a={};for(r in t)t.hasOwnProperty(r)&&(a[r]="a"===r?t[r]:H(t[r]));t=a}return v(t,e)},v.equals=function(t,e){return!(!t||!e)&&v(t).toRgbString()==v(e).toRgbString()},v.random=function(){return v.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},v.mix=function(t,e,r){r=0===r?0:r||50;t=v(t).toRgb(),e=v(e).toRgb(),r/=100;return v({r:(e.r-t.r)*r+t.r,g:(e.g-t.g)*r+t.g,b:(e.b-t.b)*r+t.b,a:(e.a-t.a)*r+t.a})},v.readability=function(t,e){t=v(t),e=v(e);return(Math.max(t.getLuminance(),e.getLuminance())+.05)/(Math.min(t.getLuminance(),e.getLuminance())+.05)},v.isReadable=function(t,e,r){var a=v.readability(t,e),n=!1;switch(e=((t=(t=r)||{level:"AA",size:"small"}).level||"AA").toUpperCase(),t=(t.size||"small").toLowerCase(),(r={level:e="AA"!==e&&"AAA"!==e?"AA":e,size:t="small"!==t&&"large"!==t?"small":t}).level+r.size){case"AAsmall":case"AAAlarge":n=4.5<=a;break;case"AAlarge":n=3<=a;break;case"AAAsmall":n=7<=a}return n},v.mostReadable=function(t,e,r){for(var a,n=null,i=0,o=(r=r||{}).includeFallbackColors,h=r.level,s=r.size,f=0;f<e.length;f++)(a=v.readability(t,e[f]))>i&&(i=a,n=v(e[f]));return v.isReadable(t,n,{level:h,size:s})||!o?n:(r.includeFallbackColors=!1,v.mostReadable(t,["#fff","#000"],r))};var x=v.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},m=v.hexNames=function(t){var e,r={};for(e in t)t.hasOwnProperty(e)&&(r[t[e]]=e);return r}(x);function A(t){return t=parseFloat(t),t=isNaN(t)||t<0||1<t?1:t}function k(t,e){var r="string"==typeof(t="string"==typeof(r=t)&&-1!=r.indexOf(".")&&1===parseFloat(r)?"100%":t)&&-1!=t.indexOf("%");return t=Math.min(e,Math.max(0,parseFloat(t))),r&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function p(t){return Math.min(1,Math.max(0,t))}function w(t){return parseInt(t,16)}function S(t){return 1==t.length?"0"+t:""+t}function H(t){return t=t<=1?100*t+"%":t}function R(t){return Math.round(255*parseFloat(t)).toString(16)}function F(t){return w(t)/255}q="[\\s|\\(]+("+(C="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+C+")[,|\\s]+("+C+")\\s*\\)?",N="[\\s|\\(]+("+C+")[,|\\s]+("+C+")[,|\\s]+("+C+")[,|\\s]+("+C+")\\s*\\)?";var C,q,N,T={CSS_UNIT:new RegExp(C),rgb:new RegExp("rgb"+q),rgba:new RegExp("rgba"+N),hsl:new RegExp("hsl"+q),hsla:new RegExp("hsla"+N),hsv:new RegExp("hsv"+q),hsva:new RegExp("hsva"+N),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function E(t){return T.CSS_UNIT.exec(t)}return v});
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Picker=e()}(this,function(){"use strict";function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var t=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t};function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var u=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){var n=e,i=[],r=!0,e=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done)&&(i.push(o.value),!n||i.length!==n);r=!0);}catch(t){e=!0,s=t}finally{try{!r&&a.return&&a.return()}finally{if(e)throw s}}return i}throw new TypeError("Invalid attempt to destructure non-iterable instance")},e=(String.prototype.startsWith=String.prototype.startsWith||function(t){return 0===this.indexOf(t)},String.prototype.padStart=String.prototype.padStart||function(t,e){for(var n=this;n.length<t;)n=e+n;return n},{cb:"0f8ff",tqw:"aebd7",q:"-ffff",qmrn:"7fffd4",zr:"0ffff",bg:"5f5dc",bsq:"e4c4",bck:"---",nch:"ebcd",b:"--ff",bvt:"8a2be2",brwn:"a52a2a",brw:"deb887",ctb:"5f9ea0",hrt:"7fff-",chcT:"d2691e",cr:"7f50",rnw:"6495ed",crns:"8dc",crms:"dc143c",cn:"-ffff",Db:"--8b",Dcn:"-8b8b",Dgnr:"b8860b",Dgr:"a9a9a9",Dgrn:"-64-",Dkhk:"bdb76b",Dmgn:"8b-8b",Dvgr:"556b2f",Drng:"8c-",Drch:"9932cc",Dr:"8b--",Dsmn:"e9967a",Dsgr:"8fbc8f",DsTb:"483d8b",DsTg:"2f4f4f",Dtrq:"-ced1",Dvt:"94-d3",ppnk:"1493",pskb:"-bfff",mgr:"696969",grb:"1e90ff",rbrc:"b22222",rwht:"af0",stg:"228b22",chs:"-ff",gnsb:"dcdcdc",st:"8f8ff",g:"d7-",gnr:"daa520",gr:"808080",grn:"-8-0",grnw:"adff2f",hnw:"0fff0",htpn:"69b4",nnr:"cd5c5c",ng:"4b-82",vr:"0",khk:"0e68c",vnr:"e6e6fa",nrb:"0f5",wngr:"7cfc-",mnch:"acd",Lb:"add8e6",Lcr:"08080",Lcn:"e0ffff",Lgnr:"afad2",Lgr:"d3d3d3",Lgrn:"90ee90",Lpnk:"b6c1",Lsmn:"a07a",Lsgr:"20b2aa",Lskb:"87cefa",LsTg:"778899",Lstb:"b0c4de",Lw:"e0",m:"-ff-",mgrn:"32cd32",nn:"af0e6",mgnt:"-ff",mrn:"8--0",mqm:"66cdaa",mmb:"--cd",mmrc:"ba55d3",mmpr:"9370db",msg:"3cb371",mmsT:"7b68ee","":"-fa9a",mtr:"48d1cc",mmvt:"c71585",mnLb:"191970",ntc:"5fffa",mstr:"e4e1",mccs:"e4b5",vjw:"dead",nv:"--80",c:"df5e6",v:"808-0",vrb:"6b8e23",rng:"a5-",rngr:"45-",rch:"da70d6",pgnr:"eee8aa",pgrn:"98fb98",ptrq:"afeeee",pvtr:"db7093",ppwh:"efd5",pchp:"dab9",pr:"cd853f",pnk:"c0cb",pm:"dda0dd",pwrb:"b0e0e6",prp:"8-080",cc:"663399",r:"--",sbr:"bc8f8f",rb:"4169e1",sbrw:"8b4513",smn:"a8072",nbr:"4a460",sgrn:"2e8b57",ssh:"5ee",snn:"a0522d",svr:"c0c0c0",skb:"87ceeb",sTb:"6a5acd",sTgr:"708090",snw:"afa",n:"-ff7f",stb:"4682b4",tn:"d2b48c",t:"-8080",thst:"d8bfd8",tmT:"6347",trqs:"40e0d0",vt:"ee82ee",whT:"5deb3",wht:"",hts:"5f5f5",w:"-",wgrn:"9acd32"});function r(t,e){e=1<arguments.length&&void 0!==e?e:1;return(0<e?t.toFixed(e).replace(/0+$/,"").replace(/\.$/,""):t.toString())||"0"}t(d,[{key:"printRGB",value:function(t){var e=(t?this.rgba:this.rgba.slice(0,3)).map(function(t,e){return r(t,3===e?3:0)});return t?"rgba("+e+")":"rgb("+e+")"}},{key:"printHSL",value:function(t){var n=[360,100,100,1],i=["","%","%",""],e=(t?this.hsla:this.hsla.slice(0,3)).map(function(t,e){return r(t*n[e],3===e?3:1)+i[e]});return t?"hsla("+e+")":"hsl("+e+")"}},{key:"printHex",value:function(t){var e=this.hex;return t?e:e.substring(0,7)}},{key:"rgba",get:function(){if(this._rgba)return this._rgba;if(this._hsla)return this._rgba=d.hslToRgb(this._hsla);throw new Error("No color is set")},set:function(t){3===t.length&&(t[3]=1),this._rgba=t,this._hsla=null}},{key:"rgbString",get:function(){return this.printRGB()}},{key:"rgbaString",get:function(){return this.printRGB(!0)}},{key:"hsla",get:function(){if(this._hsla)return this._hsla;if(this._rgba)return this._hsla=d.rgbToHsl(this._rgba);throw new Error("No color is set")},set:function(t){3===t.length&&(t[3]=1),this._hsla=t,this._rgba=null}},{key:"hslString",get:function(){return this.printHSL()}},{key:"hslaString",get:function(){return this.printHSL(!0)}},{key:"hex",get:function(){return"#"+this.rgba.map(function(t,e){return(e<3?t:Math.round(255*t)).toString(16)}).map(function(t){return t.padStart(2,"0")}).join("")},set:function(t){this.rgba=d.hexToRgb(t)}}],[{key:"hexToRgb",value:function(t){var e=(t.startsWith("#")?t.slice(1):t).replace(/^(\w{3})$/,"$1F").replace(/^(\w)(\w)(\w)(\w)$/,"$1$1$2$2$3$3$4$4").replace(/^(\w{6})$/,"$1FF");if(e.match(/^([0-9a-fA-F]{8})$/))return(e=e.match(/^(\w\w)(\w\w)(\w\w)(\w\w)$/).slice(1).map(function(t){return parseInt(t,16)}))[3]=e[3]/255,e;throw new Error("Unknown hex color; "+t)}},{key:"nameToRgb",value:function(t){t=t.toLowerCase().replace("at","T").replace(/[aeiouyldf]/g,"").replace("ght","L").replace("rk","D").slice(-5,4),t=e[t];return void 0===t?t:d.hexToRgb(t.replace(/\-/g,"00").padStart(6,"f"))}},{key:"rgbToHsl",value:function(t){var t=u(t,4),e=t[0],n=t[1],i=t[2],t=t[3],r=(e/=255,n/=255,i/=255,Math.max(e,n,i)),s=Math.min(e,n,i),o=void 0,a=void 0,c=(r+s)/2;if(r===s)o=a=0;else{var l=r-s,a=.5<c?l/(2-r-s):l/(r+s);switch(r){case e:o=(n-i)/l+(n<i?6:0);break;case n:o=(i-e)/l+2;break;case i:o=(e-n)/l+4}o/=6}return[o,a,c,t]}},{key:"hslToRgb",value:function(t){var t=u(t,4),e=t[0],n=t[1],i=t[2],t=t[3],r=void 0,s=void 0,o=void 0,a=(0===n?r=s=o=i:(r=(a=function(t,e,n){return n<0&&(n+=1),1<n&&--n,n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t})(n=2*i-(i=i<.5?i*(1+n):i+n-i*n),i,e+1/3),s=a(n,i,e),o=a(n,i,e-1/3)),[255*r,255*s,255*o].map(Math.round));return a[3]=t,a}}]);var s=d;function d(t,e,n,i){h(this,d);var r,s,o,a,c,l=this;void 0!==t&&(Array.isArray(t)?this.rgba=t:void 0===n?(r=t&&""+t)&&((r=r.toLowerCase()).startsWith("hsl")?(o=r.match(/([\-\d\.e]+)/g).map(Number),a=(o=u(o,4))[0],c=o[1],s=o[2],o=o[3],l.hsla=[a/=360,c/=100,s/=100,o=void 0===o?1:o]):r.startsWith("rgb")?(a=r.match(/([\-\d\.e]+)/g).map(Number),s=(c=u(a,4))[0],o=c[1],a=c[2],c=c[3],l.rgba=[s,o,a,c=void 0===c?1:c]):r.startsWith("#")?l.rgba=d.hexToRgb(r):l.rgba=d.nameToRgb(r)||d.hexToRgb(r)):this.rgba=[t,e,n,void 0===i?1:i])}t(o,[{key:"add",value:function(t,e,n){t.addEventListener(e,n,!1),this._events.push({target:t,type:e,handler:n})}},{key:"remove",value:function(n,i,r){this._events=this._events.filter(function(t){var e=!0;return n&&n!==t.target&&(e=!1),i&&i!==t.type&&(e=!1),(e=r&&r!==t.handler?!1:e)&&o._doRemove(t.target,t.type,t.handler),!e})}},{key:"destroy",value:function(){this._events.forEach(function(t){return o._doRemove(t.target,t.type,t.handler)}),this._events=[]}}],[{key:"_doRemove",value:function(t,e,n){t.removeEventListener(e,n,!1)}}]);var n=o;function o(){h(this,o),this._events=[]}function a(t,s,o){var a=!1;function c(t,e,n){return Math.max(e,Math.min(t,n))}function n(t,e,n){var i,r;(a=n?!0:a)&&(t.preventDefault(),t=(n=s.getBoundingClientRect()).width,i=n.height,r=e.clientX,e=e.clientY,r=c(r-n.left,0,t),e=c(e-n.top,0,i),o(r/t,e/i))}function e(t,e){1===(void 0===t.buttons?t.which:t.buttons)?n(t,t,e):a=!1}function i(t,e){1===t.touches.length?n(t,t.touches[0],e):a=!1}t.add(s,"mousedown",function(t){e(t,!0)}),t.add(s,"touchstart",function(t){i(t,!0)}),t.add(window,"mousemove",e),t.add(s,"touchmove",i),t.add(window,"mouseup",function(t){a=!1}),t.add(s,"touchend",function(t){a=!1}),t.add(s,"touchcancel",function(t){a=!1})}var c="keydown",l="mousedown",f="focusin";function p(t,e){return(e||document).querySelector(t)}function g(t){t.preventDefault(),t.stopPropagation()}function v(t,e,n,i,r){t.add(e,c,function(t){0<=n.indexOf(t.key)&&(r&&g(t),i(t))})}function b(t){h(this,b),this.settings={popup:"right",layout:"default",alpha:!0,editor:!0,editorFormat:"hex",cancelButton:!1,defaultColor:"#0cf"},this._events=new n,this.onChange=null,this.onDone=null,this.onOpen=null,this.onClose=null,this.setOptions(t)}return t(b,[{key:"setOptions",value:function(t){var e=this;if(t){var n=this.settings;if(t instanceof HTMLElement)n.parent=t;else{n.parent&&t.parent&&n.parent!==t.parent&&(this._events.remove(n.parent),this._popupInited=!1);var i,r=t,s=n,o=void 0;for(i in r)o&&0<=o.indexOf(i)||(s[i]=r[i]);t.onChange&&(this.onChange=t.onChange),t.onDone&&(this.onDone=t.onDone),t.onOpen&&(this.onOpen=t.onOpen),t.onClose&&(this.onClose=t.onClose);var a=t.color||t.colour;a&&this._setColor(a)}var c,a=n.parent;a&&n.popup&&!this._popupInited?(this._events.add(a,"click",c=function(t){return e.openHandler(t)}),v(this._events,a,[" ","Spacebar","Enter"],c),this._popupInited=!0):t.parent&&!n.popup&&this.show()}}},{key:"openHandler",value:function(t){var e;this.show()&&(t&&t.preventDefault(),this.settings.parent.style.pointerEvents="none",e=t&&t.type===c?this._domEdit:this.domElement,setTimeout(function(){return e.focus()},100),this.onOpen)&&this.onOpen(this.colour)}},{key:"closeHandler",value:function(t){var e,n=t&&t.type,i=!1;t?n===l||n===f?(e=(this.__containedEvent||0)+100,t.timeStamp>e&&(i=!0)):(g(t),i=!0):i=!0,i&&this.hide()&&(this.settings.parent.style.pointerEvents="",n!==l&&this.settings.parent.focus(),this.onClose)&&this.onClose(this.colour)}},{key:"movePopup",value:function(t,e){this.closeHandler(),this.setOptions(t),e&&this.openHandler()}},{key:"setColor",value:function(t,e){this._setColor(t,{silent:e})}},{key:"_setColor",value:function(t,e){if(t="string"==typeof t?t.trim():t){e=e||{};var n=void 0;try{n=new s(t)}catch(t){if(e.failSilently)return;throw t}this.settings.alpha||((t=n.hsla)[3]=1,n.hsla=t),this.colour=this.color=n,this._setHSLA(null,null,null,null,e)}}},{key:"setColour",value:function(t,e){this.setColor(t,e)}},{key:"show",value:function(){var t,e,n;return!!this.settings.parent&&(this.domElement?(e=this._toggleDOM(!0),this._setPosition(),e):(e=this.settings.template||'<div class="picker_wrapper" tabindex="-1"><div class="picker_arrow"></div><div class="picker_hue picker_slider"><div class="picker_selector"></div></div><div class="picker_sl"><div class="picker_selector"></div></div><div class="picker_alpha picker_slider"><div class="picker_selector"></div></div><div class="picker_editor"><input aria-label="Type a color name or hex value"/></div><div class="picker_sample"></div><div class="picker_done"><button>Ok</button></div><div class="picker_cancel"><button>Cancel</button></div></div>',e=e,(n=document.createElement("div")).innerHTML=e,t=n.firstElementChild,this.domElement=t,this._domH=p(".picker_hue",t),this._domSL=p(".picker_sl",t),this._domA=p(".picker_alpha",t),this._domEdit=p(".picker_editor input",t),this._domSample=p(".picker_sample",t),this._domOkay=p(".picker_done button",t),this._domCancel=p(".picker_cancel button",t),t.classList.add("layout_"+this.settings.layout),this.settings.alpha||t.classList.add("no_alpha"),this.settings.editor||t.classList.add("no_editor"),this.settings.cancelButton||t.classList.add("no_cancel"),this._ifPopup(function(){return t.classList.add("popup")}),this._setPosition(),this.colour?this._updateUI():this._setColor(this.settings.defaultColor),this._bindEvents(),!0))}},{key:"hide",value:function(){return this._toggleDOM(!1)}},{key:"destroy",value:function(){this._events.destroy(),this.domElement&&this.settings.parent.removeChild(this.domElement)}},{key:"_bindEvents",value:function(){var n=this,i=this,r=this.domElement,s=this._events;function o(t,e,n){s.add(t,e,n)}o(r,"click",function(t){return t.preventDefault()}),a(s,this._domH,function(t,e){i._setHSLA(t)}),a(s,this._domSL,function(t,e){i._setHSLA(null,t,1-e)}),this.settings.alpha&&a(s,this._domA,function(t,e){i._setHSLA(null,null,null,1-e)});function t(t){n._ifPopup(function(){return n.closeHandler(t)}),n.onDone&&n.onDone(n.colour)}var e=this._domEdit;o(e,"input",function(t){i._setColor(this.value,{fromEditor:!0,failSilently:!0})}),o(e,"focus",function(t){this.selectionStart===this.selectionEnd&&this.select()}),this._ifPopup(function(){function t(t){return n.closeHandler(t)}function e(t){n.__containedEvent=t.timeStamp}o(window,l,t),o(window,f,t),v(s,r,["Esc","Escape"],t);o(r,l,e),o(r,f,e),o(n._domCancel,"click",t)});o(this._domOkay,"click",t),v(s,r,["Enter"],t)}},{key:"_setPosition",value:function(){var n=this.settings.parent,i=this.domElement;n!==i.parentNode&&n.appendChild(i),this._ifPopup(function(t){"static"===getComputedStyle(n).position&&(n.style.position="relative");var e=!0===t?"popup_right":"popup_"+t;["popup_top","popup_bottom","popup_left","popup_right"].forEach(function(t){t===e?i.classList.add(t):i.classList.remove(t)}),i.classList.add(e)})}},{key:"_setHSLA",value:function(t,e,n,i,r){r=r||{};var s=this.colour,o=s.hsla;[t,e,n,i].forEach(function(t,e){!t&&0!==t||(o[e]=t)}),s.hsla=o,this._updateUI(r),this.onChange&&!r.silent&&this.onChange(s)}},{key:"_updateUI",value:function(t){if(this.domElement){t=t||{};var e=this.colour,n=e.hsla,i="hsl("+360*n[0]+", 100%, 50%)",r=e.hslString,s=e.hslaString,o=this._domH,a=this._domSL,c=this._domA,o=p(".picker_selector",o),l=p(".picker_selector",a),c=p(".picker_selector",c),o=(d(0,o,n[0]),this._domSL.style.backgroundColor=this._domH.style.color=i,d(0,l,n[1]),f(0,l,1-n[2]),a.style.color=r,f(0,c,1-n[3]),r),i=o.replace("hsl","hsla").replace(")",", 0)");if(this._domA.style.background="linear-gradient("+[o,i]+")"+", linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0 / 2em 2em,\n                   linear-gradient(45deg, lightgrey 25%,       white 25%,       white 75%, lightgrey 75%) 1em 1em / 2em 2em",!t.fromEditor){var l=this.settings.editorFormat,h=this.settings.alpha,u=void 0;switch(l){case"rgb":u=e.printRGB(h);break;case"hsl":u=e.printHSL(h);break;default:u=e.printHex(h)}this._domEdit.value=u}this._domSample.style.color=s}function d(t,e,n){e.style.left=100*n+"%"}function f(t,e,n){e.style.top=100*n+"%"}}},{key:"_ifPopup",value:function(t,e){this.settings.parent&&this.settings.popup?t&&t(this.settings.popup):e&&e()}},{key:"_toggleDOM",value:function(t){var e,n=this.domElement;return!!n&&((e=n.style.display!==(t=t?"":"none"))&&(n.style.display=t),e)}}]),b});
!function(){function B(t,n,i){return t.call.apply(t.bind,arguments)}function L(n,i,t){var e;if(n)return 2<arguments.length?(e=Array.prototype.slice.call(arguments,2),function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,e),n.apply(i,t)}):function(){return n.apply(i,arguments)};throw Error()}function d(t,n,i){return(d=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?B:L).apply(null,arguments)}var r=Date.now||function(){return+new Date};function D(t,n){this.a=t,this.m=n||t,this.c=this.m.document}var $=!!window.FontFace;function c(t,n,i,e){if(n=t.c.createElement(n),i)for(var o in i)i.hasOwnProperty(o)&&("style"==o?n.style.cssText=i[o]:n.setAttribute(o,i[o]));return e&&n.appendChild(t.c.createTextNode(e)),n}function h(t,n,i){(t=(t=t.c.getElementsByTagName(n)[0])||document.documentElement).insertBefore(i,t.lastChild)}function i(t){t.parentNode&&t.parentNode.removeChild(t)}function g(t,n,i){n=n||[],i=i||[];for(var e=t.className.split(/\s+/),o=0;o<n.length;o+=1){for(var s=!1,a=0;a<e.length;a+=1)if(n[o]===e[a]){s=!0;break}s||e.push(n[o])}for(n=[],o=0;o<e.length;o+=1){for(s=!1,a=0;a<i.length;a+=1)if(e[o]===i[a]){s=!0;break}s||n.push(e[o])}t.className=n.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function s(t,n){for(var i=t.className.split(/\s+/),e=0,o=i.length;e<o;e++)if(i[e]==n)return!0;return!1}function k(t){var n;return"string"==typeof t.f?t.f:"https:"==(n="about:"==(n=t.m.location.protocol)?t.a.location.protocol:n)?"https:":"http:"}function T(t,n,i){function e(){a&&o&&(a(s),a=null)}n=c(t,"link",{rel:"stylesheet",href:n,media:"all"});var o=!1,s=null,a=i||null;$?(n.onload=function(){o=!0,e()},n.onerror=function(){o=!0,s=Error("Stylesheet failed to load"),e()}):setTimeout(function(){o=!0,e()},0),h(t,"head",n)}function e(t,n,i,e){var o,s,a=t.c.getElementsByTagName("head")[0];return a?(o=c(t,"script",{src:n}),s=!1,o.onload=o.onreadystatechange=function(){s||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(s=!0,i&&i(null),o.onload=o.onreadystatechange=null,"HEAD"==o.parentNode.tagName&&a.removeChild(o))},a.appendChild(o),setTimeout(function(){s||(s=!0,i&&i(Error("Script load timeout")))},e||5e3),o):null}function S(){this.a=0,this.c=null}function C(t){return t.a++,function(){t.a--,o(t)}}function A(t,n){t.c=n,o(t)}function o(t){0==t.a&&t.c&&(t.c(),t.c=null)}function a(t){this.a=t||"-"}function N(t,n){this.c=t,this.f=4,this.a="n";t=(n||"n4").match(/^([nio])([1-9])$/i);t&&(this.a=t[1],this.f=parseInt(t[2],10))}function f(t){var n=[];t=t.split(/,\s*/);for(var i=0;i<t.length;i++){var e=t[i].replace(/['"]/g,"");-1!=e.indexOf(" ")||/^\d/.test(e)?n.push("'"+e+"'"):n.push(e)}return n.join(",")}function w(t){return t.a+t.f}function l(t){var n="normal";return"o"===t.a?n="oblique":"i"===t.a&&(n="italic"),n}function q(t,n){this.c=t,this.f=t.m.document.documentElement,this.h=n,this.a=new a("-"),this.j=!1!==n.events,this.g=!1!==n.classes}function m(t){var n,i,e;t.g&&(n=s(t.f,t.a.c("wf","active")),i=[],e=[t.a.c("wf","loading")],n||i.push(t.a.c("wf","inactive")),g(t.f,i,e)),v(t,"inactive")}function v(t,n,i){t.j&&t.h[n]&&(i?t.h[n](i.c,w(i)):t.h[n]())}function H(){this.c={}}function u(t,n){this.c=t,this.f=n,this.a=c(this.c,"span",{"aria-hidden":"true"},this.f)}function p(t){h(t.c,"body",t.a)}function y(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+f(t.c)+";font-style:"+l(t)+";font-weight:"+t.f+"00;"}function b(t,n,i,e,o,s){this.g=t,this.j=n,this.a=e,this.c=i,this.f=o||3e3,this.h=s||void 0}function x(t,n,i,e,o,s,a){this.v=t,this.B=n,this.c=i,this.a=e,this.s=a||"BESbswy",this.f={},this.w=o||3e3,this.u=s||null,this.o=this.j=this.h=this.g=null,this.g=new u(this.c,this.s),this.h=new u(this.c,this.s),this.j=new u(this.c,this.s),this.o=new u(this.c,this.s),t=y(t=new N(this.a.c+",serif",w(this.a))),this.g.a.style.cssText=t,t=y(t=new N(this.a.c+",sans-serif",w(this.a))),this.h.a.style.cssText=t,t=y(t=new N("serif",w(this.a))),this.j.a.style.cssText=t,t=y(t=new N("sans-serif",w(this.a))),this.o.a.style.cssText=t,p(this.g),p(this.h),p(this.j),p(this.o)}a.prototype.c=function(t){for(var n=[],i=0;i<arguments.length;i++)n.push(arguments[i].replace(/[\W_]+/g,"").toLowerCase());return n.join(this.a)},b.prototype.start=function(){var o=this.c.m.document,s=this,a=r(),t=new Promise(function(i,e){!function n(){var t;r()-a>=s.f?e():o.fonts.load(l(t=s.a)+" "+t.f+"00 300px "+f(t.c),s.h).then(function(t){1<=t.length?i():setTimeout(n,25)},function(){e()})}()}),n=new Promise(function(t,n){setTimeout(n,s.f)});Promise.race([n,t]).then(function(){s.g(s.a)},function(){s.j(s.a)})};var j={D:"serif",C:"sans-serif"},n=null;function _(){var t;return null===n&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),n=!!t&&(parseInt(t[1],10)<536||536===parseInt(t[1],10)&&parseInt(t[2],10)<=11)),n}function E(t,n,i){for(var e in j)if(j.hasOwnProperty(e)&&n===t.f[j[e]]&&i===t.f[j[e]])return!0;return!1}function W(t){var n=t.g.a.offsetWidth,i=t.h.a.offsetWidth;n===t.f.serif&&i===t.f["sans-serif"]||_()&&E(t,n,i)?r()-t.A>=t.w?_()&&E(t,n,i)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?F(t,t.v):F(t,t.B):setTimeout(d(function(){W(this)},t),50):F(t,t.v)}function F(t,n){setTimeout(d(function(){i(this.g.a),i(this.h.a),i(this.j.a),i(this.o.a),n(this.a)},t),0)}function I(t,n,i){this.c=t,this.a=n,this.f=0,this.o=this.j=!1,this.s=i}x.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.o.a.offsetWidth,this.A=r(),W(this)};var O=null;function M(t){0==--t.f&&t.j&&(t.o?((t=t.a).g&&g(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),v(t,"active")):m(t.a))}function z(t){this.j=t,this.a=new H,this.h=0,this.f=this.g=!0}function G(t,n){this.c=t,this.a=n}function K(t,n){this.c=t,this.a=n}function R(t,n,i){this.c=t||n+"//fonts.googleapis.com/css",this.a=[],this.f=[],this.g=i||""}I.prototype.g=function(t){var n=this.a;n.g&&g(n.f,[n.a.c("wf",t.c,w(t).toString(),"active")],[n.a.c("wf",t.c,w(t).toString(),"loading"),n.a.c("wf",t.c,w(t).toString(),"inactive")]),v(n,"fontactive",t),this.o=!0,M(this)},I.prototype.h=function(t){var n,i,e,o=this.a;o.g&&(n=s(o.f,o.a.c("wf",t.c,w(t).toString(),"active")),i=[],e=[o.a.c("wf",t.c,w(t).toString(),"loading")],n||i.push(o.a.c("wf",t.c,w(t).toString(),"inactive")),g(o.f,i,e)),v(o,"fontinactive",t),M(this)},z.prototype.load=function(t){this.c=new D(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes;var e=this,n=new q(this.c,t),i=t,o=[],t=i.timeout,o=(function(t){t.g&&g(t.f,[t.a.c("wf","loading")]),v(t,"loading")}(n),function(t,n,i){var e,o,s=[];for(e in n)n.hasOwnProperty(e)&&(o=t.c[e])&&s.push(o(n[e],i));return s}(e.a,i,e.c)),s=new I(e.c,n,t);for(e.h=o.length,n=0,i=o.length;n<i;n++)o[n].load(function(t,n,i){var h,f,l,u,p;h=s,f=t,l=n,u=i,p=0==--(t=e).h,(t.f||t.g)&&setTimeout(function(){var t=u||null,n=l||{};if(0===f.length&&p)m(h.a);else{h.f+=f.length,p&&(h.j=p);for(var i=[],e=0;e<f.length;e++){var o,s=f[e],a=n[s.c],r=h.a,c=s;r.g&&g(r.f,[r.a.c("wf",c.c,w(c).toString(),"loading")]),v(r,"fontloading",c),r=(O=(r=null)===O?!!window.FontFace&&(c=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),o=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor),c?42<parseInt(c[1],10):!o):O)?new b(d(h.g,h),d(h.h,h),h.c,s,h.s,a):new x(d(h.g,h),d(h.h,h),h.c,s,h.s,t,a),i.push(r)}for(e=0;e<i.length;e++)i[e].start()}},0)})},G.prototype.load=function(a){var r,t,n=this,c=n.a.projectId,i=n.a.version;c?(r=n.c.m,e(this.c,(t=c,i=i,k(n.c)+"//"+(n.a.api||"fast.fonts.net/jsapi").replace(/^.*http(s?):(\/\/)?/,"")+"/"+t+".js"+(i?"?v="+i:"")),function(t){t?a([]):(r["__MonotypeConfiguration__"+c]=function(){return n.a},function t(){if(r["__mti_fntLst"+c]){var n,i=r["__mti_fntLst"+c](),e=[];if(i)for(var o=0;o<i.length;o++){var s=i[o].fontfamily;null!=i[o].fontStyle&&null!=i[o].fontWeight?(n=i[o].fontStyle+i[o].fontWeight,e.push(new N(s,n))):e.push(new N(s))}a(e)}else setTimeout(function(){t()},50)}())}).id="__MonotypeAPIScript__"+c):a([])},K.prototype.load=function(t){for(var n=this.a.urls||[],i=this.a.families||[],e=this.a.testStrings||{},o=new S,s=0,a=n.length;s<a;s++)T(this.c,n[s],C(o));var r=[];for(s=0,a=i.length;s<a;s++)if((n=i[s].split(":"))[1])for(var c=n[1].split(","),h=0;h<c.length;h+=1)r.push(new N(n[0],c[h]));else r.push(new N(n[0]));A(o,function(){t(r,e)})};function U(t){this.f=t,this.a=[],this.c={}}var V={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},X={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},J={i:"i",italic:"i",n:"n",normal:"n"},Q=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function Y(t,n){this.c=t,this.a=n}var Z={Arimo:!0,Cousine:!0,Tinos:!0};function tt(t,n){this.c=t,this.a=n}function nt(t,n){this.c=t,this.f=n,this.a=[]}Y.prototype.load=function(t){for(var n=new S,i=this.c,e=new R(this.a.api,k(i),this.a.text),o=this.a.families,s=e,a=o,r=a.length,c=0;c<r;c++){var h=a[c].split(":"),f=(3==h.length&&s.f.push(h.pop()),"");2==h.length&&""!=h[1]&&(f=":"),s.a.push(h.join(f))}for(var l=new U(o),u=l,p=u.f.length,d=0;d<p;d++){var g=u.f[d].split(":"),w=g[0].replace(/\+/g," "),m=["n4"];if(2<=g.length){var v,y,b=g[1],x=[];if(b)for(var j=(b=b.split(",")).length,_=0;_<j;_++)(y=!(y=b[_]).match(/^[\w-]+$/)||null==(v=Q.exec(y.toLowerCase()))?"":[y=null==(y=v[2])||""==y?"n":J[y],v=null==(v=v[1])||""==v?"4":X[v]||(isNaN(v)?"4":v.substr(0,1))].join(""))&&x.push(y);0<x.length&&(m=x),3==g.length&&(x=[],0<(g=(g=g[2])?g.split(","):x).length)&&(g=V[g[0]])&&(u.c[w]=g)}for(u.c[w]||(g=V[w])&&(u.c[w]=g),g=0;g<m.length;g+=1)u.a.push(new N(w,m[g]))}T(i,function(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var n=t.a.length,i=[],e=0;e<n;e++)i.push(t.a[e].replace(/ /g,"+"));return n=t.c+"?family="+i.join("%7C"),0<t.f.length&&(n+="&subset="+t.f.join(",")),0<t.g.length&&(n+="&text="+encodeURIComponent(t.g)),n}(e),C(n)),A(n,function(){t(l.a,l.c,Z)})},tt.prototype.load=function(a){var t=this.a.id,r=this.c.m;t?e(this.c,(this.a.api||"https://use.typekit.net")+"/"+t+".js",function(t){if(t)a([]);else if(r.Typekit&&r.Typekit.config&&r.Typekit.config.fn){t=r.Typekit.config.fn;for(var n=[],i=0;i<t.length;i+=2)for(var e=t[i],o=t[i+1],s=0;s<o.length;s++)n.push(new N(e,o[s]));try{r.Typekit.load({events:!1,classes:!1,async:!0})}catch(t){}a(n)}},2e3):a([])},nt.prototype.load=function(c){var t=this.f.id,n=this.c.m,h=this;t?(n.__webfontfontdeckmodule__||(n.__webfontfontdeckmodule__={}),n.__webfontfontdeckmodule__[t]=function(t,n){for(var i,e,o,s=0,a=n.fonts.length;s<a;++s){var r=n.fonts[s];h.a.push(new N(r.name,(r="font-weight:"+r.weight+";font-style:"+r.style,o=e=i=void 0,i=4,e="n",o=null,r&&((o=r.match(/(normal|oblique|italic)/i))&&o[1]&&(e=o[1].substr(0,1).toLowerCase()),o=r.match(/([1-9]00|normal|bold)/i))&&o[1]&&(/bold/i.test(o[1])?i=7:/[1-9]00/.test(o[1])&&(i=parseInt(o[1].substr(0,1),10))),e+i)))}c(h.a)},e(this.c,k(this.c)+(this.f.api||"//f.fontdeck.com/s/css/js/")+((n=this.c).m.location.hostname||n.a.location.hostname)+"/"+t+".js",function(t){t&&c([])})):c([])};var t=new z(window),P=(t.a.c.custom=function(t,n){return new K(n,t)},t.a.c.fontdeck=function(t,n){return new nt(n,t)},t.a.c.monotype=function(t,n){return new G(n,t)},t.a.c.typekit=function(t,n){return new tt(n,t)},t.a.c.google=function(t,n){return new Y(n,t)},{load:d(t.load,t)});"function"==typeof define&&define.amd?define(function(){return P}):"undefined"!=typeof module&&module.exports?module.exports=P:(window.WebFont=P,window.WebFontConfig&&t.load(window.WebFontConfig))}();